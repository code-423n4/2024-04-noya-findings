## Medium Issues


*Total <b>7</b> instances over <b>4</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [M-1](#M-1) | No way to retrieve ETH from the contract | 4 |
| [M-2](#M-2) | Usage of `slot0` is extremely easy to manipulate | 1 |
| [M-3](#M-3) | No check if L2 sequencer is down | 1 |
| [M-4](#M-4) | latestRoundData() has no check for round completeness | 1 |

## Low Issues


*Total <b>398</b> instances over <b>36</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [L-1](#L-1) | Missing zero address check in functions with address parameters | 87 |
| [L-2](#L-2) | Array is `push()`ed but not `pop()`ed | 2 |
| [L-3](#L-3) | Consider implementing two-step procedure for updating protocol addresses | 8 |
| [L-4](#L-4) | Constructor / initialization function lacks parameter validation | 15 |
| [L-5](#L-5) | Empty `receive()`/`fallback()` function | 3 |
| [L-6](#L-6) | Code does not follow the best practice of check-effects-interaction | 12 |
| [L-7](#L-7) | External function calls within loops | 26 |
| [L-8](#L-8) | Function may return unassigned variable | 1 |
| [L-9](#L-9) | Functions calling contracts/addresses with transfer hooks are missing reentrancy guards | 3 |
| [L-10](#L-10) | Governance functions should be controlled by time locks | 6 |
| [L-11](#L-11) | Loss of precision in divisions | 8 |
| [L-12](#L-12) | Missing checks for state variable assignments | 53 |
| [L-13](#L-13) | Missing limits when setting min/max amounts | 5 |
| [L-14](#L-14) | Missing zero address check in constructor | 10 |
| [L-15](#L-15) | Consider some checks for `address(0)` when setting address state variables | 29 |
| [L-16](#L-16) | Owner can renounce ownership | 3 |
| [L-17](#L-17) | `receive()`/`fallback()` function does not authorize requests | 3 |
| [L-18](#L-18) | Some tokens may revert when large transfers are made | 20 |
| [L-19](#L-19) | Some tokens may revert when zero value transfers are made | 20 |
| [L-20](#L-20) | Sending tokens in a for loop | 2 |
| [L-21](#L-21) | Tokens may be minted to `address(0)` | 1 |
| [L-22](#L-22) | Unsafe downcast | 6 |
| [L-23](#L-23) | Use Ownable2Step instead of Ownable | 1 |
| [L-24](#L-24) | Consider using `ERC721A` instead of `ERC721` | 2 |
| [L-25](#L-25) | Using zero as a parameter | 10 |
| [L-26](#L-26) | `abi.encodePacked()` should not be used with dynamic types when passing the result to a hash function such as `keccak256()` | 2 |
| [L-27](#L-27) | `decimals()` is not a part of the ERC-20 standard | 1 |
| [L-28](#L-28) | `onlyOwner` functions not accessible if owner renounces ownership | 6 |
| [L-29](#L-29) | Chainlink answer is not compared against min/max values | 1 |
| [L-30](#L-30) | Prefer skip over revert model in iteration | 3 |
| [L-31](#L-31) | External calls in modifiers should be avoided | 13 |
| [L-32](#L-32) | For loops in public or external functions should be avoided due to high gas costs and possible DOS | 22 |
| [L-33](#L-33) | Function with two (or more) array parameters missing a length check | 9 |
| [L-34](#L-34) | Library has public/external functions | 2 |
| [L-35](#L-35) | No limits when setting price values | 1 |
| [L-36](#L-36) | int/uint passed into abi.encodePacked without casting to a string | 2 |

## Non Critical Issues


*Total <b>4329</b> instances over <b>111</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [NC-1](#NC-1) | `abi.encodePacked()` should be replaced with `bytes.concat()` | 2 |
| [NC-2](#NC-2) | Add inline comments for unnamed variables | 17 |
| [NC-3](#NC-3) | Avoid mutating function parameters | 1 |
| [NC-4](#NC-4) | Avoid the use of sensitive terms | 6 |
| [NC-5](#NC-5) | Names of errors should use CapWords style | 5 |
| [NC-6](#NC-6) | Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, for readability | 5 |
| [NC-7](#NC-7) | Complex casting | 5 |
| [NC-8](#NC-8) | Consider adding a block/deny-list | 40 |
| [NC-9](#NC-9) | Consider adding emergency-stop functionality | 38 |
| [NC-10](#NC-10) | Consider adding formal verification proofs | 1 |
| [NC-11](#NC-11) | Consider bounding input array length | 21 |
| [NC-12](#NC-12) | Consider using `AccessControlDefaultAdminRules` rather than `AccessControl` | 1 |
| [NC-13](#NC-13) | Consider using descriptive `constant`s when passing zero as a function argument | 28 |
| [NC-14](#NC-14) | Consider using SafeTransferLib.safeTransferETH() or Address.sendValue() for clearer semantic meaning | 4 |
| [NC-15](#NC-15) | Constant decimal values | 3 |
| [NC-16](#NC-16) | Constants should be put on the left side of comparisons | 144 |
| [NC-17](#NC-17) | Variable names for `constant`s should use CONSTANT_CASE | 1 |
| [NC-18](#NC-18) | `Constructor` should emit an event | 39 |
| [NC-19](#NC-19) | Contract does not follow the Solidity Style Guide's suggested layout ordering | 8 |
| [NC-20](#NC-20) | Contract name does not follow the Solidity Style Guide | 1 |
| [NC-21](#NC-21) | Contract should expose an `interface` | 277 |
| [NC-22](#NC-22) | Contract uses both `require()`/`revert()` as well as custom errors | 6 |
| [NC-23](#NC-23) | Contracts should have full test coverage | 1 |
| [NC-24](#NC-24) | Convert simple `if` statements to ternary expressions | 2 |
| [NC-25](#NC-25) | Events that mark critical parameter changes should contain both the old and the new value | 130 |
| [NC-26](#NC-26) | Custom errors has no error details | 4 |
| [NC-27](#NC-27) | Custom errors should be used rather than `revert()`/`require()` | 14 |
| [NC-28](#NC-28) | Polymorphic functions make security audits more time-consuming and error-prone | 7 |
| [NC-29](#NC-29) | Duplicated `require()`/`revert()` checks should be refactored | 15 |
| [NC-30](#NC-30) | Empty bytes check is missing | 43 |
| [NC-31](#NC-31) | Enable IR-based code generation | 1 |
| [NC-32](#NC-32) | Enum values should be used instead of constant array indexes | 26 |
| [NC-33](#NC-33) | Events are emitted without the sender information | 122 |
| [NC-34](#NC-34) | Events may be emitted out of order due to reentrancy | 81 |
| [NC-35](#NC-35) |  Function ordering does not follow the Solidity Style Guide | 87 |
| [NC-36](#NC-36) | Functions and modifiers should be named in mixedCase style | 2 |
| [NC-37](#NC-37) | Functions with array parameters should have length checks in place | 25 |
| [NC-38](#NC-38) | Variable names for `immutable`s should use CONSTANT_CASE | 5 |
| [NC-39](#NC-39) | Import declarations should import specific identifiers, rather than the whole file | 110 |
| [NC-40](#NC-40) | Imports could be organized more systematically | 34 |
| [NC-41](#NC-41) | Inconsistent spacing in comments | 1 |
| [NC-42](#NC-42) | Incorrect withdraw declaration | 17 |
| [NC-43](#NC-43) | Invalid NatSpec comment style | 2 |
| [NC-44](#NC-44) | It is best practice to use linear inheritance | 11 |
| [NC-45](#NC-45) | Large or complicated code bases should implement invariant tests | 1 |
| [NC-46](#NC-46) | Large multiples of ten should use scientific notation | 2 |
| [NC-47](#NC-47) | Large numeric literals should use underscores for readability | 2 |
| [NC-48](#NC-48) | Magic numbers should be replaced with constants | 51 |
| [NC-49](#NC-49) | Missing contract existence checks before low-level calls | 5 |
| [NC-50](#NC-50) | Missing disallow list for `ERC721` | 4 |
| [NC-51](#NC-51) | Consider moving `msg.sender` checks to `modifier`s | 5 |
| [NC-52](#NC-52) | Named mappings are recommended | 19 |
| [NC-53](#NC-53) | Named imports of parent contracts are missing | 37 |
| [NC-54](#NC-54) | Missing NatSpec from contract/error/event/function/modifier declarations | 307 |
| [NC-55](#NC-55) | Missing NatSpec `@author` from contract declaration | 41 |
| [NC-56](#NC-56) | Missing NatSpec `@dev` from contract/event/function/modifier declarations | 431 |
| [NC-57](#NC-57) | Public variable declarations should have NatSpec descriptions | 98 |
| [NC-58](#NC-58) | Missing NatSpec `@notice` from contract/event/function/modifier declarations | 309 |
| [NC-59](#NC-59) | Missing NatSpec `@param` from event/function/modifier declarations | 265 |
| [NC-60](#NC-60) | Missing NatSpec `@return` from function declaration | 89 |
| [NC-61](#NC-61) | Missing NatSpec `@title` from contract declaration | 38 |
| [NC-62](#NC-62) | There is no need to initialize variables with 0 | 58 |
| [NC-63](#NC-63) | Off-by-one timestamp error | 2 |
| [NC-64](#NC-64) | Put all system-wide constants in one file | 31 |
| [NC-65](#NC-65) | Redundant `return` statement in a function with named return variables | 15 |
| [NC-66](#NC-66) | Setters should prevent re-setting the same value | 12 |
| [NC-67](#NC-67) | State variables should include comments | 50 |
| [NC-68](#NC-68) | The `nonReentrant` modifier should occur before all other modifiers | 92 |
| [NC-69](#NC-69) | Lines are too long | 7 |
| [NC-70](#NC-70) | Typos | 4 |
| [NC-71](#NC-71) | Unnecessary cast | 243 |
| [NC-72](#NC-72) | Unsafe conversion from unsigned to signed values | 4 |
| [NC-73](#NC-73) | Unsafe solidity low-level call can cause gas grief attack | 5 |
| [NC-74](#NC-74) | Unused `error` definition | 1 |
| [NC-75](#NC-75) | Unused `event` definition | 1 |
| [NC-76](#NC-76) | Unused arguments should be removed or implemented | 11 |
| [NC-77](#NC-77) | Unused import | 3 |
| [NC-78](#NC-78) | Unused named return | 14 |
| [NC-79](#NC-79) | Unused contract variables | 2 |
| [NC-80](#NC-80) | Consider using `delete` rather than assigning zero/false to clear values | 4 |
| [NC-81](#NC-81) | Expressions for constant values should use `immutable` rather than `constant` | 31 |
| [NC-82](#NC-82) | Use `@inheritdoc` for overridden functions | 44 |
| [NC-83](#NC-83) | Upgrade `openzeppelin` to the latest version (`5.0.2`) | 1 |
| [NC-84](#NC-84) | Use the latest solidity version for deployment (`0.8.25`) | 41 |
| [NC-85](#NC-85) | Use the Modern Upgradeable Contract Paradigm | 40 |
| [NC-86](#NC-86) | Consider using modifiers for address control | 15 |
| [NC-87](#NC-87) | Use of `override` is unnecessary | 46 |
| [NC-88](#NC-88) | Returning a struct instead of a bunch of variables is better | 2 |
| [NC-89](#NC-89) | Use a struct to encapsulate multiple function parameters | 5 |
| [NC-90](#NC-90) | Variable names that consist of all capital letters should be reserved for `constant`/`immutable` variables | 12 |
| [NC-91](#NC-91) | Visibility of state variables is not explicitly defined | 10 |
| [NC-92](#NC-92) | Common functions should be refactored to a common base contract | 2 |
| [NC-93](#NC-93) | Empty body - Consider commenting why | 13 |
| [NC-94](#NC-94) | Names of `private`/`internal` functions should be prefixed with an underscore | 1 |
| [NC-95](#NC-95) | Names of `private`/`internal` state variables should be prefixed with an underscore | 18 |
| [NC-96](#NC-96) | Internal function calls within for loops | 6 |
| [NC-97](#NC-97) | `onlyOwner` is not used anywhere | 3 |
| [NC-98](#NC-98) |  `require()` / `revert()` statements should have descriptive reason strings | 74 |
| [NC-99](#NC-99) | Variables should be named in mixedCase style | 34 |
| [NC-100](#NC-100) | `TODO`s left in the code | 2 |
| [NC-101](#NC-101) | Event is missing `indexed` fields | 91 |
| [NC-102](#NC-102) | Functions not used internally could be marked `external` | 151 |
| [NC-103](#NC-103) | Avoid commenting out unused code in production | 1 |
| [NC-104](#NC-104) | Contracts with only unimplemented functions can be labeled as `abstract` | 2 |
| [NC-105](#NC-105) | Default address(0) can be returned | 5 |
| [NC-106](#NC-106) | Consider moving duplicated strings to constants | 2 |
| [NC-107](#NC-107) | Don't only depend on Solidity's arithmetic ordering | 11 |
| [NC-108](#NC-108) | Incorrect comparison against a max value | 1 |
| [NC-109](#NC-109) | Payable functions which do not interact with the native token should not be payable | 4 |
| [NC-110](#NC-110) | Struct fields should be mixedCase | 1 |
| [NC-111](#NC-111) | Use `using` keyword when using specific imports rather than calling the specific import directly | 4 |

## Gas Optimizations


*Total <b>2531</b> instances over <b>73</b> issues:*

|ID|Issue|Instances|Gas|
|-|:-|:-:|:-:|
| [GAS-1](#GAS-1) | Assigning to structs can be more efficient | 14 | 84 |
| [GAS-2](#GAS-2) | Optimize gas by using do-while loops | 41 | 10455 |
| [GAS-3](#GAS-3) | Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, where appropriate | 5 | - |
| [GAS-4](#GAS-4) | Consider activating via-ir for deploying | 1 | - |
| [GAS-5](#GAS-5) | Counting down in for statements is more gas efficient | 38 | - |
| [GAS-6](#GAS-6) | Divisions can be `unchecked` to save gas | 31 | 620 |
| [GAS-7](#GAS-7) | Operator `+=` costs more gas than `<x> = <x> + <y>` for state variables | 3 | 339 |
| [GAS-8](#GAS-8) | Duplicated `require()`/`revert()` checks should be refactored to a modifier or function to save gas | 15 | - |
| [GAS-9](#GAS-9) | Events should be emitted outside of loops | 10 | 3750 |
| [GAS-10](#GAS-10) | Increments can be `unchecked` to save gas | 39 | 2340 |
| [GAS-11](#GAS-11) | Inline `modifier`s that are only used once, to save gas | 2 | - |
| [GAS-12](#GAS-12) | `internal` functions only called once can be inlined to save gas | 6 | 180 |
| [GAS-13](#GAS-13) | `keccak256()` hash of literals should only be computed once | 3 | 126 |
| [GAS-14](#GAS-14) | Low level `call` can be optimized with assembly | 5 | 1240 |
| [GAS-15](#GAS-15) | Multiple accesses of the same mapping/array key/index should be cached | 21 | 882 |
| [GAS-16](#GAS-16) | Operator `>=`/`<=` costs less gas than operator `>`/`<` | 115 | 345 |
| [GAS-17](#GAS-17) | Optimize Gas by splitting `if() revert` statements | 6 | - |
| [GAS-18](#GAS-18) | Optimize names to save gas | 37 | 814 |
| [GAS-19](#GAS-19) | Remove or replace unused state variables | 2 | - |
| [GAS-20](#GAS-20) | `require()`/`revert()` strings longer than 32 bytes cost extra gas | 1 | 3 |
| [GAS-21](#GAS-21) | The result of a function call should be cached rather than re-calling the function | 7 | 700 |
| [GAS-22](#GAS-22) | There are comparisons to boolean literals (true and false), these can be simplified to save gas | 16 | 288 |
| [GAS-23](#GAS-23) | State variables access within a loop | 6 | 1590 |
| [GAS-24](#GAS-24) | State variables only set in the constructor should be declared immutable | 47 | 940000 |
| [GAS-25](#GAS-25) | Unlimited gas consumption risk due to external call recipients | 3 | - |
| [GAS-26](#GAS-26) | Unused named return variables without optimizer waste gas | 14 | 126 |
| [GAS-27](#GAS-27) | Optimize external calls with assembly for memory efficiency | 253 | 55660 |
| [GAS-28](#GAS-28) | Use assembly in place of `abi.decode` to extract `calldata` values more efficiently | 4 | - |
| [GAS-29](#GAS-29) | Use assembly to compute hashes to save gas | 12 | 960 |
| [GAS-30](#GAS-30) | Use assembly to emit events | 139 | 5282 |
| [GAS-31](#GAS-31) | Use assembly to validate `msg.sender` | 15 | - |
| [GAS-32](#GAS-32) | Use assembly to write address/contract type storage values | 65 | 3250 |
| [GAS-33](#GAS-33) | Using a double `if` statement instead of a logical AND (`&&`) | 45 | 1350 |
| [GAS-34](#GAS-34) | Consider using OZ EnumerateSet in place of nested mappings | 5 | 5000 |
| [GAS-35](#GAS-35) | Use local variables for emitting | 7 | 679 |
| [GAS-36](#GAS-36) | Use a more recent version of solidity | 41 | - |
| [GAS-37](#GAS-37) | Use != 0 instead of > 0 | 22 | 66 |
| [GAS-38](#GAS-38) | Use `selfbalance()` instead of `address(this).balance` | 3 | - |
| [GAS-39](#GAS-39) | State variables can be packed into fewer storage slots by truncating timestamp bytes | 4 | 10000 |
| [GAS-40](#GAS-40) | Consider Using Solady's Gas Optimized Lib for Math | 27 | - |
| [GAS-41](#GAS-41) | Use solady library where possible to save gas | 17 | 17000 |
| [GAS-42](#GAS-42) | Use `storage` instead of `memory` for structs/arrays | 6 | 25200 |
| [GAS-43](#GAS-43) | Use `uint256(1)`/`uint256(2)` instead of `true`/`false` to save gas for changes | 5 | 42750 |
| [GAS-44](#GAS-44) | Use `unchecked` block for safe subtractions | 3 | 255 |
| [GAS-45](#GAS-45) | Using bitmap to store bool states can save gas | 5 | - |
| [GAS-46](#GAS-46) | Using `constant`s directly, rather than caching the value, saves gas | 1 | - |
| [GAS-47](#GAS-47) | Using `this` to access functions results in an external call, wasting gas | 3 | 300 |
| [GAS-48](#GAS-48) | `abi.encodePacked` is more gas efficient than `abi.encode` | 65 | - |
| [GAS-49](#GAS-49) | Using bools for storage incurs overhead | 5 | 500 |
| [GAS-50](#GAS-50) | Cache array length outside of loop | 44 | - |
| [GAS-51](#GAS-51) | State variables should be cached in stack variables rather than re-reading them from storage | 31 | 3007 |
| [GAS-52](#GAS-52) | Use `calldata` instead of `memory` for function arguments that do not get mutated | 128 | - |
| [GAS-53](#GAS-53) | Use Custom Errors | 14 | 700 |
| [GAS-54](#GAS-54) | Don't initialize variables with default value | 58 | - |
| [GAS-55](#GAS-55) | Usage of `int`s/`uint`s smaller than 32 bytes incurs overhead | 61 | 3355 |
| [GAS-56](#GAS-56) | Constructors can be marked as `payable` to save deployment gas | 22 | 462 |
| [GAS-57](#GAS-57) | Functions guaranteed to revert when called by normal users can be marked `payable` | 120 | 2520 |
| [GAS-58](#GAS-58) | `++i` costs less gas than `i++`, especially when it's used in `for`-loops (`--i`/`i--` too) | 38 | 190 |
| [GAS-59](#GAS-59) | Using `private` rather than `public` for constants, saves gas | 29 | - |
| [GAS-60](#GAS-60) | Splitting require() statements that use && saves gas | 7 | - |
| [GAS-61](#GAS-61) | Use assembly to check for `address(0)` | 95 | 570 |
| [GAS-62](#GAS-62) | Use `Array.unsafeAccess()` to avoid repeated array length checks | 7 | 14700 |
| [GAS-63](#GAS-63) | Avoid updating storage when the value hasn't changed | 159 | - |
| [GAS-64](#GAS-64) | Cache address(this) when used more than once | 62 | - |
| [GAS-65](#GAS-65) | Unnecessary casting as variable is already of the same type | 243 | - |
| [GAS-66](#GAS-66) | Where a value is casted more than once, consider caching the result to save gas | 110 | - |
| [GAS-67](#GAS-67) | Consider not using libraries when implementing simple functionality. | 1 | - |
| [GAS-68](#GAS-68) | It is a waste of GAS to emit variable literals | 3 | - |
| [GAS-69](#GAS-69) | Merge events to save gas | 2 | - |
| [GAS-70](#GAS-70) | Consider merging sequential for loops | 4 | - |
| [GAS-71](#GAS-71) | Only emit event in setter function if the state variable was changed | 27 | - |
| [GAS-72](#GAS-72) | Shorten the array rather than copying to a new one | 3 | - |
| [GAS-73](#GAS-73) | Variable declared within iteration | 23 | - |

## Medium Issues

<a name="M-1"></a> 
### [M-1] No way to retrieve ETH from the contract
The following contracts contain at least one `payable` function, yet the function does not utilise forwarded ETH, and the contract is missing functionality to withdraw ETH from the contract. This means that funds may become trapped in the contract indefinitely. Consider adding a withdraw/sweep function to contracts that are capable of receiving ether.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit Contract can receive Ether but there is lack of functionality to claim the Ethers from the contract
7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit Contract can receive Ether but there is lack of functionality to claim the Ethers from the contract
29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit Contract can receive Ether but there is lack of functionality to claim the Ethers from the contract
19: contract LZHelperSender is OAppSender {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit Contract can receive Ether but there is lack of functionality to claim the Ethers from the contract
10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10)]



<a name="M-2"></a> 
### [M-2] Usage of `slot0` is extremely easy to manipulate

*There is one instance of this issue:*
```solidity
File: ./contracts/connectors/UNIv3Connector.sol

140:             (uint160 sqrtPriceX96,,,,,,) = pool.slot0();

```
*Github:* [[140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L140)]



<a name="M-3"></a> 
### [M-3] No check if L2 sequencer is down
Using Chainlink in L2 chains such as Arbitrum/Optimism/Base/Metis requires to check if the sequencer is down to avoid prices from looking like they are fresh although they are not.

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

123:         (, price,, updatedAt,) = source.latestRoundData();

```
*Github:* [[123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L123)]



<a name="M-4"></a> 
### [M-4] latestRoundData() has no check for round completeness
No check for round completeness could lead to stale prices and wrong price return value, or outdated price. The functions rely on accurate price feed might not work as expected, sometimes can lead to fund loss.

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

123:         (, price,, updatedAt,) = source.latestRoundData();

```
*Github:* [[123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L123)]




## Low Issues

<a name="L-1"></a> 
### [L-1] Missing zero address check in functions with address parameters
Adding a zero address check for each address type parameter can prevent errors.

<details>
<summary>
There are <b>87</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit missing zero check for `_caller`
150:     function sendTokensToTrustedAddress(address token, uint256 amount, address _caller, bytes calldata _data)
             external
             returns (uint256)
         {

/// @audit missing zero check for `to`
185:     function _update(address from, address to, uint256 amount) internal override {

/// @audit missing zero check for `receiver`
/// @audit missing zero check for `referrer`
200:     function deposit(address receiver, uint256 amount, address referrer) public nonReentrant whenNotPaused {

/// @audit missing zero check for `receiver`
304:     function withdraw(uint256 share, address receiver) public nonReentrant whenNotPaused {

/// @audit missing zero check for `base`
632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

/// @audit missing zero check for `token`
/// @audit missing zero check for `base`
642:     function _getValue(address token, address base, uint256 amount) internal view returns (uint256) {

/// @audit missing zero check for `receiver`
693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

/// @audit missing zero check for `receiver`
/// @audit missing zero check for `owner`
697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

/// @audit missing zero check for `receiver`
/// @audit missing zero check for `shareOwner`
701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

/// @audit missing zero check for `receiver`
705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L150), [185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L185), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L200), [304](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L304), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [642](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L642), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit missing zero check for `_flashLoan`
84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {

/// @audit missing zero check for `_maintainerWithoutTimelock`
/// @audit missing zero check for `_emergency`
106:     function addVault(
             uint256 vaultId,
             address _accountingManager,
             address _baseToken,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency,
             address[] calldata _trustedTokens
         ) external onlyRole(MAINTAINER_ROLE) {

/// @audit missing zero check for `_maintainerWithoutTimelock`
/// @audit missing zero check for `_emergency`
158:     function changeVaultAddresses(
             uint256 vaultId,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency
         ) external onlyVaultGoverner(vaultId) vaultExists(vaultId) {

/// @audit missing zero check for `_connectorAddress`
207:     function updateConnectorTrustedTokens(
             uint256 vaultId,
             address _connectorAddress,
             address[] calldata _tokens,
             bool trusted
         ) external onlyVaultMaintainer(vaultId) vaultExists(vaultId) {

/// @audit missing zero check for `_connector`
394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)
             public
             view
             returns (uint256)
         {

/// @audit missing zero check for `connector`
436:     function isPositionTrustedForConnector(uint256 vaultId, bytes32 _positionId, address connector)
             public
             view
             returns (bool)
         {

/// @audit missing zero check for `token`
/// @audit missing zero check for `connector`
470:     function isTokenTrusted(uint256 vaultId, address token, address connector) public view returns (bool) {

/// @audit missing zero check for `calculatorConnector`
486:     function calculatePositionId(address calculatorConnector, uint256 positionTypeId, bytes memory data)
             public
             pure
             returns (bytes32)
         {

/// @audit missing zero check for `connectorAddress`
499:     function isAnActiveConnector(uint256 vaultId, address connectorAddress) public view returns (bool) {

/// @audit missing zero check for `addr`
525:     function isAddressTrusted(uint256 vaultId, address addr) public view returns (bool) {

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L158), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L207), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394), [436](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L436), [470](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L470), [486](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L486), [499](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L499), [525](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L525)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit missing zero check for `_borrowAsset`
88:     function repayWithCollateral(uint256 _amount, uint256 i, address _borrowAsset) external onlyManager {

/// @audit missing zero check for `base`
114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L88), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit missing zero check for `base`
125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit missing zero check for `base`
162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit missing zero check for `base`
88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit missing zero check for `comet`
84:     function getBorrowBalanceInBase(IComet comet) public view returns (uint256 borrowBalanceInVirtualBase) {

/// @audit missing zero check for `comet`
95:     function getCollBlanace(IComet comet, bool riskAdjusted) public view returns (uint256 CollValue) {

/// @audit missing zero check for `base`
125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L84), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L95), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit missing zero check for `base`
265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing zero check for `curvePool`
297:     function estimateWithdrawAmount(ICurveSwap curvePool, uint256 amount, uint256 index)
             public
             view
             returns (uint256)
         {

```
*Github:* [[265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265), [297](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L297)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit missing zero check for `base`
106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit missing zero check for `pool`
104:     function verifyHealthFactor(IFraxPair pool) public view {

/// @audit missing zero check for `_fraxlendPair`
120:     function _getHealthFactor(IFraxPair _fraxlendPair, uint256 _exchangeRate) internal view virtual returns (uint256) {

/// @audit missing zero check for `base`
150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L104), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L120), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit missing zero check for `creditAccount`
62:     function executeCommands(
            address facade,
            address creditAccount,
            MultiCall[] calldata calls,
            address approvalToken,
            uint256 amount
        ) public onlyManager nonReentrant {

/// @audit missing zero check for `base`
93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L62), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit missing zero check for `base`
91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit missing zero check for ``
/// @audit missing zero check for ``
149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

/// @audit missing zero check for `base`
153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit missing zero check for `base`
118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing zero check for `collateral`
137:     function convertCToL(uint256 amount, address marketOracle, address collateral) public view returns (uint256) {

```
*Github:* [[118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L137)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit missing zero check for `_market`
126:     function depositIntoPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

/// @audit missing zero check for `_market`
137:     function withdrawFromPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

/// @audit missing zero check for `base`
257:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing zero check for `market`
293:     function getYTValue(address market, uint256 balance) public view returns (uint256) {

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L126), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L137), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L257), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L293)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit missing zero check for `tm`
33:     function approveZap(IStakeNTroveZap zap, address tm, bool approve) public onlyManager nonReentrant {

/// @audit missing zero check for `tm`
75:     function addColl(IStakeNTroveZap zapContract, address tm, uint256 amountIn) public onlyManager nonReentrant {

/// @audit missing zero check for `troveManager`
129:     function closeTrove(IStakeNTroveZap zapContract, address troveManager) public onlyManager nonReentrant {

/// @audit missing zero check for `base`
145:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L33), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L75), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L129), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L145)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit missing zero check for ``
/// @audit missing zero check for ``
64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

/// @audit missing zero check for `collateralType`
68:     function delegateIntoPreferredPool(
            uint128 _accountId,
            address collateralType,
            uint256 newCollateralAmountD18,
            uint256 leverage
        ) public onlyManager {

/// @audit missing zero check for `collateralType`
81:     function delegateIntoApprovedPool(
            uint256 poolIndex,
            uint128 _accountId,
            address collateralType,
            uint256 newCollateralAmountD18,
            uint256 leverage
        ) public onlyManager {

/// @audit missing zero check for `distributor`
94:     function claimRewards(uint128 accountId, uint128 poolId, address collateralType, address distributor)
            public
            onlyManager
        {

/// @audit missing zero check for `base`
121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L81), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L94), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit missing zero check for `base`
109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing zero check for `silo`
130:     function isSiloEmpty(ISilo silo) public view returns (bool) {

```
*Github:* [[109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L130)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit missing zero check for `base`
110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit missing zero check for `base`
127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit missing zero check for `destination`
/// @audit missing zero check for `executor`
84:     function execute(
            address destination,
            bytes calldata data,
            uint256 gasLimit,
            address executor,
            bytes32[] memory sigR,
            bytes32[] memory sigS,
            uint8[] memory sigV,
            uint256 deadline
        ) public {

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L84)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit missing zero check for `baseToken`
249:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

/// @audit missing zero check for `token`
/// @audit missing zero check for `baseToken`
253:     function _getValue(address token, address baseToken, uint256 amount) internal view returns (uint256) {

/// @audit missing zero check for ``
271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

/// @audit missing zero check for `_spender`
277:     function _approveOperations(address _token, address _spender, uint256 _amount) internal virtual {

/// @audit missing zero check for `_spender`
285:     function _revokeApproval(address _token, address _spender) internal virtual {

```
*Github:* [[249](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L249), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L253), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271), [277](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L277), [285](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L285)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit missing zero check for `caller`
27:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)
            external
            returns (uint256)
        {

/// @audit missing zero check for `baseToken`
71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L27), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

/// @audit missing zero check for ``
65:     function _lzReceive(Origin calldata _origin, bytes32, bytes calldata _message, address, bytes calldata)
            internal
            override
        {

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L65)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit missing zero check for `omniChainManager`
63:     function addVaultInfo(uint256 vaultId, uint256 baseChainId, address omniChainManager) public onlyOwner {

```
*Github:* [[63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L63)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

/// @audit missing zero check for ``
51:     function _getPositionTVL(HoldingPI memory position, address) public view override returns (uint256) {

```
*Github:* [[51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L51)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit missing zero check for `base`
33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit missing zero check for `_inputToken`
/// @audit missing zero check for `_outputToken`
68:     function setSlippageTolerance(address _inputToken, address _outputToken, uint256 _slippageTolerance)
            external
            onlyMaintainerOrEmergency
        {

/// @audit missing zero check for `addr`
164:     function verifyRoute(uint256 _routeId, address addr) external view onlyExistingRoute(_routeId) {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L68), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L164)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit missing zero check for `_handler`
45:     function addHandler(address _handler, bool state) external onlyOwner {

/// @audit missing zero check for `caller`
77:     function performSwapAction(address caller, SwapRequest calldata _request)
            external
            payable
            override
            onlyHandler
            returns (uint256)
        {

/// @audit missing zero check for `caller`
133:     function performBridgeAction(address caller, BridgeRequest calldata _request)
             external
             payable
             override
             onlyHandler
         {

/// @audit missing zero check for `caller`
165:     function _forward(IERC20 token, address from, uint256 amount, address caller, bytes calldata data, uint256 routeId)
             internal
             virtual
             nonReentrant
         {

/// @audit missing zero check for `token`
/// @audit missing zero check for `spender`
185:     function _setAllowance(IERC20 token, address spender, uint256 amount) internal {

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L45), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L77), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L133), [165](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L165), [185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L185)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

/// @audit missing zero check for `registry`
/// @audit missing zero check for `baseToken`
14:     function getTVL(uint256 vaultId, PositionRegistry registry, address baseToken) public view returns (uint256) {

/// @audit missing zero check for `registry`
41:     function getLatestUpdateTime(uint256 vaultId, PositionRegistry registry) public view returns (uint256) {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L14), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L41)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit missing zero check for `asset`
/// @audit missing zero check for `base`
61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {

/// @audit missing zero check for `asset`
/// @audit missing zero check for `baseToken`
71:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

/// @audit missing zero check for `asset`
/// @audit missing zero check for `baseToken`
81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)
            internal
            view
            returns (uint256 value)
        {

/// @audit missing zero check for `quotingToken`
/// @audit missing zero check for `baseToken`
95:     function _getValue(address quotingToken, address baseToken, uint256 amount) internal view returns (uint256) {

```
*Github:* [[61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L71), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L95)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit missing zero check for `asset`
/// @audit missing zero check for `baseToken`
89:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

/// @audit missing zero check for `asset`
/// @audit missing zero check for `baseToken`
143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L89), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit missing zero check for `tokenIn`
/// @audit missing zero check for `baseToken`
48:     function addPool(address tokenIn, address baseToken, uint24 fee) external onlyMaintainer {

/// @audit missing zero check for `tokenIn`
/// @audit missing zero check for `baseToken`
60:     function getValue(address tokenIn, address baseToken, uint256 amount) public view returns (uint256 _amountOut) {

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L48), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L60)]


</details>


<a name="L-2"></a> 
### [L-2] Array is `push()`ed but not `pop()`ed
There is no limit specified on the amount of gas used, so the recipient can use up all of the remaining gas (`gasleft()`), causing it to revert. Therefore, when calling an external contract, it is necessary to specify a limited amount of gas to forward.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

141:         vault.holdingPositions.push(HoldingPI(address(0), address(0), bytes32(0), "", "", type(uint256).max));

```
*Github:* [[141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L141)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

149:             routes.push(_routes[i]);

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L149)]



<a name="L-3"></a> 
### [L-3] Consider implementing two-step procedure for updating protocol addresses
A copy-paste error or a typo may end up bricking protocol functionality, or sending tokens to an address with no known private key. Consider implementing a two-step procedure for updating protocol addresses, where the recipient is set as pending, and must "accept" the assignment by making an affirmative call. A straight forward way of doing this would be to have the target contracts implement [EIP-165](https://eips.ethereum.org/EIPS/eip-165), and to have the "set" functions ensure that the recipient is of the right interface type.

*There are <b>8</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `valueOracle`
124:     function updateValueOracle(INoyaValueOracle _valueOracle) public onlyMaintainer {

/// @audit `withdrawFeeReceiver`
/// @audit `performanceFeeReceiver`
/// @audit `managementFeeReceiver`
135:     function setFeeReceivers(
             address _withdrawFeeReceiver,
             address _performanceFeeReceiver,
             address _managementFeeReceiver
         ) public onlyMaintainer {

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L124), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L135)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `flashLoan`
84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `caller`
/// @audit `caller`
37:     function makeFlashLoan(IERC20[] memory tokens, uint256[] memory amounts, bytes memory userData)
            external
            nonReentrant
        {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L37)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `swapHandler`
58:     function updateSwapHandler(address payable _swapHandler) external onlyMaintainer {

/// @audit `valueOracle`
67:     function updateValueOracle(address _valueOracle) external onlyMaintainer {

```
*Github:* [[58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L58), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L67)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

/// @audit `destChainAddress`
46:     function updateChainInfo(uint256 chainId, address destinationAddress) external onlyMaintainer {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L46)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `valueOracle`
48:     function setValueOracle(address _valueOracle) external onlyMaintainerOrEmergency {

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L48)]



<a name="L-4"></a> 
### [L-4] Constructor / initialization function lacks parameter validation
Constructors and initialization functions play a critical role in contracts by setting important initial states when the contract is first deployed before the system starts. The parameters passed to the constructor and initialization functions directly affect the behavior of the contract / protocol. If incorrect parameters are provided, the system may fail to run, behave abnormally, be unstable, or lack security. Therefore, it's crucial to carefully check each parameter in the constructor and initialization functions. If an exception is found, the transaction should be rolled back.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `p` not validated
94:     constructor(AccountingManagerConstructorParams memory p)

```
*Github:* [[94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L94)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `_flashLoan` not validated
66:     constructor(address _governer, address _maintainer, address _emergency, address _flashLoan) {

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L66)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

/// @audit `_positionManager` not validated
/// @audit `_factory` not validated
/// @audit `baseConnectorParams` not validated
19:     constructor(address MC, address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L19)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

/// @audit `_vaultId` not validated
21:     constructor(PositionRegistry _registry, uint256 _vaultId) {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L21)]


```solidity
File: ./contracts/governance/TimeLock.sol

/// @audit `minDelay` not validated
/// @audit `proposers` not validated
/// @audit `executors` not validated
/// @audit `owner` not validated
7:     constructor(uint256 minDelay, address[] memory proposers, address[] memory executors, address owner)

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L7)]


```solidity
File: ./contracts/governance/Watchers.sol

/// @audit `_owners` not validated
/// @audit `_threshold` not validated
7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `params` not validated
33:     constructor(BaseConnectorCP memory params) NoyaGovernanceBase(params.registry, params.vaultId) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L33)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `_vaultId` not validated
22:     constructor(address _registry, uint256 _vaultId) {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L22)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

/// @audit `_endpoint` not validated
/// @audit `_owner` not validated
31:     constructor(address _endpoint, address _owner) OAppReceiver() OAppCore(_endpoint, _owner) { }

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L31)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit `_endpoint` not validated
/// @audit `_owner` not validated
29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

/// @audit `dl` not validated
/// @audit `_lzHelper` not validated
/// @audit `baseConnectorParams` not validated
19:     constructor(uint256 dl, address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit `_lzHelper` not validated
/// @audit `baseConnectorParams` not validated
11:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L11)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `_registry` not validated
/// @audit `_vaultId` not validated
34:     constructor(address[] memory usersAddresses, address _valueOracle, PositionRegistry _registry, uint256 _vaultId)

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L34)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `swapHandler` not validated
/// @audit `_lifi` not validated
27:     constructor(address swapHandler, address _lifi) Ownable2Step() Ownable(msg.sender) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L27)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `_factory` not validated
/// @audit `_registry` not validated
31:     constructor(address _factory, PositionRegistry _registry) {

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L31)]


</details>


<a name="L-5"></a> 
### [L-5] Empty `receive()`/`fallback()` function
If the intention is for Ether sent by a caller to be used for an actual purpose (i.e. the function is not just a WETH `withdraw()` handler), the function should call another function (e.g. call `weth.deposit()` and use the token on the caller's behalf) or at least emit an event to track that funds were sent directly to it.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/connectors/LidoConnector.sol

89:     receive() external payable { }

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L89)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

56:     receive() external payable { }

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L56)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

27:     receive() external payable { }

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L27)]



<a name="L-6"></a> 
### [L-6] Code does not follow the best practice of check-effects-interaction
Code should follow the best-practice of [check-effects-interaction](https://blockchain-academy.hs-mittweida.de/courses/solidity-coding-beginners-to-intermediate/lessons/solidity-11-coding-patterns/topic/checks-effects-interactions/), where state variables are updated before any external calls are made. Doing so prevents a large class of reentrancy bugs.

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `.safeTransferFrom(...)` is called on line 205
217:         depositQueue.last += 1;

/// @audit `.safeTransferFrom(...)` is called on line 205
218:         depositQueue.totalAWFDeposit += amount;

/// @audit `.isAnActiveConnector(...)` is called on line 288
/// @audit `.addLiquidity(...)` is called on line 293
298:         depositQueue.first = firstTemp;

/// @audit `.balanceOf(...)` is called on line 379
381:             currentWithdrawGroup.totalABAmount = currentWithdrawGroup.totalCBAmount;

/// @audit `.balanceOf(...)` is called on line 379
383:             currentWithdrawGroup.totalABAmount = availableAssets;

/// @audit `.balanceOf(...)` is called on line 379
385:         currentWithdrawGroup.totalCBAmountFullfilled = currentWithdrawGroup.totalCBAmount;

/// @audit `.balanceOf(...)` is called on line 379
386:         currentWithdrawGroup.totalCBAmount = 0;

/// @audit `.safeTransfer(...)` is called on line 428
436:         totalWithdrawnAmount += processedBaseTokenAmount;

/// @audit `.safeTransfer(...)` is called on line 428
/// @audit `.safeTransfer(...)` is called on line 439
441:         withdrawQueue.first = firstTemp;

/// @audit `.isAnActiveConnector(...)` is called on line 552
/// @audit `.balanceOf(...)` is called on line 555
/// @audit `.sendTokensToTrustedAddress(...)` is called on line 556
/// @audit `.balanceOf(...)` is called on line 559
569:         amountAskedForWithdraw += amountAskedForWithdraw_temp;

```
*Github:* [[217](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L217), [218](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L218), [298](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L298), [381](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L381), [383](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L383), [385](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L385), [386](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L386), [436](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L436), [441](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L441), [569](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L569)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `.flashLoan(...)` is called on line 43
44:         caller = address(0);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L44)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `.getPool(...)` is called on line 49
51:         assetToBaseToPool[tokenIn][baseToken] = pool;

```
*Github:* [[51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L51)]


</details>


<a name="L-7"></a> 
### [L-7] External function calls within loops
Calling external functions within loops can easily result in insufficient gas. This greatly increases the likelihood of transaction failures, DOS attacks, and other unexpected actions. It is recommended to limit the number of loops within loops that call external functions, and to limit the gas line for each external call.

<details>
<summary>
There are <b>26</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `.safeTransfer(...)`
428:             baseToken.safeTransfer(data.receiver, baseTokenAmount);

/// @audit `.isAnActiveConnector(...)`
552:             if (!registry.isAnActiveConnector(vaultId, retrieveData[i].connectorAddress)) {

/// @audit `.balanceOf(...)`
555:             uint256 balanceBefore = baseToken.balanceOf(address(this));

/// @audit `.sendTokensToTrustedAddress(...)`
556:             uint256 amount = IConnector(retrieveData[i].connectorAddress).sendTokensToTrustedAddress(

/// @audit `.balanceOf(...)`
559:             uint256 balanceAfter = baseToken.balanceOf(address(this));

```
*Github:* [[428](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L428), [552](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L552), [555](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L555), [556](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L556), [559](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L559)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `.getReward(...)`
56:             baseRewardPool.getReward();

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L56)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `.getAssetInfo(...)`
109:                 IComet.AssetInfo memory info = comet.getAssetInfo(i);

/// @audit `.userCollateral(...)`
112:                 (uint256 collateralBalance,) = comet.userCollateral(address(this), info.asset);

/// @audit `.getPrice(...)`
115:                 uint256 collateralPriceInVirtualBase = comet.getPrice(info.priceFeed);

```
*Github:* [[109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L109), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L112), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L115)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `.claim_rewards(...)`
223:             IRewardsGauge(gauges[i]).claim_rewards(address(this));

/// @audit `.claimReward(...)`
235:             IDepositToken(pools[i]).claimReward(address(this));

/// @audit `.getReward(...)`
250:             baseRewardPool.getReward(address(this), true);

```
*Github:* [[223](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L223), [235](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L235), [250](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L250)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit `.getValue(...)`
114:             uint256 value = valueOracle.getValue(tokens[i], base, amounts[i].value);

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L114)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `.tokenIndex(...)`
142:                 tokenIndex = rewardContract.tokenIndex(address(earnedInfo[i].rewardToken));

/// @audit `.getReward(...)`
143:                 rewardContract.getReward(address(this), tokenIndex);

```
*Github:* [[142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L142), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L143)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `.balanceOf(...)`
117:             uint256 depositAmount = IERC20(assetsS[i].collateralToken).balanceOf(address(this));

/// @audit `.balanceOf(...)`
118:             depositAmount += IERC20(assetsS[i].collateralOnlyToken).balanceOf(address(this));

/// @audit `.balanceOf(...)`
119:             uint256 borrowAmount = IERC20(assetsS[i].debtToken).balanceOf(address(this));

/// @audit `.balanceOf(...)`
134:                 IERC20(assetsS[i].collateralToken).balanceOf(address(this))

/// @audit `.balanceOf(...)`
135:                     + IERC20(assetsS[i].collateralOnlyToken).balanceOf(address(this)) > 0

```
*Github:* [[117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L117), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L118), [119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L119), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L134), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L135)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `.balanceOf(...)`
180:             uint256 _balance = IERC20(tokens[i]).balanceOf(address(this));

/// @audit `.sendTokensToTrustedAddress(...)`
181:             ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");

/// @audit `.balanceOf(...)`
182:             uint256 _balanceAfter = IERC20(tokens[i]).balanceOf(address(this));

```
*Github:* [[180](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L180), [181](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L181), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L182)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `.sendTokensToTrustedAddress(...)`
44:             ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L44)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

/// @audit `.getPositionTVL(...)`
22:             uint256 tvl = IConnector(positions[i].calculatorConnector).getPositionTVL(positions[i], baseToken);

/// @audit `.isPositionDebt(...)`
23:             bool isPositionDebt = registry.isPositionDebt(vaultId, positions[i].positionId);

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L23)]


</details>


<a name="L-8"></a> 
### [L-8] Function may return unassigned variable
Make sure that functions with a return value always return a valid and assigned value. Even if the default value is as expected, it should be assigned with the default value for code clarity and to reduce confusion.

*There is one instance of this issue:*
```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `tvl` is unassigned
150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]



<a name="L-9"></a> 
### [L-9] Functions calling contracts/addresses with transfer hooks are missing reentrancy guards
While adherence to the check-effects-interaction pattern is commendable, the absence of a reentrancy guard in functions, especially where transfer hooks might be present, can expose the protocol users to risks of read-only reentrancies. Such reentrancy vulnerabilities can be exploited to execute malicious actions even without altering the contract state. Without a reentrancy guard, the only potential mitigation would be to blocklist the entire protocol - an extreme and disruptive measure. Therefore, incorporating a reentrancy guard into these functions is vital to bolster security, as it helps protect against both traditional reentrancy attacks and read-only reentrancies, ensuring robust and safe protocol operations.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

150:     function sendTokensToTrustedAddress(address token, uint256 amount, address _caller, bytes calldata _data)
             external
             returns (uint256)
         {
             emit TransferTokensToTrustedAddress(token, amount, _caller, _data);

```
*Github:* [[150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L150)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

84:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)
            external
            returns (uint256)
        {
            emit TransferTokensToTrustedAddress(token, amount, caller, data);

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L84)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {
            for (uint256 i = 0; i < tokens.length; i++) {
                // gather all of the tokens
    
                ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40)]



<a name="L-10"></a> 
### [L-10] Governance functions should be controlled by time locks
Governance functions (such as upgrading contracts, setting critical parameters) should be controlled using time locks to introduce a delay between a proposal and its execution. This gives users time to exit before a potentially dangerous or malicious operation is applied.

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

79:     function setMaxNumHoldingPositions(uint256 _maxNumHoldingPositions) external onlyRole(MAINTAINER_ROLE) {

84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {

```
*Github:* [[79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

48:     function setValueOracle(address _valueOracle) external onlyMaintainerOrEmergency {

57:     function setGeneralSlippageTolerance(uint256 _slippageTolerance) external onlyMaintainerOrEmergency {

80:     function addEligibleUser(address _user) external onlyMaintainerOrEmergency {

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L48), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L57), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L80)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

38:     function setPeriod(uint32 _period) external onlyMaintainer {

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L38)]



<a name="L-11"></a> 
### [L-11] Loss of precision in divisions
Division by large numbers may result in the result being zero, due to solidity not supporting fractions. Consider requiring a minimum amount for the numerator to ensure that it is always larger than the denominator.

*There are <b>8</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

484:             previewDeposit(((storedProfitForFee - totalProfitCalculated) * performanceFee) / FEE_PRECISION);

```
*Github:* [[484](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L484)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

172:         return (((1e18 * token1bal * lpBalance) / _weight) / _totalSupply);

```
*Github:* [[172](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L172)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

96:         return balanceThis * (_getValue(tokenA, base, reserves0) + _getValue(tokenB, base, reserves1)) / totalSupply;

```
*Github:* [[96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L96)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

89:         borrowBalanceInVirtualBase = (borrowBalanceInBase * basePriceInVirtualBase) / comet.baseScale();

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L89)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

129:             (((_borrowerAmount * _exchangeRate) * LTV_PRECISION) / EXCHANGE_PRECISION) / _collateralAmount;

136:         uint256 currentHF = (fraxlendPairMaxLTV * 1e18) / currentPositionLTV;

```
*Github:* [[129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L129), [136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L136)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

132:             return (amountIn * sourceTokenUnit) / uintprice;

134:         return (amountIn * uintprice) / (sourceTokenUnit);

```
*Github:* [[132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L132), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L134)]



<a name="L-12"></a> 
### [L-12] Missing checks for state variable assignments
There are some missing checks in these functions, and this could lead to unexpected scenarios. Consider always adding a sanity check for state variables.

<details>
<summary>
There are <b>53</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `_valueOracle`
126:         valueOracle = _valueOracle;

/// @audit `_withdrawFeeReceiver`
143:         withdrawFeeReceiver = _withdrawFeeReceiver;

/// @audit `_performanceFeeReceiver`
144:         performanceFeeReceiver = _performanceFeeReceiver;

/// @audit `_managementFeeReceiver`
145:         managementFeeReceiver = _managementFeeReceiver;

/// @audit `_withdrawFee`
177:         withdrawFee = _withdrawFee;

/// @audit `_performanceFee`
178:         performanceFee = _performanceFee;

/// @audit `_managementFee`
179:         managementFee = _managementFee;

/// @audit `_depositLimitPerTransaction`
668:         depositLimitPerTransaction = _depositLimitPerTransaction;

/// @audit `_depositTotalAmount`
669:         depositLimitTotalAmount = _depositTotalAmount;

/// @audit `_depositWaitingTime`
674:         depositWaitingTime = _depositWaitingTime;

/// @audit `_withdrawWaitingTime`
679:         withdrawWaitingTime = _withdrawWaitingTime;

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L126), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L143), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L144), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L145), [177](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L177), [178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L178), [179](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L179), [668](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L668), [669](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L669), [674](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L674), [679](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L679)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

/// @audit `_accountingManager`
18:         accountingManager = _accountingManager;

/// @audit `_baseToken`
19:         baseToken = _baseToken;

/// @audit `_receiver`
20:         receiver = _receiver;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L20)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `_flashLoan`
76:         flashLoan = _flashLoan;

/// @audit `_maxNumHoldingPositions`
81:         maxNumHoldingPositions = _maxNumHoldingPositions;

/// @audit `_flashLoan`
86:         flashLoan = _flashLoan;

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L76), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L81), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L86)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `_poolBaseToken`
38:         poolBaseToken = _poolBaseToken;

/// @audit `_pool`
39:         pool = _pool;

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L39)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `aura`
48:         AURA = aura;

/// @audit `bal`
49:         BAL = bal;

/// @audit `_balancerVault`
50:         balancerVault = _balancerVault;

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L48), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L49), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L50)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `_registry`
28:         registry = _registry;

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L28)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `cvx`
57:         CVX = cvx;

/// @audit `crv`
58:         CRV = crv;

/// @audit `prisma`
59:         PRISMA = prisma;

```
*Github:* [[57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L57), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L58), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L59)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `_lido`
27:         lido = _lido;

/// @audit `_lidoW`
28:         lidoWithdrawal = _lidoW;

/// @audit `_steth`
29:         steth = _steth;

/// @audit `w`
30:         weth = w;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L30)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `_mav`
50:         mav = _mav;

/// @audit `_veMav`
51:         veMav = _veMav;

/// @audit `mr`
52:         maverickRouter = mr;

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L50), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L51), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L52)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit `_threshold`
33:         threshold = _threshold;

/// @audit `_threshold`
65:         threshold = _threshold;

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L33), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L65)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

/// @audit `_registry`
23:         registry = _registry;

/// @audit `_vaultId`
24:         vaultId = _vaultId;

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L24)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `_minimumHealthFactor`
49:         minimumHealthFactor = _minimumHealthFactor;

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L49)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `_vaultId`
24:         vaultId = _vaultId;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L24)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit `_messageSetting`
37:         messageSetting = _messageSetting;

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L37)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

/// @audit `_lzHelper`
36:         lzHelper = _lzHelper;

/// @audit `destinationAddress`
48:         destChainAddress[chainId] = destinationAddress;

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L36), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L48)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

/// @audit `dl`
22:         DUST_LEVEL = dl;

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L22)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `_slippageTolerance`
58:         genericSlippageTolerance = _slippageTolerance;

```
*Github:* [[58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L58)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `_lifi`
29:         lifi = _lifi;

/// @audit `state`
46:         isHandler[_handler] = state;

/// @audit `state`
56:         isChainSupported[_chainId] = state;

/// @audit `state`
66:         isBridgeWhiteListed[bridgeName] = state;

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L29), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L46), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L56), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L66)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit `_registry`
31:         registry = _registry;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L31)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `_chainlinkPriceAgeThreshold`
60:         chainlinkPriceAgeThreshold = _chainlinkPriceAgeThreshold;

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L60)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `_factory`
32:         factory = _factory;

/// @audit `_registry`
33:         registry = _registry;

/// @audit `_period`
40:         period = _period;

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L32), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L33), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L40)]


</details>


<a name="L-13"></a> 
### [L-13] Missing limits when setting min/max amounts
There are some missing limits in these functions, and this could lead to unexpected scenarios. Consider adding a min/max limit for the following values, when appropriate.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `_depositLimitPerTransaction`
/// @audit `_depositTotalAmount`
667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {

/// @audit `_depositWaitingTime`
673:     function changeDepositWaitingTime(uint256 _depositWaitingTime) public onlyMaintainer {

/// @audit `_withdrawWaitingTime`
678:     function changeWithdrawWaitingTime(uint256 _withdrawWaitingTime) public onlyMaintainer {

```
*Github:* [[667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667), [673](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L673), [678](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L678)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `_slippageTolerance`
57:     function setGeneralSlippageTolerance(uint256 _slippageTolerance) external onlyMaintainerOrEmergency {

```
*Github:* [[57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L57)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `_period`
38:     function setPeriod(uint32 _period) external onlyMaintainer {

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L38)]



<a name="L-14"></a> 
### [L-14] Missing zero address check in constructor
Constructors often take address parameters to initialize important components of a contract, such as owner or linked contracts. However, without a checking, there's a risk that an address parameter could be mistakenly set to the zero address (0x0). This could be due to an error or oversight during contract deployment. A zero address in a crucial role can cause serious issues, as it cannot perform actions like a normal address, and any funds sent to it will be irretrievable. It's therefore crucial to include a zero address check in constructors to prevent such potential problems. If a zero address is detected, the constructor should revert the transaction.

*There are <b>10</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit missing zero check for `_flashLoan`
66:     constructor(address _governer, address _maintainer, address _emergency, address _flashLoan) {

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L66)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

/// @audit missing zero check for `_positionManager`
/// @audit missing zero check for `_factory`
19:     constructor(address MC, address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)
            UNIv3Connector(_positionManager, _factory, baseConnectorParams)
        {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L19)]


```solidity
File: ./contracts/governance/TimeLock.sol

/// @audit missing zero check for `owner`
7:     constructor(uint256 minDelay, address[] memory proposers, address[] memory executors, address owner)
           TimelockController(minDelay, proposers, executors, owner)
       { }

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L7)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

/// @audit missing zero check for `_endpoint`
/// @audit missing zero check for `_owner`
31:     constructor(address _endpoint, address _owner) OAppReceiver() OAppCore(_endpoint, _owner) { }

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L31)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit missing zero check for `_endpoint`
/// @audit missing zero check for `_owner`
29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

/// @audit missing zero check for `_lzHelper`
19:     constructor(uint256 dl, address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)
            OmnichainLogic(_lzHelper, baseConnectorParams)
        {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit missing zero check for `_lzHelper`
11:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)
            OmnichainLogic(_lzHelper, baseConnectorParams)
        { }

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L11)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit missing zero check for `_registry`
34:     constructor(address[] memory usersAddresses, address _valueOracle, PositionRegistry _registry, uint256 _vaultId)
            NoyaGovernanceBase(_registry, _vaultId)
        {

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L34)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit missing zero check for `swapHandler`
/// @audit missing zero check for `_lifi`
27:     constructor(address swapHandler, address _lifi) Ownable2Step() Ownable(msg.sender) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L27)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit missing zero check for `_factory`
/// @audit missing zero check for `_registry`
31:     constructor(address _factory, PositionRegistry _registry) {

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L31)]



<a name="L-15"></a> 
### [L-15] Consider some checks for `address(0)` when setting address state variables
Check for zero-address to avoid the risk of setting `address(0)` for state variables after an update.

<details>
<summary>
There are <b>29</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `_valueOracle`
126:         valueOracle = _valueOracle;

/// @audit `_withdrawFeeReceiver`
143:         withdrawFeeReceiver = _withdrawFeeReceiver;

/// @audit `_performanceFeeReceiver`
144:         performanceFeeReceiver = _performanceFeeReceiver;

/// @audit `_managementFeeReceiver`
145:         managementFeeReceiver = _managementFeeReceiver;

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L126), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L143), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L144), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L145)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

/// @audit `_accountingManager`
18:         accountingManager = _accountingManager;

/// @audit `_receiver`
20:         receiver = _receiver;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L18), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L20)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `_flashLoan`
76:         flashLoan = _flashLoan;

/// @audit `_flashLoan`
86:         flashLoan = _flashLoan;

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L76), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L86)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `_poolBaseToken`
38:         poolBaseToken = _poolBaseToken;

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L38)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `aura`
48:         AURA = aura;

/// @audit `bal`
49:         BAL = bal;

/// @audit `_balancerVault`
50:         balancerVault = _balancerVault;

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L48), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L49), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L50)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `_registry`
28:         registry = _registry;

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L28)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `cvx`
57:         CVX = cvx;

/// @audit `crv`
58:         CRV = crv;

/// @audit `prisma`
59:         PRISMA = prisma;

```
*Github:* [[57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L57), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L58), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L59)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `_lido`
27:         lido = _lido;

/// @audit `_lidoW`
28:         lidoWithdrawal = _lidoW;

/// @audit `_steth`
29:         steth = _steth;

/// @audit `w`
30:         weth = w;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L30)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `_mav`
50:         mav = _mav;

/// @audit `_veMav`
51:         veMav = _veMav;

/// @audit `mr`
52:         maverickRouter = mr;

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L50), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L51), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L52)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

/// @audit `_registry`
23:         registry = _registry;

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L23)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

/// @audit `_lzHelper`
36:         lzHelper = _lzHelper;

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L36)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `_lifi`
29:         lifi = _lifi;

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L29)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit `_registry`
31:         registry = _registry;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L31)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `_factory`
32:         factory = _factory;

/// @audit `_registry`
33:         registry = _registry;

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L32), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L33)]


</details>


<a name="L-16"></a> 
### [L-16] Owner can renounce ownership
Each of the following contracts implements or inherits the `renounceOwnership()` function. This can represent a certain risk if the ownership is renounced for any other reason than by design. Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7)]


```solidity
File: ./contracts/governance/Keepers.sol

9: contract Keepers is EIP712, Ownable2Step {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10)]



<a name="L-17"></a> 
### [L-17] `receive()`/`fallback()` function does not authorize requests
Having no access control on the function (e.g. `require(msg.sender == address(weth))`) means that someone may send Ether to the contract, and have no way to get anything back out, which is a loss of funds. If the concern is having to spend a small amount of gas to check the sender against an immutable address, the code should at least have a function to rescue mistakenly-sent Ether.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/connectors/LidoConnector.sol

89:     receive() external payable { }

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L89)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

56:     receive() external payable { }

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L56)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

27:     receive() external payable { }

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L27)]



<a name="L-18"></a> 
### [L-18] Some tokens may revert when large transfers are made
Tokens such as COMP or UNI will revert when an address' balance reaches `type(uint96).max`. Ensure that the calls below can be broken up into smaller batches if necessary.

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

156:             IERC20(token).safeTransfer(address(msg.sender), amount);

205:         baseToken.safeTransferFrom(msg.sender, address(this), amount);

428:             baseToken.safeTransfer(data.receiver, baseTokenAmount);

439:             baseToken.safeTransfer(withdrawFeeReceiver, withdrawFeeAmount);

688:             IERC20(token).safeTransfer(msg.sender, amount);

```
*Github:* [[156](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L156), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L205), [428](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L428), [439](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L439), [688](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L688)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

76:                 tokens[i].safeTransfer(receiver, amounts[i]);

91:             tokens[i].safeTransfer(msg.sender, amounts[i]);

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L76), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L91)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

32:         IERC721(address(positionManager)).safeTransferFrom(address(this), address(masterchef), tokenId);

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L32)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

99:         IERC20(address(_SY)).safeTransfer(address(_YT), syAmount);

114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

204:         IERC20(address(market)).safeTransfer(address(market), amount);

221:         IERC20(address(SY)).safeTransfer(address(SY), _amount);

```
*Github:* [[99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L99), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L221)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

96:             IERC20(token).safeTransfer(address(accountingManager), newAmount);

99:             IERC20(token).safeTransfer(address(msg.sender), amount);

104:             IERC20(token).safeTransfer(msg.sender, amount);

```
*Github:* [[96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L96), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L99), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L104)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

32:             IERC20(token).safeTransfer(msg.sender, amount);

36:         IERC20(token).safeTransfer(msg.sender, amountToSend);

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L32), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L36)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

198:             IERC20(token).safeTransfer(userAddress, amount);

```
*Github:* [[198](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L198)]


</details>


<a name="L-19"></a> 
### [L-19] Some tokens may revert when zero value transfers are made
Despite the fact that [EIP-20 states](https://github.com/ethereum/EIPs/blob/7500ac4fc1bbdfaf684e7ef851f798f6b667b2fe/EIPS/eip-20.md?plain=1#L116) that zero-value transfers must be accepted, some tokens, such as LEND, will revert if this is attempted, which may cause transactions that involve other tokens (such as batch operations) to fully revert. Consider skipping the transfer if the amount is zero, which will also save gas.

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

156:             IERC20(token).safeTransfer(address(msg.sender), amount);

205:         baseToken.safeTransferFrom(msg.sender, address(this), amount);

428:             baseToken.safeTransfer(data.receiver, baseTokenAmount);

439:             baseToken.safeTransfer(withdrawFeeReceiver, withdrawFeeAmount);

688:             IERC20(token).safeTransfer(msg.sender, amount);

```
*Github:* [[156](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L156), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L205), [428](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L428), [439](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L439), [688](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L688)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

76:                 tokens[i].safeTransfer(receiver, amounts[i]);

91:             tokens[i].safeTransfer(msg.sender, amounts[i]);

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L76), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L91)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

32:         IERC721(address(positionManager)).safeTransferFrom(address(this), address(masterchef), tokenId);

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L32)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

99:         IERC20(address(_SY)).safeTransfer(address(_YT), syAmount);

114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

204:         IERC20(address(market)).safeTransfer(address(market), amount);

221:         IERC20(address(SY)).safeTransfer(address(SY), _amount);

```
*Github:* [[99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L99), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L221)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

96:             IERC20(token).safeTransfer(address(accountingManager), newAmount);

99:             IERC20(token).safeTransfer(address(msg.sender), amount);

104:             IERC20(token).safeTransfer(msg.sender, amount);

```
*Github:* [[96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L96), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L99), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L104)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

32:             IERC20(token).safeTransfer(msg.sender, amount);

36:         IERC20(token).safeTransfer(msg.sender, amountToSend);

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L32), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L36)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

198:             IERC20(token).safeTransfer(userAddress, amount);

```
*Github:* [[198](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L198)]


</details>


<a name="L-20"></a> 
### [L-20] Sending tokens in a for loop
Performing token transfers in a loop in a Solidity contract is generally not recommended due to various reasons. One of these reasons is the "Fail-Silently" issue.

In a Solidity loop, if one transfer operation fails, it causes the entire transaction to fail. This issue can be particularly troublesome when you're dealing with multiple transfers in one transaction. For instance, if you're looping through an array of recipients to distribute dividends or rewards, a single failed transfer will prevent all the subsequent recipients from receiving their transfers. This could be due to the recipient contract throwing an exception or due to other issues like a gas limit being exceeded.

Moreover, such a design could also inadvertently lead to a situation where a malicious contract intentionally causes a failure when receiving Ether to prevent other participants from getting their rightful transfers. This could open up avenues for griefing attacks in the system.

Resolution: To mitigate this problem, it's typically recommended to follow the "withdraw pattern" in your contracts instead of pushing payments. In this model, each recipient would be responsible for triggering their own payment. This separates each transfer operation, so a failure in one doesn't impact the others. Additionally, it greatly reduces the chance of malicious interference as the control over fund withdrawal lies with the intended recipient and not with an external loop operation.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `sendTokensToTrustedAddress`
178:         for (uint256 i = 0; i < tokens.length; i++) {
                 // gather all of the tokens
                 uint256 _balance = IERC20(tokens[i]).balanceOf(address(this));
                 ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `sendTokensToTrustedAddress`
41:         for (uint256 i = 0; i < tokens.length; i++) {
                // gather all of the tokens
    
                ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41)]



<a name="L-21"></a> 
### [L-21] Tokens may be minted to `address(0)`

*There is one instance of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

693:     function mint(uint256 shares, address receiver) public override returns (uint256) {
             revert NoyaAccounting_NOT_ALLOWED();
         }

```
*Github:* [[693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693)]



<a name="L-22"></a> 
### [L-22] Unsafe downcast
When a type is downcast to a smaller type, the higher order bits are truncated, effectively applying a modulo to the original value. Without any other checks, this wrapping will lead to unexpected behavior and bugs.

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit uint256 -> uint128
169:         ICurveSwap(poolInfo.pool).remove_liquidity_one_coin(amount, int128(uint128(withdrawIndex)), minAmount);

/// @audit uint256 -> uint128
302:         int128 tokenIndex = int128(uint128(index));

```
*Github:* [[169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L169), [302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L302)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit uint256 -> uint128
90:             _accountId, uint128(poolIds[poolIndex]), collateralType, newCollateralAmountD18, leverage

```
*Github:* [[90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L90)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit uint256 -> uint16
84:                 uint16(withdrawRequest.poolId), withdrawRequest.routerAmount, address(this)

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L84)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit uint256 -> uint128
61:         uint128 amountIn128 = uint128(amount);

/// @audit int56 -> int24
81:         int24 timeWeightedAverageTick = int24(tickCumulativesDelta / int56(int32(period)));

```
*Github:* [[61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L61), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L81)]



<a name="L-23"></a> 
### [L-23] Use Ownable2Step instead of Ownable
`Ownable2Step` and `Ownable2StepUpgradeable` prevent the contract ownership from mistakenly being transferred to an address that cannot handle it (e.g. due to a typo in the address), by requiring that the recipient of the owner permissions actively accept via a contract call of its own.

*There is one instance of this issue:*
```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7)]



<a name="L-24"></a> 
### [L-24] Consider using `ERC721A` instead of `ERC721`
[ERC721A](https://www.erc721a.org/) is an implementation of IERC721 with significant gas savings for minting multiple NFTs in a single transaction.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

12: contract UNIv3Connector is BaseConnector, ERC721Holder {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12)]



<a name="L-25"></a> 
### [L-25] Using zero as a parameter
Taking `0` as a valid argument in Solidity without checks can lead to severe security issues. A historical example is the infamous `0x0` address bug where numerous tokens were lost. This happens because 0 can be interpreted as an uninitialized `address`, leading to transfers to the 0x0 address, effectively burning tokens. Moreover, `0` as a denominator in division operations would cause a runtime exception. It's also often indicative of a logical error in the caller's code. It's important to always validate input and handle edge cases like `0` appropriately. Use `require()` statements to enforce conditions and provide clear error messages to facilitate debugging and safer code.

*There are <b>10</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

215:         depositQueue.queue[depositQueue.last] = DepositRequest(receiver, block.timestamp, 0, amount, 0);

313:         withdrawQueue.queue[withdrawQueue.last] = WithdrawRequest(msg.sender, receiver, block.timestamp, 0, share, 0);

```
*Github:* [[215](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L215), [313](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L313)]


```solidity
File: ./contracts/accountingManager/Registry.sol

141:         vault.holdingPositions.push(HoldingPI(address(0), address(0), bytes32(0), "", "", type(uint256).max));

```
*Github:* [[141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L141)]


```solidity
File: ./contracts/connectors/Dolomite.sol

50:         (uint256[] memory markets,,,) = dolomiteMargin.getAccountBalances(Info(address(this), 0));

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L50)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

66:             revert IConnector_LowHealthFactor(0);

104:             revert IConnector_LowHealthFactor(0);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L66), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L104)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

213:                 SwapRequest(address(this), routeIds[i], amountsIn[i], tokensIn[i], tokensOut[i], swapData[i], true, 0)

```
*Github:* [[213](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L213)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

80:         _lzSend(lzChainId, data, messageSetting, MessagingFee(address(this).balance, 0), payable(address(this))); // TODO: send event here

```
*Github:* [[80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L80)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

59:         emit SetSlippageTolerance(address(0), address(0), _slippageTolerance);

```
*Github:* [[59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L59)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

129:             revert NoyaChainlinkOracle_PRICE_ORACLE_UNAVAILABLE(address(source), address(0), address(0));

```
*Github:* [[129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L129)]



<a name="L-26"></a> 
### [L-26] `abi.encodePacked()` should not be used with dynamic types when passing the result to a hash function such as `keccak256()`
Use `abi.encode()` instead which will pad items to 32 bytes, which will [prevent hash collisions](https://docs.soliditylang.org/en/v0.8.13/abi-spec.html#non-standard-packed-mode) (e.g. `abi.encodePacked(0x123,0x456)` => `0x123456` => `abi.encodePacked(0x1,0x23456)`, but `abi.encode(0x123,0x456)` => `0x0...1230...456`). "Unless there is a compelling reason, `abi.encode` should be preferred". If there is only one argument to `abi.encodePacked()` it can often be cast to `bytes()` or `bytes32()` [instead](https://ethereum.stackexchange.com/questions/30912/how-to-compare-strings-in-solidity#answer-82739).
If all arguments are strings and or bytes, `bytes.concat()` should be used instead

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/connectors/UNIv3Connector.sol

136:             bytes32 key = keccak256(abi.encodePacked(positionManager, tL, tU));

```
*Github:* [[136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L136)]


```solidity
File: ./contracts/governance/Keepers.sol

102:             bytes32 totalHash = keccak256(abi.encodePacked("\x19\x01", _domainSeparatorV4(), txInputHash));

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L102)]



<a name="L-27"></a> 
### [L-27] `decimals()` is not a part of the ERC-20 standard
The `decimals()` function is not a part of the ERC-20 standard, and was added later as an optional extension. As such, some valid ERC20 tokens do not support this interface, so it is unsafe to blindly cast all tokens to this interface, and then call this function.

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

139:         uint256 decimals = IERC20Metadata(token).decimals();

```
*Github:* [[139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L139)]



<a name="L-28"></a> 
### [L-28] `onlyOwner` functions not accessible if owner renounces ownership
The owner is able to perform certain privileged activities, but it's possible to set the owner to `address(0)`. This can represent a certain risk if the ownership is renounced for any other reason than by design. Renouncing ownership will leave the contract without an owner, therefore limiting any functionality that needs authority.

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/governance/Keepers.sol

42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {

63:     function setThreshold(uint8 _threshold) public onlyOwner {

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L63)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

45:     function addHandler(address _handler, bool state) external onlyOwner {

55:     function addChain(uint256 _chainId, bool state) external onlyOwner {

65:     function addBridgeBlacklist(string memory bridgeName, bool state) external onlyOwner {

193:     function rescueFunds(address token, address userAddress, uint256 amount) external onlyOwner {

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L45), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L55), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L65), [193](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L193)]



<a name="L-29"></a> 
### [L-29] Chainlink answer is not compared against min/max values
Some check like this can be added to avoid returning of the min price or the max price in case of the price crashes:
```solidity
	require(answer < _maxPrice, "Upper price bound breached");
	require(answer > _minPrice, "Lower price bound breached");
```

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

123:         (, price,, updatedAt,) = source.latestRoundData();

```
*Github:* [[123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L123)]



<a name="L-30"></a> 
### [L-30] Prefer skip over revert model in iteration
It is preferable to skip operations on an array index when a condition is not met rather than reverting the whole transaction as reverting can introduce the possiblity of malicous actors purposefully introducing array objects which fail conditional checks within for/while loops so group operations fail. As such it is recommended to simply skip such array indices over reverting unless there is a valid security or logic reason behind not doing so.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

79:             for (uint256 i = 0; i < destinationConnector.length; i++) {
                    // execute the transactions
                    (bool success,) = destinationConnector[i].call{ value: 0, gas: gas[i] }(callingData[i]);
                    require(success, "BalancerFlashLoan: Flash loan failed");

89:         for (uint256 i = 0; i < tokens.length; i++) {
                // send the tokens back to the vault
                tokens[i].safeTransfer(msg.sender, amounts[i]);
                require(tokens[i].balanceOf(address(this)) == 0, "BalancerFlashLoan: Flash loan extra tokens");

```
*Github:* [[79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L79), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L89)]


```solidity
File: ./contracts/governance/Keepers.sol

104:             for (uint256 i = 0; i < threshold;) {
                     address recovered = ECDSA.recover(totalHash, sigV[i], sigR[i], sigS[i]);
                     require(recovered > lastAdd && isOwner[recovered]);

```
*Github:* [[104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L104)]



<a name="L-31"></a> 
### [L-31] External calls in modifiers should be avoided
External calls within modifiers can introduce unintended reentrancy risks and obscure the flow of a contract's logic. Modifiers are designed to perform checks before executing function logic, and using external calls can make the flow unpredictable due to the potential for state changes or reentrancy by the called contract. Such ambiguity makes code harder to audit and understand. To ensure clarity and security, avoid external calls in modifiers. Instead, place them in the function body, where their execution order and effects are more explicit. This practice enhances contract readability, aids auditors, and minimizes unexpected behaviors.

<details>
<summary>
There are <b>13</b> instances (click to show):
</summary>

```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

/// @audit `.getGovernanceAddresses(...)`
32:         (,,, address keeperContract,, address emergencyManager) = registry.getGovernanceAddresses(vaultId);

/// @audit `.flashLoan(...)`
33:         if (!(msg.sender == keeperContract || msg.sender == emergencyManager || msg.sender == registry.flashLoan())) {

/// @audit `.getGovernanceAddresses(...)`
44:         (,,,,, address emergencyManager) = registry.getGovernanceAddresses(vaultId);

/// @audit `.getGovernanceAddresses(...)`
54:         (,,,, address watcherContract, address emergencyManager) = registry.getGovernanceAddresses(vaultId);

/// @audit `.getGovernanceAddresses(...)`
66:         (, address maintainer,,,, address emergencyManager) = registry.getGovernanceAddresses(vaultId);

/// @audit `.getGovernanceAddresses(...)`
76:         (, address maintainer,,,,) = registry.getGovernanceAddresses(vaultId);

/// @audit `.getGovernanceAddresses(...)`
86:         (address governer,,,,,) = registry.getGovernanceAddresses(vaultId);

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L32), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L33), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L44), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L54), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L66), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L76), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L86)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit `.MAINTAINER_ROLE(...)`
25:         if (!registry.hasRole(registry.MAINTAINER_ROLE(), msg.sender)) revert INoyaValueOracle_Unauthorized(msg.sender);

/// @audit `.hasRole(...)`
25:         if (!registry.hasRole(registry.MAINTAINER_ROLE(), msg.sender)) revert INoyaValueOracle_Unauthorized(msg.sender);

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L25), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L25)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `.MAINTAINER_ROLE(...)`
42:         if (!registry.hasRole(registry.MAINTAINER_ROLE(), msg.sender)) revert INoyaValueOracle_Unauthorized(msg.sender);

/// @audit `.hasRole(...)`
42:         if (!registry.hasRole(registry.MAINTAINER_ROLE(), msg.sender)) revert INoyaValueOracle_Unauthorized(msg.sender);

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L42), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L42)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `.MAINTAINER_ROLE(...)`
25:         if (!registry.hasRole(registry.MAINTAINER_ROLE(), msg.sender)) revert INoyaValueOracle_Unauthorized(msg.sender);

/// @audit `.hasRole(...)`
25:         if (!registry.hasRole(registry.MAINTAINER_ROLE(), msg.sender)) revert INoyaValueOracle_Unauthorized(msg.sender);

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L25), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L25)]


</details>


<a name="L-32"></a> 
### [L-32] For loops in public or external functions should be avoided due to high gas costs and possible DOS
In Solidity, for loops can potentially cause Denial of Service (DoS) attacks if not handled carefully. DoS attacks can occur when an attacker intentionally exploits the gas cost of a function, causing it to run out of gas or making it too expensive for other users to call. Below are some scenarios where for loops can lead to DoS attacks: Nested for loops can become exceptionally gas expensive and should be used sparingly.

<details>
<summary>
There are <b>22</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

548:     function retrieveTokensForWithdraw(RetrieveData[] calldata retrieveData) public onlyManager nonReentrant {
             uint256 amountAskedForWithdraw_temp = 0;
             uint256 neededAssets = neededAssetsForWithdraw();
             for (uint256 i = 0; i < retrieveData.length; i++) {

596:     function getQueueItems(bool depositOrWithdraw, uint256[] memory items)
             public
             view
             returns (DepositRequest[] memory depositData, WithdrawRequest[] memory withdrawData)
         {
             if (depositOrWithdraw) {
                 depositData = new DepositRequest[](items.length);
                 for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[548](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L548), [596](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L596)]


```solidity
File: ./contracts/accountingManager/Registry.sol

106:     function addVault(
             uint256 vaultId,
             address _accountingManager,
             address _baseToken,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency,
             address[] calldata _trustedTokens
         ) external onlyRole(MAINTAINER_ROLE) {
             if (vaults[vaultId].accountManager != address(0)) revert AlreadyExists();
             Vault storage vault = vaults[vaultId];
             require(_governer != address(0));
             require(_accountingManager != address(0));
             require(_baseToken != address(0));
             require(_maintainer != address(0));
             require(_keeperContract != address(0));
             require(_watcher != address(0));
     
             vault.accountManager = _accountingManager;
             vault.baseToken = _baseToken;
             vault.governer = _governer;
             vault.maintainer = _maintainer;
             vault.maintainerWithoutTimeLock = _maintainerWithoutTimelock;
             vault.keeperContract = _keeperContract;
             vault.watcherContract = _watcher;
             vault.emergency = _emergency;
             // Enable the accounting manager connector so the vault can use the "getValue" function of the accounting manager for calculating the value of tokens
             vault.connectors[vault.accountManager].enabled = true;
             vault.enabled = true;
             for (uint256 i = 0; i < _trustedTokens.length; i++) {

188:     function addConnector(uint256 vaultId, address[] calldata _connectorAddresses, bool[] calldata _enableds)
             external
             onlyVaultMaintainer(vaultId)
             vaultExists(vaultId)
         {
             Vault storage vault = vaults[vaultId];
             for (uint256 i = 0; i < _connectorAddresses.length; i++) {

207:     function updateConnectorTrustedTokens(
             uint256 vaultId,
             address _connectorAddress,
             address[] calldata _tokens,
             bool trusted
         ) external onlyVaultMaintainer(vaultId) vaultExists(vaultId) {
             Vault storage vault = vaults[vaultId];
             for (uint256 i = 0; i < _tokens.length; i++) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106), [188](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L188), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L207)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {
            for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

54:     function receiveFlashLoan(
            IERC20[] memory tokens,
            uint256[] memory amounts,
            uint256[] memory feeAmounts,
            bytes memory userData
        ) external override {
            emit ReceiveFlashLoan(tokens, amounts, feeAmounts, userData);
            require(msg.sender == address(vault));
            (
                uint256 vaultId,
                address receiver,
                address[] memory destinationConnector,
                bytes[] memory callingData,
                uint256[] memory gas
            ) = abi.decode(userData, (uint256, address, address[], bytes[], uint256[]));
            (,,, address keeperContract,, address emergencyManager) = registry.getGovernanceAddresses(vaultId);
            if (!(caller == keeperContract)) {
                revert Unauthorized(caller);
            }
            if (registry.isAnActiveConnector(vaultId, receiver)) {
                for (uint256 i = 0; i < tokens.length; i++) {
                    // send the tokens to the receiver
                    tokens[i].safeTransfer(receiver, amounts[i]);
                    amounts[i] = amounts[i] + feeAmounts[i];
                }
                for (uint256 i = 0; i < destinationConnector.length; i++) {
                    // execute the transactions
                    (bool success,) = destinationConnector[i].call{ value: 0, gas: gas[i] }(callingData[i]);
                    require(success, "BalancerFlashLoan: Flash loan failed");
                }
                for (uint256 i = 0; i < tokens.length; i++) {
                    // send the tokens back to this contract
                    BaseConnector(receiver).sendTokensToTrustedAddress(address(tokens[i]), amounts[i], address(this), "");
                }
            }
            for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L54)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

221:     function harvestRewards(address[] calldata gauges) public onlyManager nonReentrant {
             for (uint256 i = 0; i < gauges.length; i++) {

233:     function harvestPrismaRewards(address[] calldata pools) public onlyManager nonReentrant {
             for (uint256 i = 0; i < pools.length; i++) {

247:     function harvestConvexRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {
             for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L221), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L233), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L247)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

62:     function executeCommands(
            address facade,
            address creditAccount,
            MultiCall[] calldata calls,
            address approvalToken,
            uint256 amount
        ) public onlyManager nonReentrant {
            for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L62)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

101:     function collectAllFees(uint256[] memory tokenIds) public onlyManager nonReentrant {
             for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L101)]


```solidity
File: ./contracts/governance/Keepers.sol

27:     constructor(address[] memory _owners, uint8 _threshold) EIP712("Keepers", "1") Ownable2Step() Ownable(msg.sender) {
            require(_owners.length <= 10 && _threshold <= _owners.length && _threshold > 1);
            for (uint256 i = 0; i < _owners.length; i++) {

42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {
            uint256 numOwnersTemp = numOwners;
            for (uint256 i = 0; i < _owners.length; i++) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L27), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

169:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data)
             external
             override
             nonReentrant
         {
             if (!registry.isAddressTrusted(vaultId, msg.sender)) {
                 revert IConnector_InvalidAddress(msg.sender);
             }
     
             for (uint256 i = 0; i < tokens.length; i++) {
                 // gather all of the tokens
                 uint256 _balance = IERC20(tokens[i]).balanceOf(address(this));
                 ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");
                 uint256 _balanceAfter = IERC20(tokens[i]).balanceOf(address(this));
                 if (_balanceAfter < amounts[i] + _balance) {
                     revert IConnector_InsufficientDepositAmount(_balanceAfter - _balance, amounts[i]);
                 }
             }
             _addLiquidity(tokens, amounts, data); // call the specific implementation if the connector needs to do something after the liquidity is added
     
             for (uint256 i = 0; i < tokens.length; i++) {

204:     function swapHoldings(
             address[] memory tokensIn,
             address[] memory tokensOut,
             uint256[] memory amountsIn,
             bytes[] memory swapData,
             uint256[] memory routeIds
         ) external onlyManager nonReentrant {
             for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L169), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L204)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {
            for (uint256 i = 0; i < tokens.length; i++) {
                // gather all of the tokens
    
                ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");
            }
            for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

34:     constructor(address[] memory usersAddresses, address _valueOracle, PositionRegistry _registry, uint256 _vaultId)
            NoyaGovernanceBase(_registry, _vaultId)
        {
            for (uint256 i = 0; i < usersAddresses.length; i++) {

147:     function addRoutes(RouteData[] memory _routes) public onlyMaintainer {
             for (uint256 i = 0; i < _routes.length;) {

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L34), [147](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L147)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

37:     function updateDefaultPriceSource(address[] calldata baseCurrencies, INoyaValueOracle[] calldata oracles)
            public
            onlyMaintainer
        {
            for (uint256 i = 0; i < baseCurrencies.length; i++) {

51:     function updateAssetPriceSource(address[] calldata asset, address[] calldata baseToken, address[] calldata oracle)
            external
            onlyMaintainer
        {
            for (uint256 i = 0; i < oracle.length; i++) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L51)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

70:     function setAssetSources(address[] calldata assets, address[] calldata baseTokens, address[] calldata sources)
            external
            onlyMaintainer
        {
            for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L70)]


</details>


<a name="L-33"></a> 
### [L-33] Function with two (or more) array parameters missing a length check
In Solidity, if two array parameters are used within a function and one of their lengths is used as the for-loop range, it's essential to have a length check. If the arrays are not the same length, you could experience out-of-bounds errors or unintended behavior. This could happen if the function tries to access an index that doesn't exist in the shorter array.

Resolution: Always validate that the lengths of both arrays are the same before entering the loop. Add a require statement at the start of the function to check that both arrays are of equal length. This helps maintain the integrity of the function and prevents potential errors due to differing array lengths. This requirement ensures the function fails early if the arrays don't match, rather than failing unpredictably or silently during execution.

*There are <b>9</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

188:     function addConnector(uint256 vaultId, address[] calldata _connectorAddresses, bool[] calldata _enableds)
             external
             onlyVaultMaintainer(vaultId)
             vaultExists(vaultId)
         {
             Vault storage vault = vaults[vaultId];
             for (uint256 i = 0; i < _connectorAddresses.length; i++) {

```
*Github:* [[188](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L188)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

54:     function receiveFlashLoan(
            IERC20[] memory tokens,
            uint256[] memory amounts,
            uint256[] memory feeAmounts,
            bytes memory userData
        ) external override {
            emit ReceiveFlashLoan(tokens, amounts, feeAmounts, userData);
            require(msg.sender == address(vault));
            (
                uint256 vaultId,
                address receiver,
                address[] memory destinationConnector,
                bytes[] memory callingData,
                uint256[] memory gas
            ) = abi.decode(userData, (uint256, address, address[], bytes[], uint256[]));
            (,,, address keeperContract,, address emergencyManager) = registry.getGovernanceAddresses(vaultId);
            if (!(caller == keeperContract)) {
                revert Unauthorized(caller);
            }
            if (registry.isAnActiveConnector(vaultId, receiver)) {
                for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L54)]


```solidity
File: ./contracts/governance/Keepers.sol

42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {
            uint256 numOwnersTemp = numOwners;
            for (uint256 i = 0; i < _owners.length; i++) {

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

169:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data)
             external
             override
             nonReentrant
         {
             if (!registry.isAddressTrusted(vaultId, msg.sender)) {
                 revert IConnector_InvalidAddress(msg.sender);
             }
     
             for (uint256 i = 0; i < tokens.length; i++) {

204:     function swapHoldings(
             address[] memory tokensIn,
             address[] memory tokensOut,
             uint256[] memory amountsIn,
             bytes[] memory swapData,
             uint256[] memory routeIds
         ) external onlyManager nonReentrant {
             for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L169), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L204)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {
            for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

37:     function updateDefaultPriceSource(address[] calldata baseCurrencies, INoyaValueOracle[] calldata oracles)
            public
            onlyMaintainer
        {
            for (uint256 i = 0; i < baseCurrencies.length; i++) {

51:     function updateAssetPriceSource(address[] calldata asset, address[] calldata baseToken, address[] calldata oracle)
            external
            onlyMaintainer
        {
            for (uint256 i = 0; i < oracle.length; i++) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L51)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

70:     function setAssetSources(address[] calldata assets, address[] calldata baseTokens, address[] calldata sources)
            external
            onlyMaintainer
        {
            for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L70)]



<a name="L-34"></a> 
### [L-34] Library has public/external functions
Libraries in Solidity are meant to be static collections of functions. They are deployed once and their code is reused by contracts through DELEGATECALL, which executes the library's code in the context of the calling contract. Public or external functions in libraries can be misleading because libraries are not supposed to maintain state or have external interactions in the way contracts do. Designing libraries with these kinds of functions goes against their intended purpose and can lead to confusion or misuse. For state management or external interactions, using contracts instead of libraries is more appropriate. Libraries should focus on utility functions that can operate on the data passed to them without side effects, enhancing code reuse and gas efficiency.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/helpers/TVLHelper.sol

14:     function getTVL(uint256 vaultId, PositionRegistry registry, address baseToken) public view returns (uint256) {

41:     function getLatestUpdateTime(uint256 vaultId, PositionRegistry registry) public view returns (uint256) {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L14), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L41)]



<a name="L-35"></a> 
### [L-35] No limits when setting price values
When setting price values without defined upper or lower bounds, it can lead to unpredictable behavior or potential vulnerabilities. For instance, overly high or low prices could be set maliciously or accidentally, disrupting platform functionality or enabling manipulative profit schemes. It's crucial to enforce constraints on price values to ensure they remain within a reasonable range. As a solution, implement checks to cap the minimum and maximum permissible price values. Additionally, consider implementing a governance mechanism or multi-signature approval process for significant price adjustments, ensuring an added layer of security and oversight.

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

51:     function updateAssetPriceSource(address[] calldata asset, address[] calldata baseToken, address[] calldata oracle)
            external
            onlyMaintainer
        {
            for (uint256 i = 0; i < oracle.length; i++) {
                priceSource[asset[i]][baseToken[i]] = INoyaValueOracle(oracle[i]);
            }
            emit UpdatedAssetPriceSource(asset, baseToken, oracle);

```
*Github:* [[51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L51)]



<a name="L-36"></a> 
### [L-36] int/uint passed into abi.encodePacked without casting to a string
Not casting an integer as a string before passing it into abi.encode can result in unintended behaviour. lets say '1' being encoded as '1' it will be encoded as char(1) which is the 'start of heading' control character or id of 60 would be encoded as '<'. This is may not be intended. To rectify this, simply cast the Id as a string with string(id) or ideally use solmate's libString library (toString)

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/connectors/UNIv3Connector.sol

136:             bytes32 key = keccak256(abi.encodePacked(positionManager, tL, tU));

136:             bytes32 key = keccak256(abi.encodePacked(positionManager, tL, tU));

```
*Github:* [[136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L136), [136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L136)]




## Non Critical Issues

<a name="NC-1"></a> 
### [NC-1] `abi.encodePacked()` should be replaced with `bytes.concat()`
Solidity version 0.8.4 introduces `bytes.concat()`, which can be used to replace `abi.encodePacked()` on bytes/strings. It can make the intended operation clearer, leading to less reviewer confusion.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/connectors/UNIv3Connector.sol

136:             bytes32 key = keccak256(abi.encodePacked(positionManager, tL, tU));

```
*Github:* [[136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L136)]


```solidity
File: ./contracts/governance/Keepers.sol

102:             bytes32 totalHash = keccak256(abi.encodePacked("\x19\x01", _domainSeparatorV4(), txInputHash));

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L102)]



<a name="NC-2"></a> 
### [NC-2] Add inline comments for unnamed variables
`function foo(address x, address)` -> `function foo(address x, address /* y */)`

<details>
<summary>
There are <b>17</b> instances (click to show):
</summary>

```solidity
File: ./contracts/connectors/AaveConnector.sol

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

164:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L164)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

263:     function _getUnderlyingTokens(uint256, bytes memory) public view virtual returns (address[] memory) {

267:     function _addLiquidity(address[] memory, uint256[] memory, bytes memory) internal virtual returns (bool) {

271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

```
*Github:* [[263](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L263), [267](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L267), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

65:     function _lzReceive(Origin calldata _origin, bytes32, bytes calldata _message, address, bytes calldata)
            internal
            override
        {

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L65)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

51:     function _getPositionTVL(HoldingPI memory position, address) public view override returns (uint256) {

```
*Github:* [[51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L51)]


</details>


<a name="NC-3"></a> 
### [NC-3] Avoid mutating function parameters
Function parameters in Solidity are passed by value, meaning they are essentially local copies. Mutating them can lead to confusion and errors because the changes don't persist outside the function. By keeping function parameters immutable, you ensure clarity in code behavior, preventing unintended side-effects. If you need to modify a value based on a parameter, use a local variable inside the function, leaving the original parameter unaltered. By adhering to this practice, you maintain a clear distinction between input data and the internal processing logic, improving code readability and reducing the potential for bugs.

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `amount`
84:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)
            external
            returns (uint256)
        {
            emit TransferTokensToTrustedAddress(token, amount, caller, data);
            (address accountingManager,) = registry.getVaultAddresses(vaultId);
            if (msg.sender == accountingManager) {
                (,,,, address watcherContract,) = registry.getGovernanceAddresses(vaultId);
    
                (uint256 newAmount, bytes memory newData) = abi.decode(data, (uint256, bytes));
                Watchers(watcherContract).verifyRemoveLiquidity(amount, newAmount, newData);
    
                IERC20(token).safeTransfer(address(accountingManager), newAmount);
                amount = newAmount;

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L84)]



<a name="NC-4"></a> 
### [NC-4] Avoid the use of sensitive terms
Use [alternative variants](https://www.zdnet.com/article/mysql-drops-master-slave-and-blacklist-whitelist-terminology/), e.g. allowlist/denylist instead of whitelist/blacklist

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

14:     mapping(string => bool) public isBridgeWhiteListed;

22:     event AddedBridgeBlacklist(string bridgeName, bool state);

65:     function addBridgeBlacklist(string memory bridgeName, bool state) external onlyOwner {

66:         isBridgeWhiteListed[bridgeName] = state;

67:         emit AddedBridgeBlacklist(bridgeName, state);

153:         if (isBridgeWhiteListed[bridgeData.bridge] == false) revert BridgeBlacklisted();

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L14), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L22), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L65), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L66), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L67), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L153)]



<a name="NC-5"></a> 
### [NC-5] Names of errors should use CapWords style
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html)

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

14:     error NoyaGovernance_Unauthorized(address sender);

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L14)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

18:     error NoyaOracle_PriceOracleUnavailable(address asset, address baseToken);

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L18)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

37:     error NoyaChainlinkOracle_DATA_OUT_OF_DATE();

38:     error NoyaChainlinkOracle_PRICE_ORACLE_UNAVAILABLE(address asset, address baseToken, address source);

39:     error NoyaChainlinkOracle_INVALID_INPUT();

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L39)]



<a name="NC-6"></a> 
### [NC-6] Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, for readability
Well-organized data structures make code reviews easier, which may lead to fewer bugs. Consider combining related mappings into mappings to structs, so it's clear what data is related

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

15:     mapping(address => mapping(address => uint256)) public slippageTolerance;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L15)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

14:     mapping(address => mapping(address => address[])) public priceRoutes;

16:     mapping(address => mapping(address => INoyaValueOracle)) public priceSource;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L14), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L16)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

20:     mapping(address => mapping(address => address)) private assetsSources;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L20)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

14:     mapping(address => mapping(address => address)) public assetToBaseToPool;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L14)]



<a name="NC-7"></a> 
### [NC-7] Complex casting
Consider whether the number of casts is really necessary, or whether using a different type would be more appropriate. Alternatively, add comments to explain in detail why the casts are necessary, and any implicit reasons why the cast does not introduce an overflow.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/connectors/CompoundConnector.sol

101:             uint256 principalInBase = uint256(uint104(userBasic.principal));

```
*Github:* [[101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L101)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

169:         ICurveSwap(poolInfo.pool).remove_liquidity_one_coin(amount, int128(uint128(withdrawIndex)), minAmount);

302:         int128 tokenIndex = int128(uint128(index));

```
*Github:* [[169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L169), [302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L302)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

81:         int24 timeWeightedAverageTick = int24(tickCumulativesDelta / int56(int32(period)));

82:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % int56(int32(period)) != 0)) {

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L81), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L82)]



<a name="NC-8"></a> 
### [NC-8] Consider adding a block/deny-list
Doing so will significantly increase centralization, but will help to prevent hackers from using stolen tokens.

<details>
<summary>
There are <b>40</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7)]


```solidity
File: ./contracts/accountingManager/Registry.sol

12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

11: contract AaveConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

27: contract AerodromeConnector is BaseConnector {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

26: contract BalancerConnector is BaseConnector {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

30: contract CamelotConnector is BaseConnector {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

7: contract CompoundConnector is BaseConnector {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

24: contract CurveConnector is BaseConnector {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/Dolomite.sol

9: contract DolomiteConnector is BaseConnector {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

18: contract FraxConnector is BaseConnector {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

8: contract Gearboxv3 is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

8: contract MorphoBlueConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

8: contract PancakeswapConnector is UNIv3Connector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

12: contract PendleConnector is BaseConnector {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

11: contract PrismaConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

8: contract SiloConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

19: contract StargateConnector is BaseConnector {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

12: contract UNIv3Connector is BaseConnector, ERC721Holder {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12)]


```solidity
File: ./contracts/governance/Keepers.sol

9: contract Keepers is EIP712, Ownable2Step {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

6: contract NoyaGovernanceBase {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L6)]


```solidity
File: ./contracts/governance/TimeLock.sol

6: contract NoyaTimeLock is TimelockController {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6)]


```solidity
File: ./contracts/governance/Watchers.sol

6: contract Watchers is Keepers {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

14: contract ConnectorMock2 {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L14)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

18: contract LZHelperReceiver is OAppReceiver {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

19: contract LZHelperSender is OAppSender {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

14: abstract contract OmnichainLogic is BaseConnector {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L14)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

8: contract OmnichainManagerBaseChain is OmnichainLogic {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

10: contract OmnichainManagerNormalChain is OmnichainLogic {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

10: contract NoyaValueOracle is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

10: contract ChainlinkOracleConnector is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

12: contract UniswapValueOracle is INoyaValueOracle {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L12)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

4: contract WETH_Oracle {

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4)]


</details>


<a name="NC-9"></a> 
### [NC-9] Consider adding emergency-stop functionality
Consider adding `Pausable` to the following contracts so it's possible to stop them in case of an emergency.

<details>
<summary>
There are <b>38</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7)]


```solidity
File: ./contracts/accountingManager/Registry.sol

12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

11: contract AaveConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

27: contract AerodromeConnector is BaseConnector {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

26: contract BalancerConnector is BaseConnector {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

30: contract CamelotConnector is BaseConnector {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

7: contract CompoundConnector is BaseConnector {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

24: contract CurveConnector is BaseConnector {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/Dolomite.sol

9: contract DolomiteConnector is BaseConnector {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

18: contract FraxConnector is BaseConnector {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

8: contract Gearboxv3 is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

8: contract MorphoBlueConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

8: contract PancakeswapConnector is UNIv3Connector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

12: contract PendleConnector is BaseConnector {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

11: contract PrismaConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

8: contract SiloConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

19: contract StargateConnector is BaseConnector {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

12: contract UNIv3Connector is BaseConnector, ERC721Holder {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12)]


```solidity
File: ./contracts/governance/Keepers.sol

9: contract Keepers is EIP712, Ownable2Step {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

6: contract NoyaGovernanceBase {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L6)]


```solidity
File: ./contracts/governance/TimeLock.sol

6: contract NoyaTimeLock is TimelockController {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6)]


```solidity
File: ./contracts/governance/Watchers.sol

6: contract Watchers is Keepers {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

14: contract ConnectorMock2 {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L14)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

18: contract LZHelperReceiver is OAppReceiver {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

19: contract LZHelperSender is OAppSender {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

8: contract OmnichainManagerBaseChain is OmnichainLogic {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

10: contract OmnichainManagerNormalChain is OmnichainLogic {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

10: contract NoyaValueOracle is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

10: contract ChainlinkOracleConnector is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

12: contract UniswapValueOracle is INoyaValueOracle {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L12)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

4: contract WETH_Oracle {

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4)]


</details>


<a name="NC-10"></a> 
### [NC-10] Consider adding formal verification proofs
Formal verification is the act of proving or disproving the correctness of intended algorithms underlying a system with respect to a certain formal specification/property/invariant, using formal methods of mathematics.

Some tools that are currently available to perform these tests on smart contracts are [SMTChecker](https://docs.soliditylang.org/en/latest/smtchecker.html) and [Certora Prover](https://www.certora.com/).

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/)]



<a name="NC-11"></a> 
### [NC-11] Consider bounding input array length
The functions below take in an unbounded array, and make function calls for entries in the array. While the function will revert if it eventually runs out of gas, it may be a nicer user experience to require() that the length of the array is below some reasonable maximum, so that the user doesn't have to use up a full transaction's gas only to see that the transaction reverts.

<details>
<summary>
There are <b>21</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit consider length check for `retrieveData`
551:         for (uint256 i = 0; i < retrieveData.length; i++) {

/// @audit consider length check for `items`
603:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[551](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L551), [603](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L603)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit consider length check for `_trustedTokens`
138:         for (uint256 i = 0; i < _trustedTokens.length; i++) {

/// @audit consider length check for `_connectorAddresses`
194:         for (uint256 i = 0; i < _connectorAddresses.length; i++) {

/// @audit consider length check for `_tokens`
214:         for (uint256 i = 0; i < _tokens.length; i++) {

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L138), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L194), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L214)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit consider length check for `rewardsPools`
54:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L54)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit consider length check for `tokens`
74:             for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit consider length check for `gauges`
222:         for (uint256 i = 0; i < gauges.length; i++) {

/// @audit consider length check for `pools`
234:         for (uint256 i = 0; i < pools.length; i++) {

/// @audit consider length check for `rewardsPools`
248:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L222), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L234), [248](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L248)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit consider length check for `calls`
69:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L69)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit consider length check for `tokenIds`
102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit consider length check for `_owners`
44:         for (uint256 i = 0; i < _owners.length; i++) {

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L44)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit consider length check for `tokens`
178:         for (uint256 i = 0; i < tokens.length; i++) {

/// @audit consider length check for `tokensIn`
211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178), [211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit consider length check for `tokens`
41:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit consider length check for `_routes`
148:         for (uint256 i = 0; i < _routes.length;) {

```
*Github:* [[148](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L148)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit consider length check for `baseCurrencies`
41:         for (uint256 i = 0; i < baseCurrencies.length; i++) {

/// @audit consider length check for `oracle`
55:         for (uint256 i = 0; i < oracle.length; i++) {

/// @audit consider length check for `sources`
88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L41), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L55), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit consider length check for `assets`
74:         for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L74)]


</details>


<a name="NC-12"></a> 
### [NC-12] Consider using `AccessControlDefaultAdminRules` rather than `AccessControl`
`AccessControlDefaultAdminRules` implements multiple [security best practices](https://docs.openzeppelin.com/contracts/4.x/api/access#AccessControlDefaultAdminRules) on top of the normal `AccessControl` rules, so consider using it instead.

*There is one instance of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12)]



<a name="NC-13"></a> 
### [NC-13] Consider using descriptive `constant`s when passing zero as a function argument
Passing zero as a function argument can sometimes result in a security issue (e.g. passing zero as the slippage parameter). Consider using a `constant` variable with a descriptive name, so it's clear that the argument is intentionally being used, and for the right reasons.

<details>
<summary>
There are <b>28</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

655:         return new address[](0);

```
*Github:* [[655](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L655)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

48:         IPool(pool).supply(supplyToken, amount, address(this), 0);

70:         IPool(pool).borrow(_borrowAsset, _amount, _interestRateMode, 0, address(this));

121:         return new address[](0);

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L48), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L70), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L121)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

135:         return new address[](0);

```
*Github:* [[135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L135)]


```solidity
File: ./contracts/connectors/Dolomite.sol

39:             vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(0), "", false

53:                 vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(0), "", true

69:         borrowPositionProxy.openBorrowPosition(
                0, accountId, marketId, _amountWei, AccountBalanceHelper.BalanceCheckFlag.None

88:             borrowPositionProxy.transferBetweenAccounts(
                    accountId, 0, marketId, _amountWei, AccountBalanceHelper.BalanceCheckFlag.None

92:             borrowPositionProxy.transferBetweenAccounts(
                    0, accountId, marketId, _amountWei, AccountBalanceHelper.BalanceCheckFlag.None

100:         borrowPositionProxy.closeBorrowPosition(accountId, 0, marketIds);

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L39), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L53), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L69), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L88), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L92), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L100)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

25:         address c = ICreditFacadeV3(facade).openCreditAccount(address(this), new MultiCall[](0), ref);

42:         ICreditFacadeV3(facade).closeCreditAccount(creditAccount, new MultiCall[](0));

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L25), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L42)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

98:             (tokenId,,,) = IMaverickRouter(maverickRouter).addLiquidityToPool{ value: sendEthAmount }(
                    p.pool, 0, p.params, p.minTokenAAmount, p.minTokenBAmount, p.deadline

```
*Github:* [[98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L98)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

39:             morphoBlue.supply(params, amount, 0, address(this), "");

61:             morphoBlue.withdraw(params, amount, 0, address(this), address(this));

82:         morphoBlue.borrow(market, amount, 0, address(this), address(this));

98:         morphoBlue.repay(params, amount, 0, address(this), "");

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L39), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L61), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L82), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L98)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

114:         borrowerOps.adjustTrove(tm, address(this), mFee, 0, wAmount, bAmount, isBorrowing, address(this), address(this));

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L114)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

129:         return new address[](0);

```
*Github:* [[129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L129)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

66:             revert IConnector_LowHealthFactor(0);

104:             revert IConnector_LowHealthFactor(0);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L66), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L104)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

104:         LPStaking.deposit(poolId, 0);

```
*Github:* [[104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L104)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

138:         bytes32 positionId = registry.calculatePositionId(accountingManager, 0, abi.encode(token));

264:         return new address[](0);

286:         IERC20(_token).forceApprove(_spender, 0);

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L138), [264](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L264), [286](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L286)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

76:         return new address[](0);

82:         bytes32 positionId = registry.calculatePositionId(accountingManager, 0, abi.encode(token));

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L76), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L82)]


</details>


<a name="NC-14"></a> 
### [NC-14] Consider using SafeTransferLib.safeTransferETH() or Address.sendValue() for clearer semantic meaning
For improved code readability and better semantic understanding, it's recommended to use OpenZeppelin's SafeTransferLib.safeTransferETH() or Address.sendValue(). These functions explicitly describe their operation with their naming convention, increasing the comprehensibility of the code. Their usage over lower-level calls enhances the maintainability of your smart contract code by clearly indicating the purpose of the function.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

685:             (bool success,) = payable(msg.sender).call{ value: amount }("");

```
*Github:* [[685](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L685)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

81:                 (bool success,) = destinationConnector[i].call{ value: 0, gas: gas[i] }(callingData[i]);

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L81)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

176:         (bool success, bytes memory err) = lifi.call{ value: msg.value }(data);

195:             (bool success,) = payable(userAddress).call{ value: amount }("");

```
*Github:* [[176](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L176), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L195)]



<a name="NC-15"></a> 
### [NC-15] Constant decimal values
The use of fixed decimal values such as 1e18 or 1e8 in Solidity contracts can lead to inaccuracies, bugs, and vulnerabilities, particularly when interacting with tokens having different decimal configurations. Not all ERC20 tokens follow the standard 18 decimal places, and assumptions about decimal places can lead to miscalculations.

Resolution: Always retrieve and use the decimals() function from the token contract itself when performing calculations involving token amounts. This ensures that your contract correctly handles tokens with any number of decimal places, mitigating the risk of numerical errors or under/overflows that could jeopardize contract integrity and user funds.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

52:     uint256 public constant FEE_PRECISION = 1e6;

55:     uint256 public constant PERFORMANCE_MAX_FEE = 1e5;

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L52), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L55)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

14:     uint256 constant ORACLE_PRICE_SCALE = 1e36;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L14)]



<a name="NC-16"></a> 
### [NC-16] Constants should be put on the left side of comparisons
Putting constants on the left side of comparison statements is a best practice known as [Yoda conditions](https://en.wikipedia.org/wiki/Yoda_conditions). Although solidity's static typing system prevents accidental assignments within conditionals, adopting this practice can improve code readability and consistency, especially when working across multiple languages.

<details>
<summary>
There are <b>144</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

106:         require(p._baseTokenAddress != address(0));

107:         require(p._valueOracle != address(0));

108:         require(p._withdrawFeeReceiver != address(0));

109:         require(p._performanceFeeReceiver != address(0));

110:         require(p._managementFeeReceiver != address(0));

125:         require(address(_valueOracle) != address(0));

140:         require(_withdrawFeeReceiver != address(0));

141:         require(_performanceFeeReceiver != address(0));

142:         require(_managementFeeReceiver != address(0));

186:         if (!(from == address(0)) && balanceOf(from) < amount + withdrawRequestsByAddress[from]) {

201:         if (amount == 0) {

374:         if (neededAssets != 0 && amountAskedForWithdraw != currentWithdrawGroup.totalCBAmount) {

634:         if (p.positionTypeId == 0) {

650:         if (positionTypeId == 0) {

684:         if (token == address(0)) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L106), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L107), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L108), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L109), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L110), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L125), [140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L140), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L141), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L142), [186](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L186), [201](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L201), [374](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L374), [634](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L634), [650](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L650), [684](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L684)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

15:         require(_accountingManager != address(0));

16:         require(_baseToken != address(0));

17:         require(_receiver != address(0));

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L17)]


```solidity
File: ./contracts/accountingManager/Registry.sol

54:         if (vaults[_vaultId].accountManager == address(0)) revert NotExist();

67:         require(_governer != address(0));

68:         require(_maintainer != address(0));

69:         require(_emergency != address(0));

118:         if (vaults[vaultId].accountManager != address(0)) revert AlreadyExists();

120:         require(_governer != address(0));

121:         require(_accountingManager != address(0));

122:         require(_baseToken != address(0));

123:         require(_maintainer != address(0));

124:         require(_keeperContract != address(0));

125:         require(_watcher != address(0));

167:         require(_governer != address(0));

168:         require(_maintainer != address(0));

169:         require(_keeperContract != address(0));

170:         require(_watcher != address(0));

304:         if (index == 0) {

347:         if (positionIndex == 0 && removePosition) return type(uint256).max;

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L54), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L67), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L68), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L69), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L118), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L120), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L121), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L122), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L123), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L125), [167](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L167), [168](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L168), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L169), [170](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L170), [304](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L304), [347](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L347)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

36:         require(_pool != address(0));

37:         require(_poolBaseToken != address(0));

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L37)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

43:         require(_router != address(0));

92:         if (IERC20(data.pool).balanceOf(address(this)) == 0) {

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L43), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L92)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

45:         require(_balancerVault != address(0));

46:         require(bal != address(0));

47:         require(aura != address(0));

146:             if (totalLpBalanceOf(p.poolId) == 0) {

177:         if (pool.auraPoolAddress != address(0)) {

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L45), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L46), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L47), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L146), [177](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L177)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

25:         require(_balancerVault != address(0));

26:         require(address(_registry) != address(0));

92:             require(tokens[i].balanceOf(address(this)) == 0, "BalancerFlashLoan: Flash loan extra tokens");

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L26), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L92)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

37:         require(_router != address(0));

38:         require(_factory != address(0));

77:         if (IERC20(pool).balanceOf(address(this)) == 0) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L38), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L77)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

53:         if (getCollBlanace(IComet(_market), false) == 0) {

77:         if (borrowBalanceInBase == 0) return type(uint256).max;

86:         if (borrowBalanceInBase == 0) return 0;

142:         return (assetsIn & (uint16(1) << assetOffset) != 0);

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L53), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L77), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L86), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L142)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

52:         require(_convexBooster != address(0));

53:         require(cvx != address(0));

54:         require(crv != address(0));

55:         require(prisma != address(0));

126:         address poolAddress = (poolInfo.tokens.length > 2 && poolInfo.zap != address(0)) ? poolInfo.zap : pool;

171:         if (totalLpBalanceOf(poolInfo) == 0) {

280:         if (balance == 0) return (0, info.tokens[info.defaultWithdrawIndex]);

283:         if (info.poolAddressIfDefaultWithdrawTokenIsAnotherPosition != address(0)) {

326:         if (info.convexRewardPool == address(0)) return 0;

345:         if (info.gauge == address(0)) return 0;

355:         if (prismaPool == address(0)) return 0;

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L53), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L54), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L55), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L126), [171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L171), [280](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L280), [283](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L283), [326](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L326), [345](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L345), [355](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L355)]


```solidity
File: ./contracts/connectors/Dolomite.sol

24:         require(_depositWithdrawalProxy != address(0));

51:         if (markets.length == 0) {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L24), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L51)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

124:         if (_borrowerAmount == 0) return type(uint256).max;

126:         if (_collateralAmount == 0) return 0;

133:         if (currentPositionLTV == 0) return type(uint256).max; // loan is small

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L124), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L126), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L133)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

78:         if (approvalToken != address(0)) {

82:         if (approvalToken != address(0)) {

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L78), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L82)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

23:         require(_lido != address(0));

24:         require(_lidoW != address(0));

25:         require(_steth != address(0));

26:         require(w != address(0));

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L26)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

46:         require(_mav != address(0));

47:         require(_veMav != address(0));

48:         require(mr != address(0));

49:         require(pi != address(0));

141:             if (earnedInfo[i].earned != 0) {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L46), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L47), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L48), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L49), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L141)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

24:         require(MB != address(0));

66:         if (p.collateral == 0 && p.supplyShares == 0) {

112:         if (borrowAmount == 0) return type(uint256).max;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L24), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L66), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L112)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

22:         require(MC != address(0));

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L22)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

60:         require(_pendleMarketDepositHelper != address(0));

61:         require(_pendleRouter != address(0));

62:         require(SR != address(0));

306:             _SY.balanceOf(address(this)) == 0 && _PT.balanceOf(address(this)) == 0 && _YT.balanceOf(address(this)) == 0

307:                 && market.balanceOf(address(this)) == 0

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L60), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L61), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L62), [306](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L306), [307](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L307)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

79:         if (registry.getHoldingPositionIndex(vaultId, positionId, address(this), "") == 0) {

107:         if (registry.getHoldingPositionIndex(vaultId, positionId, address(this), "") == 0) {

```
*Github:* [[79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L79), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L107)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

21:         require(_SNXCoreProxy != address(0));

51:         if (c == 0) {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L21), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L51)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

18:         require(SR != address(0));

120:             if (depositAmount == 0 && borrowAmount == 0) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L18), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L120)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

36:         require(lpStacking != address(0));

37:         require(_stargateRouter != address(0));

89:         if (IERC20(lpAddress).balanceOf(address(this)) + LPAmount == 0) {

115:         if (lpAmount == 0) {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L37), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L89), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L115)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

22:         require(address(_registry) != address(0));

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L22)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

142:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

159:         _updateTokenInRegistry(token, IERC20(token).balanceOf(address(this)) == 0);

233:         if (positionTypeId == 0) {

257:         if (amount == 0) {

```
*Github:* [[142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L142), [159](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L159), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L233), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L257)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

31:         if (data.length == 0) {

86:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

92:         _updateTokenInRegistry(token, IERC20(token).balanceOf(address(this)) == 0);

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L31), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L86), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L92)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

41:         require(lzHelperAddress != address(0));

53:         require(omniChainManager != address(0));

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L41), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L53)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

52:         require(lzHelperAddress != address(0));

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L52)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

37:         require(_lzHelper != address(0));

47:         require(destinationAddress != address(0));

58:         if (approvedBridgeTXN[transactionHash] != 0) delete approvedBridgeTXN[transactionHash];

71:         if (approvedBridgeTXN[txn] == 0 || approvedBridgeTXN[txn] + BRIDGE_TXN_WAITING_TIME > block.timestamp) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L37), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L47), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L58), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L71)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

35:         if (bp.positionTypeId == 0) {

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L35)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

30:         if (routes[_routeId].route == address(0) && !routes[_routeId].isEnabled) revert RouteNotFound();

41:         require(_valueOracle != address(0));

98:         if (_swapRequest.amount == 0) revert InvalidAmount();

102:         if (_swapRequest.checkForSlippage && _swapRequest.minAmount == 0) {

105:             if (_slippageTolerance == 0) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L30), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L41), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L98), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L102), [105](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L105)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

86:         if (_request.outputToken == address(0)) {

93:         if (_request.outputToken == address(0)) {

190:         return address(token) == address(0);

194:         if (token == address(0)) {

```
*Github:* [[86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L86), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L93), [190](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L190), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L194)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

19:             if (positions[i].calculatorConnector == address(0)) {

45:             if (latestUpdateTime == 0 || positions[i].positionTimestamp < latestUpdateTime) {

49:         if (latestUpdateTime == 0) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L19), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L45), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L49)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

30:         require(address(_registry) != address(0));

72:         if (asset == baseToken || amount == 0) {

97:         if (address(oracle) == address(0)) {

100:         if (address(oracle) == address(0)) {

103:         if (address(oracle) == address(0)) {

106:         if (address(oracle) == address(0)) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L30), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L72), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L97), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L100), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L103), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L106)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

47:         require(_reg != address(0));

95:         if (primarySource == address(0)) {

128:         if (price <= 0) {

144:         if (assetsSources[asset][baseToken] != address(0)) {

146:         } else if (assetsSources[baseToken][asset] != address(0)) {

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L47), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L95), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L128), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L144), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L146)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

39:         if (_period == 0) revert INoyaValueOracle_InvalidInput();

50:         require(pool != address(0), "pool doesn't exist");

63:         if (pool == address(0)) {

66:         if (pool == address(0)) revert INoyaOracle_ValueOracleUnavailable(tokenIn, baseToken);

82:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % int56(int32(period)) != 0)) {

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L39), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L50), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L63), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L66), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L82)]


</details>


<a name="NC-17"></a> 
### [NC-17] Variable names for `constant`s should use CONSTANT_CASE
For `constant` variable names, each word should use all capital letters, with underscores separating each word (CONSTANT_CASE)

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/ConnectorMock2.sol

20:     uint256 public constant positionType = 1;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L20)]



<a name="NC-18"></a> 
### [NC-18] `Constructor` should emit an event
Use events to signal significant changes to off-chain monitoring tools.

<details>
<summary>
There are <b>39</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

94:     constructor(AccountingManagerConstructorParams memory p)

```
*Github:* [[94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L94)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

14:     constructor(address _accountingManager, address _baseToken, address _receiver) Ownable(msg.sender) {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L14)]


```solidity
File: ./contracts/accountingManager/Registry.sol

66:     constructor(address _governer, address _maintainer, address _emergency, address _flashLoan) {

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L66)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

33:     constructor(address _pool, address _poolBaseToken, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L33)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

40:     constructor(address _router, address _voter, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L40)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

42:     constructor(address _balancerVault, address bal, address aura, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L42)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

24:     constructor(address _balancerVault, PositionRegistry _registry) {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L24)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

36:     constructor(address _router, address _factory, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L36)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L17)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

45:     constructor(

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L45)]


```solidity
File: ./contracts/connectors/Dolomite.sol

18:     constructor(

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L18)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

29:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L29)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L17)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

20:     constructor(address _lido, address _lidoW, address _steth, address w, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L20)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

43:     constructor(address _mav, address _veMav, address mr, address pi, BaseConnectorCP memory baseCP)

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L43)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

23:     constructor(address MB, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L23)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

19:     constructor(address MC, address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L19)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

57:     constructor(address _pendleMarketDepositHelper, address _pendleRouter, address SR, BaseConnectorCP memory baseCP)

```
*Github:* [[57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L57)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

25:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L25)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

20:     constructor(address _SNXCoreProxy, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L20)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

17:     constructor(address SR, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L17)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

33:     constructor(address lpStacking, address _stargateRouter, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L33)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

27:     constructor(address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L27)]


```solidity
File: ./contracts/governance/Keepers.sol

27:     constructor(address[] memory _owners, uint8 _threshold) EIP712("Keepers", "1") Ownable2Step() Ownable(msg.sender) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L27)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

21:     constructor(PositionRegistry _registry, uint256 _vaultId) {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L21)]


```solidity
File: ./contracts/governance/TimeLock.sol

7:     constructor(uint256 minDelay, address[] memory proposers, address[] memory executors, address owner)

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L7)]


```solidity
File: ./contracts/governance/Watchers.sol

7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

33:     constructor(BaseConnectorCP memory params) NoyaGovernanceBase(params.registry, params.vaultId) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L33)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

22:     constructor(address _registry, uint256 _vaultId) {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L22)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

31:     constructor(address _endpoint, address _owner) OAppReceiver() OAppCore(_endpoint, _owner) { }

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L31)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

33:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L33)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

19:     constructor(uint256 dl, address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

11:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L11)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

34:     constructor(address[] memory usersAddresses, address _valueOracle, PositionRegistry _registry, uint256 _vaultId)

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L34)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

27:     constructor(address swapHandler, address _lifi) Ownable2Step() Ownable(msg.sender) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L27)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

29:     constructor(PositionRegistry _registry) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L29)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

46:     constructor(address _reg) {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L46)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

31:     constructor(address _factory, PositionRegistry _registry) {

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L31)]


</details>


<a name="NC-19"></a> 
### [NC-19] Contract does not follow the Solidity Style Guide's suggested layout ordering
The [style guide](https://docs.soliditylang.org/en/v0.8.16/style-guide.html#order-of-layout) says that, within a contract, the ordering should be `1) Type declarations`, `2) State variables`, `3) Events`, `4) Modifiers`, and `5) Functions`, but the contract(s) below do not follow this ordering

*There are <b>8</b> instances of this issue:*
```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

/// @audit function `constructor` came earlier
31:     modifier onlyManager() {

/// @audit function `constructor` came earlier
43:     modifier onlyEmergency() {

/// @audit function `constructor` came earlier
53:     modifier onlyEmergencyOrWatcher() {

/// @audit function `constructor` came earlier
65:     modifier onlyMaintainerOrEmergency() {

/// @audit function `constructor` came earlier
75:     modifier onlyMaintainer() {

/// @audit function `constructor` came earlier
85:     modifier onlyGovernance() {

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L31), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L43), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L53), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L65), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L75), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L85)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

/// @audit event/error `InvalidPayload` came earlier
24:     uint32 constant TVL_UPDATE = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L24)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit function `constructor` came earlier
34:     modifier onlyHandler() {

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L34)]



<a name="NC-20"></a> 
### [NC-20] Contract name does not follow the Solidity Style Guide
According to the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html#contract-and-library-names), contracts and libraries should be named using the CapWords style and match their filenames.

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

4: contract WETH_Oracle {

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4)]



<a name="NC-21"></a> 
### [NC-21] Contract should expose an `interface`
All `external`/`public` functions should extend an `interface`. This is useful to make sure that the whole API is extracted.

*Note:* It is possible that the interface is out-of-scope and has not been seen by the bot.

<details>
<summary>
There are <b>277</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

124:     function updateValueOracle(INoyaValueOracle _valueOracle) public onlyMaintainer {

135:     function setFeeReceivers(

150:     function sendTokensToTrustedAddress(address token, uint256 amount, address _caller, bytes calldata _data)

170:     function setFees(uint256 _withdrawFee, uint256 _performanceFee, uint256 _managementFee) public onlyMaintainer {

200:     function deposit(address receiver, uint256 amount, address referrer) public nonReentrant whenNotPaused {

226:     function calculateDepositShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

257:     function executeDeposit(uint256 maxI, address connector, bytes memory addLPdata)

304:     function withdraw(uint256 share, address receiver) public nonReentrant whenNotPaused {

328:     function calculateWithdrawShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

360:     function startCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

370:     function fulfillCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

396:     function executeWithdraw(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

453:     function resetMiddle(uint256 newMiddle, bool depositOrWithdraw) public onlyManager {

475:     function recordProfitForFee() public onlyManager nonReentrant {

493:     function checkIfTVLHasDroped() public nonReentrant {

505:     function collectManagementFees() public onlyManager nonReentrant returns (uint256, uint256) {

526:     function collectPerformanceFees() public onlyManager nonReentrant {

543:     function burnShares(uint256 amount) public {

548:     function retrieveTokensForWithdraw(RetrieveData[] calldata retrieveData) public onlyManager nonReentrant {

582:     function getProfit() public view returns (uint256) {

591:     function totalAssets() public view override returns (uint256) {

596:     function getQueueItems(bool depositOrWithdraw, uint256[] memory items)

616:     function neededAssetsForWithdraw() public view returns (uint256) {

627:     function TVL() public view returns (uint256) {

632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

659:     function emergencyStop() public whenNotPaused onlyEmergency {

663:     function unpause() public whenPaused onlyEmergency {

667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {

673:     function changeDepositWaitingTime(uint256 _depositWaitingTime) public onlyMaintainer {

678:     function changeWithdrawWaitingTime(uint256 _withdrawWaitingTime) public onlyMaintainer {

683:     function rescue(address token, uint256 amount) public onlyEmergency nonReentrant {

693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L124), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L135), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L150), [170](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L170), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L200), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L226), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L257), [304](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L304), [328](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L328), [360](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L360), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L370), [396](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L396), [453](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L453), [475](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L475), [493](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L493), [505](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L505), [526](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L526), [543](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L543), [548](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L548), [582](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L582), [591](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L591), [596](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L596), [616](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L616), [627](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L627), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649), [659](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L659), [663](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L663), [667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667), [673](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L673), [678](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L678), [683](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L683), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

23:     function withdrawShares(uint256 amount) external onlyOwner {

27:     function burnShares(uint256 amount) external onlyOwner {

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L23), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L27)]


```solidity
File: ./contracts/accountingManager/Registry.sol

79:     function setMaxNumHoldingPositions(uint256 _maxNumHoldingPositions) external onlyRole(MAINTAINER_ROLE) {

84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {

106:     function addVault(

158:     function changeVaultAddresses(

188:     function addConnector(uint256 vaultId, address[] calldata _connectorAddresses, bool[] calldata _enableds)

207:     function updateConnectorTrustedTokens(

224:     function getPositionBP(uint256 vaultId, bytes32 _positionId) public view returns (PositionBP memory) {

238:     function addTrustedPosition(

266:     function removeTrustedPosition(uint256 vaultId, bytes32 _positionId)

335:     function updateHoldingPosition(

370:     function updateHoldingPostionWithTime(

394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)

408:     function getHoldingPosition(uint256 vaultId, uint256 i) public view returns (HoldingPI memory) {

416:     function getHoldingPositions(uint256 vaultId) public view returns (HoldingPI[] memory) {

426:     function isPositionTrusted(uint256 vaultId, bytes32 _positionId) public view returns (bool) {

436:     function isPositionTrustedForConnector(uint256 vaultId, bytes32 _positionId, address connector)

449:     function getGovernanceAddresses(uint256 vaultId)

470:     function isTokenTrusted(uint256 vaultId, address token, address connector) public view returns (bool) {

486:     function calculatePositionId(address calculatorConnector, uint256 positionTypeId, bytes memory data)

499:     function isAnActiveConnector(uint256 vaultId, address connectorAddress) public view returns (bool) {

508:     function isPositionDebt(uint256 vaultId, bytes32 _positionId) public view returns (bool) {

516:     function getVaultAddresses(uint256 vaultId) public view returns (address, address) {

525:     function isAddressTrusted(uint256 vaultId, address addr) public view returns (bool) {

```
*Github:* [[79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L158), [188](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L188), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L207), [224](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L224), [238](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L238), [266](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L266), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L335), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L370), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394), [408](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L408), [416](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L416), [426](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L426), [436](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L436), [449](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L449), [470](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L470), [486](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L486), [499](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L499), [508](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L508), [516](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L516), [525](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L525)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

46:     function supply(address supplyToken, uint256 amount) external onlyManager nonReentrant {

62:     function borrow(uint256 _amount, uint256 _interestRateMode, address _borrowAsset)

81:     function repay(address asset, uint256 amount, uint256 i) external onlyManager nonReentrant {

88:     function repayWithCollateral(uint256 _amount, uint256 i, address _borrowAsset) external onlyManager {

100:     function withdrawCollateral(uint256 _collateralAmount, address _collateral) external onlyManager nonReentrant {

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L46), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L62), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L81), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L88), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L100), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

53:     function supply(DepositData memory data) public onlyManager nonReentrant {

79:     function withdraw(WithdrawData memory data) public onlyManager nonReentrant {

100:     function stake(address pool, uint256 liquidity) public onlyManager nonReentrant {

106:     function unstake(address pool, uint256 liquidity) public onlyManager nonReentrant {

111:     function claim(address pool) public onlyManager nonReentrant {

117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L53), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L79), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L100), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L106), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L111), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

64:     function openPosition(

109:     function depositIntoAuraBooster(bytes32 poolId, uint256 _amount) public onlyManager nonReentrant {

115:     function decreasePosition(DecreasePositionParams memory p) public onlyManager nonReentrant {

162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

175:     function totalLpBalanceOf(PoolInfo memory pool) public view returns (uint256) {

184:     function totalLpBalanceOf(bytes32 poolId) public view returns (uint256) {

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L64), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L109), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L115), [162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162), [175](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L175), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L184)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

37:     function makeFlashLoan(IERC20[] memory tokens, uint256[] memory amounts, bytes memory userData)

54:     function receiveFlashLoan(

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L37), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L54)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

43:     function addLiquidityInCamelotPool(CamelotAddLiquidityParams calldata p) external onlyManager nonReentrant {

65:     function removeLiquidityFromCamelotPool(CamelotRemoveLiquidityParams calldata p)

88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L43), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L65), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

29:     function supply(address market, address asset, uint256 amount) external onlyManager nonReentrant {

48:     function withdrawOrBorrow(address _market, address asset, uint256 amount) external onlyManager nonReentrant {

63:     function claimRewards(address rewardContract, address market) external onlyManager nonReentrant {

74:     function getAccountHealthFactor(IComet comet) public view returns (uint256) {

84:     function getBorrowBalanceInBase(IComet comet) public view returns (uint256 borrowBalanceInVirtualBase) {

95:     function getCollBlanace(IComet comet, bool riskAdjusted) public view returns (uint256 CollValue) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

141:     function isInAsset(uint16 assetsIn, uint8 assetOffset) public pure returns (bool) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L29), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L48), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L63), [74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L74), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L84), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L95), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L141)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

68:     function depositIntoGauge(address pool, uint256 amount) public onlyManager nonReentrant {

81:     function depositIntoPrisma(address pool, uint256 amount, bool curveOrConvex) public onlyManager nonReentrant {

103:     function depositIntoConvexBooster(address pool, uint256 pid, uint256 amount, bool stake) public onlyManager {

117:     function openCurvePosition(address pool, uint256 depositIndex, uint256 amount, uint256 minAmount)

160:     function decreaseCurvePosition(address pool, uint256 withdrawIndex, uint256 amount, uint256 minAmount)

182:     function withdrawFromConvexBooster(uint256 pid, uint256 amount) public onlyManager {

192:     function withdrawFromConvexRewardPool(address pool, uint256 amount) public onlyManager {

202:     function withdrawFromGauge(address pool, uint256 amount) public onlyManager {

212:     function withdrawFromPrisma(address depostiToken, uint256 amount) public onlyManager {

221:     function harvestRewards(address[] calldata gauges) public onlyManager nonReentrant {

233:     function harvestPrismaRewards(address[] calldata pools) public onlyManager nonReentrant {

247:     function harvestConvexRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

279:     function LPToUnder(PoolInfo memory info, uint256 balance) public view returns (uint256, address) {

297:     function estimateWithdrawAmount(ICurveSwap curvePool, uint256 amount, uint256 index)

311:     function totalLpBalanceOf(PoolInfo memory info) public view returns (uint256) {

325:     function balanceOfConvexRewardPool(PoolInfo memory info) public view returns (uint256) {

335:     function balanceOfLPToken(PoolInfo memory info) public view returns (uint256) {

344:     function balanceOfRewardPool(PoolInfo memory info) public view returns (uint256) {

354:     function balanceOfPrisma(address prismaPool) public view returns (uint256) {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L81), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L103), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L117), [160](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L160), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L182), [192](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L192), [202](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L202), [212](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L212), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L221), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L233), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L247), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265), [279](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L279), [297](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L297), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L311), [325](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L325), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L335), [344](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L344), [354](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L354)]


```solidity
File: ./contracts/connectors/Dolomite.sol

30:     function deposit(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

43:     function withdraw(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

58:     function openBorrowPosition(uint256 marketId, uint256 _amountWei, uint256 accountId)

77:     function transferBetweenAccounts(uint256 accountId, uint256 marketId, uint256 _amountWei, bool borrowOrRepay)

98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L30), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L43), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L58), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L77), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

38:     function borrowAndSupply(IFraxPair pool, uint256 borrowAmount, uint256 collateralAmount)

68:     function withdraw(IFraxPair pool, uint256 withdrawAmount) public onlyManager nonReentrant {

87:     function repay(IFraxPair pool, uint256 sharesToRepay) public onlyManager nonReentrant {

104:     function verifyHealthFactor(IFraxPair pool) public view {

142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L38), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L68), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L87), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L104), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

24:     function openAccount(address facade, uint256 ref) public onlyManager {

41:     function closeAccount(address facade, address creditAccount) public onlyManager nonReentrant {

62:     function executeCommands(

93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L24), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L41), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L62), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

37:     function deposit(uint256 amountIn) external onlyManager nonReentrant {

51:     function requestWithdrawals(uint256 amount) public onlyManager nonReentrant {

69:     function claimWithdrawal(uint256 requestId) public onlyManager nonReentrant {

91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L51), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L69), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

64:     function stake(uint256 amount, uint256 duration, bool doDelegation) external onlyManager nonReentrant {

78:     function unstake(uint256 lockupId) external onlyManager nonReentrant {

91:     function addLiquidityInMaverickPool(MavericAddLiquidityParams calldata p) external onlyManager nonReentrant {

115:     function removeLiquidityFromMaverickPool(MavericRemoveLiquidityParams calldata p)

137:     function claimBoostedPositionRewards(IMaverickReward rewardContract) external onlyManager nonReentrant {

149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L64), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L78), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L91), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L115), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L137), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

35:     function supply(uint256 amount, Id id, bool sOrC) external onlyManager nonReentrant {

58:     function withdraw(uint256 amount, Id id, bool sOrC) external onlyManager nonReentrant {

80:     function borrow(uint256 amount, Id id) external onlyManager nonReentrant {

95:     function repay(uint256 amount, Id id) public onlyManager nonReentrant {

108:     function getHealthFactor(Id _id, Market memory _market) public view returns (uint256) {

118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

137:     function convertCToL(uint256 amount, address marketOracle, address collateral) public view returns (uint256) {

141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L35), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L58), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L80), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L95), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L108), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L137), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

31:     function sendPositionToMasterChef(uint256 tokenId) external onlyManager nonReentrant {

40:     function updatePosition(uint256 tokenId) public onlyManager nonReentrant {

50:     function withdraw(uint256 tokenId) public onlyManager nonReentrant {

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L31), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L40), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L50)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

78:     function supply(address market, uint256 amount) external onlyManager nonReentrant {

97:     function mintPTAndYT(address market, uint256 syAmount) external onlyManager nonReentrant {

112:     function depositIntoMarket(IPMarket market, uint256 SYamount, uint256 PTamount) external onlyManager nonReentrant {

126:     function depositIntoPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

137:     function withdrawFromPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

149:     function swapYTForPT(address market, uint256 exactYTIn, uint256 min, ApproxParams memory guess)

166:     function swapYTForSY(address market, uint256 exactYTIn, uint256 min, LimitOrderData memory orderData)

183:     function swapExactPTForSY(IPMarket market, uint256 exactPTIn, bytes calldata swapData, uint256 minSY)

203:     function burnLP(IPMarket market, uint256 amount) external onlyManager nonReentrant {

216:     function decreasePosition(IPMarket market, uint256 _amount, bool closePosition) external onlyManager nonReentrant {

241:     function claimRewards(IPMarket market) external onlyManager nonReentrant {

257:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

293:     function getYTValue(address market, uint256 balance) public view returns (uint256) {

303:     function isMarketEmpty(IPMarket market) public view returns (bool) {

311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L78), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L97), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L112), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L126), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L137), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L149), [166](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L166), [183](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L183), [203](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L203), [216](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L216), [241](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L241), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L257), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L293), [303](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L303), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

33:     function approveZap(IStakeNTroveZap zap, address tm, bool approve) public onlyManager nonReentrant {

52:     function openTrove(IStakeNTroveZap zap, address tm, uint256 maxFee, uint256 dAmount, uint256 bAmount)

75:     function addColl(IStakeNTroveZap zapContract, address tm, uint256 amountIn) public onlyManager nonReentrant {

97:     function adjustTrove(

129:     function closeTrove(IStakeNTroveZap zapContract, address troveManager) public onlyManager nonReentrant {

145:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

164:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L33), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L52), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L75), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L97), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L129), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L145), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L164)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

25:     function createAccount() public onlyManager {

30:     function deposit(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

46:     function withdraw(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

68:     function delegateIntoPreferredPool(

81:     function delegateIntoApprovedPool(

94:     function claimRewards(uint128 accountId, uint128 poolId, address collateralType, address distributor)

102:     function mintOrBurnSUSD(

121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L25), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L30), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L46), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L81), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L94), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L102), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

33:     function deposit(address siloToken, address dToken, uint256 amount, bool oC) external onlyManager nonReentrant {

52:     function withdraw(address siloToken, address wToken, uint256 amount, bool oC, bool closePosition)

71:     function getData(address siloToken)

85:     function borrow(address siloToken, address bToken, uint256 amount) external onlyManager nonReentrant {

98:     function repay(address siloToken, address rToken, uint256 amount) external onlyManager nonReentrant {

109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

130:     function isSiloEmpty(ISilo silo) public view returns (bool) {

143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L33), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L52), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L71), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L85), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L98), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L130), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

49:     function depositIntoStargatePool(StargateRequest calldata depositRequest) external onlyManager nonReentrant {

76:     function withdrawFromStargatePool(StargateRequest calldata withdrawRequest) external onlyManager nonReentrant {

103:     function claimStargateRewards(uint256 poolId) external onlyManager nonReentrant {

110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L49), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L76), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L103), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

40:     function openPosition(MintParams memory p) external onlyManager nonReentrant returns (uint256 tokenId) {

63:     function decreasePosition(DecreaseLiquidityParams memory p) external onlyManager nonReentrant {

87:     function increasePosition(IncreaseLiquidityParams memory p) external onlyManager nonReentrant {

101:     function collectAllFees(uint256[] memory tokenIds) public onlyManager nonReentrant {

116:     function getCurrentLiquidity(uint256 tokenId) public view returns (uint128, address, address) {

127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L40), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L63), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L87), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L101), [116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L116), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/governance/Keepers.sol

42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {

63:     function setThreshold(uint8 _threshold) public onlyOwner {

84:     function execute(

124:     function domainSeparatorV4() public view returns (bytes32) {

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L63), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L84), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L124)]


```solidity
File: ./contracts/governance/Watchers.sol

8:     function verifyRemoveLiquidity(uint256 withdrawAmount, uint256 sentAmount, bytes memory data) external view { }

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L8)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

45:     function updateMinimumHealthFactor(uint256 _minimumHealthFactor) external onlyMaintainer {

58:     function updateSwapHandler(address payable _swapHandler) external onlyMaintainer {

67:     function updateValueOracle(address _valueOracle) external onlyMaintainer {

84:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)

122:     function transferPositionToAnotherConnector(

153:     function updateTokenInRegistry(address token) public onlyManager {

169:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data)

204:     function swapHoldings(

232:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

249:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

263:     function _getUnderlyingTokens(uint256, bytes memory) public view virtual returns (address[] memory) {

271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L45), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L58), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L67), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L84), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L122), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L153), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L169), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L204), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L232), [249](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L249), [263](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L263), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

27:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)

40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

51:     function updatePositionToRegistryUsingType(bytes32 _positionId, bytes memory data, bool remove) external {

59:     function addPositionToRegistryUsingType(uint256 _positionType, bytes memory data) external {

65:     function addPositionToRegistry(bytes memory data) external {

71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L27), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L51), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L59), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L65), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

40:     function setChainInfo(uint256 chainId, uint32 lzChainId, address lzHelperAddress) public onlyOwner {

52:     function addVaultInfo(uint256 vaultId, uint256 baseChainId, address omniChainManager) public onlyOwner {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L40), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L52)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

36:     function updateMessageSetting(bytes memory _messageSetting) public onlyOwner {

51:     function setChainInfo(uint256 chainId, uint32 lzChainId, address lzHelperAddress) public onlyOwner {

63:     function addVaultInfo(uint256 vaultId, uint256 baseChainId, address omniChainManager) public onlyOwner {

75:     function updateTVL(uint256 vaultId, uint256 tvl, uint256 updateTime) public {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L36), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L51), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L63), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L75)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

46:     function updateChainInfo(uint256 chainId, address destinationAddress) external onlyMaintainer {

57:     function updateBridgeTransactionApproval(bytes32 transactionHash) public onlyManager {

68:     function startBridgeTransaction(BridgeRequest memory bridgeRequest) public onlyManager nonReentrant {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L46), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L57), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L68)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

32:     function updateTVL(uint256 chainId, uint256 tvl, uint256 updateTime) external nonReentrant {

51:     function _getPositionTVL(HoldingPI memory position, address) public view override returns (uint256) {

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L32), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L51)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

19:     function getTVL() public view returns (uint256) {

28:     function updateTVLInfo() external onlyManager {

33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L19), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L28), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

48:     function setValueOracle(address _valueOracle) external onlyMaintainerOrEmergency {

57:     function setGeneralSlippageTolerance(uint256 _slippageTolerance) external onlyMaintainerOrEmergency {

68:     function setSlippageTolerance(address _inputToken, address _outputToken, uint256 _slippageTolerance)

80:     function addEligibleUser(address _user) external onlyMaintainerOrEmergency {

90:     function executeSwap(SwapRequest memory _swapRequest)

126:     function executeBridge(BridgeRequest calldata _bridgeRequest)

147:     function addRoutes(RouteData[] memory _routes) public onlyMaintainer {

158:     function setEnableRoute(uint256 _routeId, bool enable) external onlyMaintainerOrEmergency {

164:     function verifyRoute(uint256 _routeId, address addr) external view onlyExistingRoute(_routeId) {

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L48), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L57), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L68), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L80), [90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L90), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L126), [147](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L147), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L158), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L164)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

45:     function addHandler(address _handler, bool state) external onlyOwner {

55:     function addChain(uint256 _chainId, bool state) external onlyOwner {

65:     function addBridgeBlacklist(string memory bridgeName, bool state) external onlyOwner {

77:     function performSwapAction(address caller, SwapRequest calldata _request)

110:     function verifySwapData(SwapRequest calldata _request) public view override returns (bool) {

133:     function performBridgeAction(address caller, BridgeRequest calldata _request)

150:     function verifyBridgeData(BridgeRequest calldata _request) public view override returns (bool) {

193:     function rescueFunds(address token, address userAddress, uint256 amount) external onlyOwner {

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L45), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L55), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L65), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L77), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L110), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L133), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L150), [193](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L193)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

37:     function updateDefaultPriceSource(address[] calldata baseCurrencies, INoyaValueOracle[] calldata oracles)

51:     function updateAssetPriceSource(address[] calldata asset, address[] calldata baseToken, address[] calldata oracle)

61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {

71:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L51), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L71)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

56:     function updateChainlinkPriceAgeThreshold(uint256 _chainlinkPriceAgeThreshold) external onlyMaintainer {

70:     function setAssetSources(address[] calldata assets, address[] calldata baseTokens, address[] calldata sources)

89:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

115:     function getValueFromChainlinkFeed(

138:     function getTokenDecimals(address token) public view returns (uint256) {

143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L56), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L70), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L89), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L115), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L138), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

38:     function setPeriod(uint32 _period) external onlyMaintainer {

48:     function addPool(address tokenIn, address baseToken, uint24 fee) external onlyMaintainer {

60:     function getValue(address tokenIn, address baseToken, uint256 amount) public view returns (uint256 _amountOut) {

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L38), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L48), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L60)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

5:     function latestRoundData()

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L5)]


</details>


<a name="NC-22"></a> 
### [NC-22] Contract uses both `require()`/`revert()` as well as custom errors
Consider using just one method in a single file.

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

12: contract PendleConnector is BaseConnector {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

6: contract NoyaGovernanceBase {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L6)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

19: contract LZHelperSender is OAppSender {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

9: /// @notice This contract is used to get the value of an asset in terms of a base Token

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L9)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

10: contract ChainlinkOracleConnector is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10)]



<a name="NC-23"></a> 
### [NC-23] Contracts should have full test coverage
While 100% code coverage does not guarantee that there are no bugs, it often will catch easy-to-find bugs, and will ensure that there are fewer regressions when the code invariably has to be modified. Furthermore, in order to get full coverage, code authors will often have to re-organize their code so that it is more modular, so that each component can be tested separately, which reduces interdependencies between modules and layers, and makes for code that is easier to reason about and audit.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/)]



<a name="NC-24"></a> 
### [NC-24] Convert simple `if` statements to ternary expressions
Converting some if statements to ternaries (such as `z = (a < b) ? x : y`) can make the code more concise and easier to read.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

86:         if (_request.outputToken == address(0)) {
                balanceOut0 = address(_request.from).balance;
            } else {
                balanceOut0 = IERC20(_request.outputToken).balanceOf(_request.from);

93:         if (_request.outputToken == address(0)) {
                balanceOut1 = address(_request.from).balance;
            } else {
                balanceOut1 = IERC20(_request.outputToken).balanceOf(_request.from);

```
*Github:* [[86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L86), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L93)]



<a name="NC-25"></a> 
### [NC-25] Events that mark critical parameter changes should contain both the old and the new value
This should especially be done if the new value is not required to be different from the old value.

<details>
<summary>
There are <b>130</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

127:         emit ValueOracleUpdated(address(_valueOracle));

146:         emit FeeRecepientsChanged(_withdrawFeeReceiver, _performanceFeeReceiver, _managementFeeReceiver);

154:         emit TransferTokensToTrustedAddress(token, amount, _caller, _data);

180:         emit FeeRatesChanged(_withdrawFee, _performanceFee, _managementFee);

216:         emit RecordDeposit(depositQueue.last, receiver, block.timestamp, amount, referrer);

314:         emit RecordWithdraw(withdrawQueue.last, msg.sender, receiver, share, block.timestamp);

349:             emit CalculateWithdraw(middleTemp, data.owner, data.receiver, data.shares, assets, block.timestamp);

364:         emit WithdrawGroupStarted(currentWithdrawGroup.lastId, currentWithdrawGroup.totalCBAmount);

455:             emit ResetMiddle(newMiddle, depositQueue.middle, depositOrWithdraw);

462:             emit ResetMiddle(newMiddle, withdrawQueue.middle, depositOrWithdraw);

496:             emit ResetFee(currentProfit, storedProfitForFee, block.timestamp);

520:         emit CollectManagementFee(managementFeeAmount, timePassed, totalShares, currentFeeShares);

538:         emit CollectPerformanceFee(preformanceFeeSharesWaitingForDistribution);

670:         emit SetDepositLimits(_depositLimitPerTransaction, _depositTotalAmount);

675:         emit SetDepositWaitingTime(_depositWaitingTime);

680:         emit SetWithdrawWaitingTime(_withdrawWaitingTime);

690:         emit Rescue(msg.sender, token, amount);

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L127), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L146), [154](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L154), [180](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L180), [216](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L216), [314](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L314), [349](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L349), [364](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L364), [455](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L455), [462](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L462), [496](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L496), [520](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L520), [538](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L538), [670](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L670), [675](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L675), [680](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L680), [690](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L690)]


```solidity
File: ./contracts/accountingManager/Registry.sol

85:         emit updateFlashloanAddress(_flashLoan, flashLoan);

142:         emit VaultAdded(vaultId, _accountingManager, _baseToken, _trustedTokens);

196:             emit ConnectorAdded(vaultId, _connectorAddresses[i]);

217:         emit ConnectorTrustedTokensUpdated(vaultId, _connectorAddress, _tokens, trusted);

262:         emit TrustedPositionAdded(vaultId, positionId, calculatorConnector, _positionTypeId, onlyOwner, _isDebt, _data);

279:         emit TrustedPositionRemoved(vaultId, _positionId);

302:         emit HoldingPositionUpdated(vaultId, _positionId, d, AD, false, index);

361:             emit HoldingPositionUpdated(vaultId, _positionId, _data, additionalData, removePosition, positionIndex);

```
*Github:* [[85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L85), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L142), [196](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L196), [217](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L217), [262](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L262), [279](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L279), [302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L302), [361](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L361)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

53:         emit Supply(supplyToken, amount);

75:         emit Borrow(_borrowAsset, _amount);

85:         emit Repay(asset, amount, i);

90:         emit RepayWithCollateral(_borrowAsset, _amount, i);

111:         emit WithdrawCollateral(_collateral, _collateralAmount);

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L53), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L75), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L85), [90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L90), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L111)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

72:         emit Supply(data.pool, data.amount0, data.amount1);

97:         emit Withdraw(data.pool, data.amountLiquidity);

```
*Github:* [[72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L72), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L97)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

106:         emit OpenPosition(poolId, amounts, amountsWithoutBPT, minBPT, auraAmount);

159:         emit DecreasePosition(p);

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L106), [159](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L159)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

42:         emit MakeFlashLoan(tokens, amounts);

60:         emit ReceiveFlashLoan(tokens, amounts, feeAmounts, userData);

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L42), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L60)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

37:         emit Supply(market, asset, amount);

59:         emit WithdrawOrBorrow(_market, asset, amount);

67:         emit ClaimRewards(rewardContract, market);

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L37), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L59), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L67)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

149:         emit OpenCurvePosition(pool, depositIndex, amount, minAmount);

174:         emit DecreaseCurvePosition(pool, withdrawIndex, amount, minAmount);

184:         emit WithdrawFromConvexBooster(pid, amount);

194:         emit WithdrawFromConvexRewardPool(pool, amount);

204:         emit WithdrawFromGauge(pool, amount);

214:         emit WithdrawFromPrisma(depostiToken, amount);

226:         emit HarvestRewards(gauges);

240:         emit HarvestPrismaRewards(pools);

254:         emit HarvestConvexRewards(rewardsPools);

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L149), [174](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L174), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L184), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L194), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L204), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L214), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L226), [240](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L240), [254](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L254)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

79:         emit Withdraw(address(pool), withdrawAmount);

97:         emit Repay(address(pool), sharesToRepay);

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

33:         emit OpenAccount(facade, ref);

51:         emit CloseAccount(facade, creditAccount);

85:         emit ExecuteCommands(facade, creditAccount, calls, approvalToken, amount);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L33), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L51), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L85)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

44:         emit Deposit(amountIn);

62:         emit RequestWithdrawals(amount);

86:         emit ClaimWithdrawal(requestId);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L44), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L62), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L86)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

71:         emit Stake(amount, duration, doDelegation);

83:         emit Unstake(lockupId);

107:         emit AddLiquidityInMaverickPool(p);

130:         emit RemoveLiquidityFromMaverickPool(p);

146:         emit ClaimBoostedPositionRewards(rewardContract);

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L71), [83](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L83), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L107), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L130), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L146)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

49:         emit Supply(amount, id, sOrC);

72:         emit Withdraw(amount, id, sOrC);

87:         emit Borrow(amount, id);

100:         emit Repay(amount, id);

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L49), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L72), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L87), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L100)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

33:         emit SendPositionToMasterChef(tokenId);

43:         emit UpdatePosition(tokenId);

53:         emit Withdraw(tokenId);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L33), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L43), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L53)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

89:         emit Supply(market, syMinted);

101:         emit MintPTAndYT(market, syAmount);

118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

129:         emit DepositIntoPenpie(_market, _amount);

139:         emit WithdrawFromPenpie(_market, _amount);

156:         emit SwapYTForPT(market, exactYTIn, min, guess);

173:         emit SwapYTForSY(market, exactYTIn, min, orderData);

195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

207:         emit BurnLP(address(market), amount);

232:         emit DecreasePosition(address(market), _amount, closePosition);

247:         emit ClaimRewards(address(market));

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L89), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L101), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L129), [139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L139), [156](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L156), [173](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L173), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

85:         emit AddColl(address(zapContract), tm, amountIn);

121:         emit AdjustTrove(address(zapContract), tm, mFee, wAmount, bAmount, isBorrowing);

135:         emit CloseTrove(address(zapContract), troveManager);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L85), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L121), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L135)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

41:         emit Deposit(siloToken, dToken, amount, oC);

68:         emit Withdraw(siloToken, wToken, amount, oC, closePosition);

89:         emit Borrow(siloToken, bToken, amount);

106:         emit Repay(siloToken, rToken, amount);

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L41), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L68), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L89), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L106)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

69:         emit DepositIntoStargatePool(depositRequest);

96:         emit WithdrawFromStargatePool(withdrawRequest);

106:         emit ClaimStargateRewards(poolId);

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L69), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L96), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L106)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

56:         emit OpenPosition(p, tokenId);

80:         emit DecreasePosition(p);

95:         emit IncreasePosition(p);

107:             emit CollectFees(tokenIds[i]);

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L56), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L80), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L95), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L107)]


```solidity
File: ./contracts/governance/Keepers.sol

55:         emit UpdateOwners(_owners, addOrRemove);

66:         emit UpdateThreshold(_threshold);

115:         emit Execute(destination, data, gasLimit, executor, deadline);

```
*Github:* [[55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L55), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L66), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L115)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

50:         emit MinimumHealthFactorUpdated(_minimumHealthFactor);

60:         emit SwapHandlerUpdated(_swapHandler);

69:         emit ValueOracleUpdated(_valueOracle);

88:         emit TransferTokensToTrustedAddress(token, amount, caller, data);

128:         emit TransferPositionToConnector(tokens, amounts, connector, data);

143:             emit UpdateTokenInRegistry(token, remove);

192:         emit AddLiquidity(tokens, amounts, data);

217:             emit SwapHoldings(tokensIn[i], tokensOut[i], amountsIn[i], swapData[i]);

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L50), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L60), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L69), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L88), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L128), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L143), [192](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L192), [217](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L217)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

49:         emit UpdateChainInfo(chainId, destinationAddress);

60:         emit UpdateBridgeTransactionApproval(transactionHash, block.timestamp);

70:         emit StartBridgeTransaction(bridgeRequest, txn);

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L49), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L60), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L70)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

50:         emit SetValueOracle(_valueOracle);

59:         emit SetSlippageTolerance(address(0), address(0), _slippageTolerance);

73:         emit SetSlippageTolerance(_inputToken, _outputToken, _slippageTolerance);

82:         emit AddEligibleUser(_user);

139:         emit BridgeExecutionCompleted(_bridgeRequest);

150:             emit NewRouteAdded(i, _routes[i].route, _routes[i].isEnabled, _routes[i].isBridge);

160:         emit RouteUpdate(_routeId, false);

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L50), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L59), [73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L73), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L82), [139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L139), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L150), [160](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L160)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

47:         emit AddedHandler(_handler, state);

57:         emit AddedChain(_chainId, state);

67:         emit AddedBridgeBlacklist(bridgeName, state);

99:         emit Swapped(balanceOut0, balanceOut1, _request.outputToken);

141:         emit Bridged(_request.from, _request.inputToken, _request.amount, _request.data);

182:         emit Forwarded(lifi, address(token), amount, data);

200:         emit Rescued(token, userAddress, amount);

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L47), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L57), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L67), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L99), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L141), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L200)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

44:         emit UpdatedDefaultPriceSource(baseCurrencies, oracles);

58:         emit UpdatedAssetPriceSource(asset, baseToken, oracle);

63:         emit UpdatedPriceRoute(asset, base, s);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L44), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L58), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L63)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

61:         emit ChainlinkPriceAgeThresholdUpdated(_chainlinkPriceAgeThreshold);

76:             emit AssetSourceUpdated(assets[i], baseTokens[i], sources[i]);

```
*Github:* [[61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L61), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L76)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

41:         emit NewPeriod(_period);

52:         emit PoolsForAsset(tokenIn, baseToken, pool);

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L41), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L52)]


</details>


<a name="NC-26"></a> 
### [NC-26] Custom errors has no error details
Consider adding parameters to the error to indicate which user or values caused the failure.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

22:     error InvalidPayload();

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L22)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

25:     error InvalidSender();

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L25)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

37:     error NoyaChainlinkOracle_DATA_OUT_OF_DATE();

39:     error NoyaChainlinkOracle_INVALID_INPUT();

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L37), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L39)]



<a name="NC-27"></a> 
### [NC-27] Custom errors should be used rather than `revert()`/`require()`
Custom errors are available from solidity version 0.8.4. Custom errors are more easily processed in try-catch blocks, and are easier to re-use and maintain.

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

686:             require(success, "Transfer failed.");

```
*Github:* [[686](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L686)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

82:                 require(success, "BalancerFlashLoan: Flash loan failed");

92:             require(tokens[i].balanceOf(address(this)) == 0, "BalancerFlashLoan: Flash loan extra tokens");

```
*Github:* [[82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L82), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L92)]


```solidity
File: ./contracts/governance/Keepers.sol

94:         require(isOwner[msg.sender], "Not an owner");

95:         require(sigR.length == threshold, "Not enough signatures");

96:         require(sigR.length == sigS.length && sigR.length == sigV.length, "Lengths do not match");

97:         require(executor == msg.sender, "Invalid executor");

98:         require(block.timestamp <= deadline, "Transaction expired");

117:         require(success, "Transaction execution reverted.");

```
*Github:* [[94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L94), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L95), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L96), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L97), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L98), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L117)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

25:         require(isEligibleToUse[msg.sender], "NoyaSwapHandler: Not eligible to use");

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L25)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

35:         require(isHandler[msg.sender] == true, "LifiImplementation: INVALID_SENDER");

84:         require(verifySwapData(_request), "LifiImplementation: INVALID_SWAP_DATA");

196:             require(success, "Transfer failed.");

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L35), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L84), [196](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L196)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

50:         require(pool != address(0), "pool doesn't exist");

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L50)]


</details>


<a name="NC-28"></a> 
### [NC-28] Polymorphic functions make security audits more time-consuming and error-prone
The instances below point to one of two functions with the same name. Consider naming each function differently, in order to make code navigation and analysis easier.

*There are <b>7</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit also found on line 705
200:     function deposit(address receiver, uint256 amount, address referrer) public nonReentrant whenNotPaused {

/// @audit also found on line 697
304:     function withdraw(uint256 share, address receiver) public nonReentrant whenNotPaused {

```
*Github:* [[200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L200), [304](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L304)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit also found on line 335
293:     function updateHoldingPosition(

```
*Github:* [[293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit also found on line 184
175:     function totalLpBalanceOf(PoolInfo memory pool) public view returns (uint256) {

```
*Github:* [[175](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L175)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit also found on line 158
135:     function _updateTokenInRegistry(address token, bool remove) internal {

```
*Github:* [[135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L135)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit also found on line 91
79:     function _updateTokenInRegistry(address token, bool remove) internal {

```
*Github:* [[79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L79)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit also found on line 95
81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81)]



<a name="NC-29"></a> 
### [NC-29] Duplicated `require()`/`revert()` checks should be refactored
Refactoring duplicate `require()`/`revert()` checks into a modifier or function can make the code more concise, readable and maintainable, and less likely to make errors or omissions when modifying the `require()` or `revert()`.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit duplicated on line 175
116:             revert NoyaAccounting_INVALID_FEE();

/// @audit duplicated on line 458
202:             revert NoyaAccounting_INVALID_AMOUNT();

/// @audit duplicated on line 398
336:             revert NoyaAccounting_ThereIsAnActiveWithdrawGroup();

/// @audit duplicated on line 465
571:             revert NoyaAccounting_INVALID_AMOUNT();

/// @audit duplicated on line 698
694:         revert NoyaAccounting_NOT_ALLOWED();

/// @audit duplicated on line 706
702:         revert NoyaAccounting_NOT_ALLOWED();

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L116), [202](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L202), [336](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L336), [571](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L571), [694](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L694), [702](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L702)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit duplicated on line 41
34:             revert UnauthorizedAccess();

/// @audit duplicated on line 120
67:         require(_governer != address(0));

/// @audit duplicated on line 123
68:         require(_maintainer != address(0));

/// @audit duplicated on line 169
124:         require(_keeperContract != address(0));

/// @audit duplicated on line 170
125:         require(_watcher != address(0));

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L34), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L67), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L68), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L125)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit duplicated on line 85
66:             revert IConnector_UntrustedToken(token);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L66)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit duplicated on line 38
80:             revert IConnector_InvalidPosition(positionId);

```
*Github:* [[80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L80)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit duplicated on line 104
66:             revert IConnector_LowHealthFactor(0);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L66)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

/// @audit duplicated on line 56
34:             revert NoyaGovernance_Unauthorized(msg.sender);

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L34)]


</details>


<a name="NC-30"></a> 
### [NC-30] Empty bytes check is missing
Passing empty bytes to a function can cause unexpected behavior, such as certain operations failing, producing incorrect results, or wasting gas. It is recommended to check that all byte parameters are not empty.

<details>
<summary>
There are <b>43</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit missing empty check for `_data`
150:     function sendTokensToTrustedAddress(address token, uint256 amount, address _caller, bytes calldata _data)
             external
             returns (uint256)
         {

/// @audit missing empty check for `addLPdata`
257:     function executeDeposit(uint256 maxI, address connector, bytes memory addLPdata)
             public
             onlyManager
             whenNotPaused
             nonReentrant
         {

/// @audit missing empty check for `data`
649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

```
*Github:* [[150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L150), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L257), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit missing empty check for `_data`
/// @audit missing empty check for `_additionalData`
238:     function addTrustedPosition(
             uint256 vaultId,
             uint256 _positionTypeId,
             address calculatorConnector,
             bool onlyOwner,
             bool _isDebt,
             bytes calldata _data,
             bytes calldata _additionalData
         ) external onlyVaultMaintainerWithoutTimeLock(vaultId) vaultExists(vaultId) nonReentrant {

/// @audit missing empty check for `d`
/// @audit missing empty check for `AD`
293:     function updateHoldingPosition(
             Vault storage vault,
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata d,
             bytes calldata AD,
             uint256 index,
             bytes32 holdingPositionId
         ) internal returns (uint256) {

/// @audit missing empty check for `_data`
/// @audit missing empty check for `additionalData`
335:     function updateHoldingPosition(
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata _data,
             bytes calldata additionalData,
             bool removePosition
         ) public vaultExists(vaultId) returns (uint256) {

/// @audit missing empty check for `_data`
/// @audit missing empty check for `additionalData`
370:     function updateHoldingPostionWithTime(
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata _data,
             bytes calldata additionalData,
             bool removePosition,
             uint256 positionTimestamp
         ) external vaultExists(vaultId) {

/// @audit missing empty check for `data`
394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)
             public
             view
             returns (uint256)
         {

/// @audit missing empty check for `data`
486:     function calculatePositionId(address calculatorConnector, uint256 positionTypeId, bytes memory data)
             public
             pure
             returns (bytes32)
         {

```
*Github:* [[238](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L238), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L335), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L370), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394), [486](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L486)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit missing empty check for ``
120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit missing empty check for `data`
117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit missing empty check for `userData`
37:     function makeFlashLoan(IERC20[] memory tokens, uint256[] memory amounts, bytes memory userData)
            external
            nonReentrant
        {

/// @audit missing empty check for `userData`
54:     function receiveFlashLoan(
            IERC20[] memory tokens,
            uint256[] memory amounts,
            uint256[] memory feeAmounts,
            bytes memory userData
        ) external override {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L37), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L54)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit missing empty check for `data`
99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit missing empty check for `data`
134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit missing empty check for `data`
142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit missing empty check for ``
149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

/// @audit missing empty check for `data`
161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit missing empty check for `data`
141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit missing empty check for `swapData`
183:     function swapExactPTForSY(IPMarket market, uint256 exactPTIn, bytes calldata swapData, uint256 minSY)
             external
             onlyManager
             nonReentrant
         {

/// @audit missing empty check for `data`
311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[183](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L183), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit missing empty check for `data`
164:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L164)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit missing empty check for ``
64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

/// @audit missing empty check for ``
128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit missing empty check for `data`
143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit missing empty check for `data`
123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit missing empty check for `data`
152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit missing empty check for `data`
84:     function execute(
            address destination,
            bytes calldata data,
            uint256 gasLimit,
            address executor,
            bytes32[] memory sigR,
            bytes32[] memory sigS,
            uint8[] memory sigV,
            uint256 deadline
        ) public {

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L84)]


```solidity
File: ./contracts/governance/Watchers.sol

/// @audit missing empty check for `data`
8:     function verifyRemoveLiquidity(uint256 withdrawAmount, uint256 sentAmount, bytes memory data) external view { }

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L8)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit missing empty check for `data`
84:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)
            external
            returns (uint256)
        {

/// @audit missing empty check for `data`
122:     function transferPositionToAnotherConnector(
             address[] memory tokens,
             uint256[] memory amounts,
             bytes memory data,
             address connector
         ) external onlyManager nonReentrant {

/// @audit missing empty check for `data`
169:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data)
             external
             override
             nonReentrant
         {

/// @audit missing empty check for `data`
232:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

/// @audit missing empty check for ``
263:     function _getUnderlyingTokens(uint256, bytes memory) public view virtual returns (address[] memory) {

/// @audit missing empty check for ``
267:     function _addLiquidity(address[] memory, uint256[] memory, bytes memory) internal virtual returns (bool) {

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L84), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L122), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L169), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L232), [263](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L263), [267](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L267)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit missing empty check for `data`
40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

/// @audit missing empty check for `data`
51:     function updatePositionToRegistryUsingType(bytes32 _positionId, bytes memory data, bool remove) external {

/// @audit missing empty check for `data`
59:     function addPositionToRegistryUsingType(uint256 _positionType, bytes memory data) external {

/// @audit missing empty check for `data`
65:     function addPositionToRegistry(bytes memory data) external {

/// @audit missing empty check for `data`
75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L51), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L59), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L65), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

/// @audit missing empty check for `_message`
/// @audit missing empty check for ``
65:     function _lzReceive(Origin calldata _origin, bytes32, bytes calldata _message, address, bytes calldata)
            internal
            override
        {

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L65)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit missing empty check for `_messageSetting`
36:     function updateMessageSetting(bytes memory _messageSetting) public onlyOwner {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L36)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit missing empty check for `data`
165:     function _forward(IERC20 token, address from, uint256 amount, address caller, bytes calldata data, uint256 routeId)
             internal
             virtual
             nonReentrant
         {

```
*Github:* [[165](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L165)]


</details>


<a name="NC-31"></a> 
### [NC-31] Enable IR-based code generation
The IR-based code generator was introduced with an aim to not only allow code generation to be more transparent and auditable but also to enable more powerful optimization passes that span across functions. You can enable it on the command line using `--via-ir` or with the option `{"viaIR": true}`. This will take longer to compile, but you can just simple test it before deploying and if you got a better benchmark then you can add --via-ir to your deploy command More on: https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/)]



<a name="NC-32"></a> 
### [NC-32] Enum values should be used instead of constant array indexes
Create a commented enum value to use instead of constant array indexes, this makes the code far easier to understand.

<details>
<summary>
There are <b>26</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

290:             amounts[0] = processedBaseTokenAmount;

292:             tokens[0] = address(baseToken);

652:             tokens[0] = abi.decode(data, (address));

```
*Github:* [[290](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L290), [292](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L292), [652](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L652)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

120:         tokens[0] = IPool(pool).token0();

121:         tokens[1] = IPool(pool).token1();

```
*Github:* [[120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L120), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L121)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

102:         tokens[0] = tokenA;

103:         tokens[1] = tokenB;

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L102), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L103)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

145:         tokens[0] = IFraxPair(pool).collateralContract();

146:         tokens[1] = IFraxPair(pool).asset();

```
*Github:* [[145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L145), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L146)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

55:         amounts[0] = amount;

59:         registry.updateHoldingPosition(vaultId, positionId, abi.encode(requestIds[0]), abi.encode(amount), false);

```
*Github:* [[55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L55), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L59)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

164:         tokens[0] = IMaverickPool(pool).tokenA();

165:         tokens[1] = IMaverickPool(pool).tokenB();

```
*Github:* [[164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L164), [165](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L165)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

145:         tokens[0] = params.loanToken;

146:         tokens[1] = params.collateralToken;

```
*Github:* [[145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L145), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L146)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

315:         (, tokens[0],) = SY.assetInfo();

```
*Github:* [[315](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L315)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

170:         tokens[0] = collateral;

171:         tokens[1] = debTtoken;

```
*Github:* [[170](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L170), [171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L171)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

127:         tokens[0] = IStargatePool(lpAddress).token();

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L127)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

154:         (tokens[0], tokens[1]) = abi.decode(data, (address, address));

154:         (tokens[0], tokens[1]) = abi.decode(data, (address, address));

```
*Github:* [[154](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L154), [154](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L154)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

235:             tokens[0] = abi.decode(data, (address));

```
*Github:* [[235](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L235)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

70:         secondsAgos[0] = period;

71:         secondsAgos[1] = 0;

77:         int56 tickCumulativesDelta = tickCumulatives[1] - tickCumulatives[0];

77:         int56 tickCumulativesDelta = tickCumulatives[1] - tickCumulatives[0];

```
*Github:* [[70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L70), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L71), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L77), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L77)]


</details>


<a name="NC-33"></a> 
### [NC-33] Events are emitted without the sender information
When an action is triggered based on a user's action, not being able to filter based on who triggered the action makes event processing a lot more cumbersome. Including the `msg.sender` the events of these types of action will make events much more useful to end users, especially when `msg.sender` is not `tx.origin`.

<details>
<summary>
There are <b>122</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

127:         emit ValueOracleUpdated(address(_valueOracle));

146:         emit FeeRecepientsChanged(_withdrawFeeReceiver, _performanceFeeReceiver, _managementFeeReceiver);

154:         emit TransferTokensToTrustedAddress(token, amount, _caller, _data);

180:         emit FeeRatesChanged(_withdrawFee, _performanceFee, _managementFee);

216:         emit RecordDeposit(depositQueue.last, receiver, block.timestamp, amount, referrer);

364:         emit WithdrawGroupStarted(currentWithdrawGroup.lastId, currentWithdrawGroup.totalCBAmount);

387:         emit WithdrawGroupFulfilled(

485:         emit RecordProfit(

520:         emit CollectManagementFee(managementFeeAmount, timePassed, totalShares, currentFeeShares);

538:         emit CollectPerformanceFee(preformanceFeeSharesWaitingForDistribution);

670:         emit SetDepositLimits(_depositLimitPerTransaction, _depositTotalAmount);

675:         emit SetDepositWaitingTime(_depositWaitingTime);

680:         emit SetWithdrawWaitingTime(_withdrawWaitingTime);

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L127), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L146), [154](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L154), [180](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L180), [216](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L216), [364](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L364), [387](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L387), [485](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L485), [520](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L520), [538](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L538), [670](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L670), [675](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L675), [680](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L680)]


```solidity
File: ./contracts/accountingManager/Registry.sol

85:         emit updateFlashloanAddress(_flashLoan, flashLoan);

142:         emit VaultAdded(vaultId, _accountingManager, _baseToken, _trustedTokens);

143:         emit VaultAddressesChanged(

178:         emit VaultAddressesChanged(

217:         emit ConnectorTrustedTokensUpdated(vaultId, _connectorAddress, _tokens, trusted);

262:         emit TrustedPositionAdded(vaultId, positionId, calculatorConnector, _positionTypeId, onlyOwner, _isDebt, _data);

279:         emit TrustedPositionRemoved(vaultId, _positionId);

302:         emit HoldingPositionUpdated(vaultId, _positionId, d, AD, false, index);

```
*Github:* [[85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L85), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L142), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L143), [178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L178), [217](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L217), [262](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L262), [279](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L279), [302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L302)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

53:         emit Supply(supplyToken, amount);

75:         emit Borrow(_borrowAsset, _amount);

85:         emit Repay(asset, amount, i);

90:         emit RepayWithCollateral(_borrowAsset, _amount, i);

111:         emit WithdrawCollateral(_collateral, _collateralAmount);

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L53), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L75), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L85), [90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L90), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L111)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

72:         emit Supply(data.pool, data.amount0, data.amount1);

97:         emit Withdraw(data.pool, data.amountLiquidity);

```
*Github:* [[72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L72), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L97)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

106:         emit OpenPosition(poolId, amounts, amountsWithoutBPT, minBPT, auraAmount);

159:         emit DecreasePosition(p);

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L106), [159](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L159)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

42:         emit MakeFlashLoan(tokens, amounts);

60:         emit ReceiveFlashLoan(tokens, amounts, feeAmounts, userData);

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L42), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L60)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

37:         emit Supply(market, asset, amount);

59:         emit WithdrawOrBorrow(_market, asset, amount);

67:         emit ClaimRewards(rewardContract, market);

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L37), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L59), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L67)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

149:         emit OpenCurvePosition(pool, depositIndex, amount, minAmount);

174:         emit DecreaseCurvePosition(pool, withdrawIndex, amount, minAmount);

184:         emit WithdrawFromConvexBooster(pid, amount);

194:         emit WithdrawFromConvexRewardPool(pool, amount);

204:         emit WithdrawFromGauge(pool, amount);

214:         emit WithdrawFromPrisma(depostiToken, amount);

226:         emit HarvestRewards(gauges);

240:         emit HarvestPrismaRewards(pools);

254:         emit HarvestConvexRewards(rewardsPools);

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L149), [174](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L174), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L184), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L194), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L204), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L214), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L226), [240](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L240), [254](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L254)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

79:         emit Withdraw(address(pool), withdrawAmount);

97:         emit Repay(address(pool), sharesToRepay);

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

33:         emit OpenAccount(facade, ref);

51:         emit CloseAccount(facade, creditAccount);

85:         emit ExecuteCommands(facade, creditAccount, calls, approvalToken, amount);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L33), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L51), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L85)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

44:         emit Deposit(amountIn);

62:         emit RequestWithdrawals(amount);

86:         emit ClaimWithdrawal(requestId);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L44), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L62), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L86)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

71:         emit Stake(amount, duration, doDelegation);

83:         emit Unstake(lockupId);

107:         emit AddLiquidityInMaverickPool(p);

130:         emit RemoveLiquidityFromMaverickPool(p);

146:         emit ClaimBoostedPositionRewards(rewardContract);

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L71), [83](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L83), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L107), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L130), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L146)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

49:         emit Supply(amount, id, sOrC);

72:         emit Withdraw(amount, id, sOrC);

87:         emit Borrow(amount, id);

100:         emit Repay(amount, id);

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L49), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L72), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L87), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L100)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

33:         emit SendPositionToMasterChef(tokenId);

43:         emit UpdatePosition(tokenId);

53:         emit Withdraw(tokenId);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L33), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L43), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L53)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

89:         emit Supply(market, syMinted);

101:         emit MintPTAndYT(market, syAmount);

118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

129:         emit DepositIntoPenpie(_market, _amount);

139:         emit WithdrawFromPenpie(_market, _amount);

156:         emit SwapYTForPT(market, exactYTIn, min, guess);

173:         emit SwapYTForSY(market, exactYTIn, min, orderData);

195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

207:         emit BurnLP(address(market), amount);

232:         emit DecreasePosition(address(market), _amount, closePosition);

247:         emit ClaimRewards(address(market));

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L89), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L101), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L129), [139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L139), [156](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L156), [173](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L173), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

85:         emit AddColl(address(zapContract), tm, amountIn);

121:         emit AdjustTrove(address(zapContract), tm, mFee, wAmount, bAmount, isBorrowing);

135:         emit CloseTrove(address(zapContract), troveManager);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L85), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L121), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L135)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

41:         emit Deposit(siloToken, dToken, amount, oC);

68:         emit Withdraw(siloToken, wToken, amount, oC, closePosition);

89:         emit Borrow(siloToken, bToken, amount);

106:         emit Repay(siloToken, rToken, amount);

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L41), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L68), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L89), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L106)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

69:         emit DepositIntoStargatePool(depositRequest);

96:         emit WithdrawFromStargatePool(withdrawRequest);

106:         emit ClaimStargateRewards(poolId);

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L69), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L96), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L106)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

56:         emit OpenPosition(p, tokenId);

80:         emit DecreasePosition(p);

95:         emit IncreasePosition(p);

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L56), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L80), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L95)]


```solidity
File: ./contracts/governance/Keepers.sol

55:         emit UpdateOwners(_owners, addOrRemove);

66:         emit UpdateThreshold(_threshold);

115:         emit Execute(destination, data, gasLimit, executor, deadline);

```
*Github:* [[55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L55), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L66), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L115)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

50:         emit MinimumHealthFactorUpdated(_minimumHealthFactor);

60:         emit SwapHandlerUpdated(_swapHandler);

69:         emit ValueOracleUpdated(_valueOracle);

88:         emit TransferTokensToTrustedAddress(token, amount, caller, data);

128:         emit TransferPositionToConnector(tokens, amounts, connector, data);

192:         emit AddLiquidity(tokens, amounts, data);

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L50), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L60), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L69), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L88), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L128), [192](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L192)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

49:         emit UpdateChainInfo(chainId, destinationAddress);

60:         emit UpdateBridgeTransactionApproval(transactionHash, block.timestamp);

70:         emit StartBridgeTransaction(bridgeRequest, txn);

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L49), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L60), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L70)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

50:         emit SetValueOracle(_valueOracle);

59:         emit SetSlippageTolerance(address(0), address(0), _slippageTolerance);

73:         emit SetSlippageTolerance(_inputToken, _outputToken, _slippageTolerance);

82:         emit AddEligibleUser(_user);

117:         emit ExecutionCompleted(

139:         emit BridgeExecutionCompleted(_bridgeRequest);

160:         emit RouteUpdate(_routeId, false);

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L50), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L59), [73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L73), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L82), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L117), [139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L139), [160](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L160)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

47:         emit AddedHandler(_handler, state);

57:         emit AddedChain(_chainId, state);

67:         emit AddedBridgeBlacklist(bridgeName, state);

99:         emit Swapped(balanceOut0, balanceOut1, _request.outputToken);

141:         emit Bridged(_request.from, _request.inputToken, _request.amount, _request.data);

182:         emit Forwarded(lifi, address(token), amount, data);

200:         emit Rescued(token, userAddress, amount);

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L47), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L57), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L67), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L99), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L141), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L200)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

44:         emit UpdatedDefaultPriceSource(baseCurrencies, oracles);

58:         emit UpdatedAssetPriceSource(asset, baseToken, oracle);

63:         emit UpdatedPriceRoute(asset, base, s);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L44), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L58), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L63)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

61:         emit ChainlinkPriceAgeThresholdUpdated(_chainlinkPriceAgeThreshold);

```
*Github:* [[61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L61)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

41:         emit NewPeriod(_period);

52:         emit PoolsForAsset(tokenIn, baseToken, pool);

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L41), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L52)]


</details>


<a name="NC-34"></a> 
### [NC-34] Events may be emitted out of order due to reentrancy
Ensure that events follow the best practice of check-effects-interaction, and are emitted before external calls.

<details>
<summary>
There are <b>81</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `.safeTransferFrom(...)` is called on line 205
216:         emit RecordDeposit(depositQueue.last, receiver, block.timestamp, amount, referrer);

/// @audit `.balanceOf(...)` is called on line 379
387:         emit WithdrawGroupFulfilled(

/// @audit `.safeTransfer(...)` is called on line 428
429:             emit ExecuteWithdraw(

/// @audit `.isAnActiveConnector(...)` is called on line 552
/// @audit `.balanceOf(...)` is called on line 555
/// @audit `.sendTokensToTrustedAddress(...)` is called on line 556
/// @audit `.balanceOf(...)` is called on line 559
562:             emit RetrieveTokensForWithdraw(

/// @audit `.safeTransfer(...)` is called on line 688
690:         emit Rescue(msg.sender, token, amount);

```
*Github:* [[216](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L216), [387](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L387), [429](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L429), [562](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L562), [690](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L690)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `.getUnderlyingTokens(...)` is called on line 252
262:         emit TrustedPositionAdded(vaultId, positionId, calculatorConnector, _positionTypeId, onlyOwner, _isDebt, _data);

```
*Github:* [[262](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L262)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `.supply(...)` is called on line 48
/// @audit `.calculatePositionId(...)` is called on line 50
/// @audit `.updateHoldingPosition(...)` is called on line 49
53:         emit Supply(supplyToken, amount);

/// @audit `.isTokenTrusted(...)` is called on line 67
/// @audit `.borrow(...)` is called on line 70
/// @audit `.getUserAccountData(...)` is called on line 72
75:         emit Borrow(_borrowAsset, _amount);

/// @audit `.repay(...)` is called on line 83
85:         emit Repay(asset, amount, i);

/// @audit `.repayWithATokens(...)` is called on line 89
90:         emit RepayWithCollateral(_borrowAsset, _amount, i);

/// @audit `.withdraw(...)` is called on line 101
/// @audit `.getUserAccountData(...)` is called on line 103
/// @audit `.calculatePositionId(...)` is called on line 108
/// @audit `.updateHoldingPosition(...)` is called on line 107
111:         emit WithdrawCollateral(_collateral, _collateralAmount);

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L53), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L75), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L85), [90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L90), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L111)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit `.calculatePositionId(...)` is called on line 54
/// @audit `.token0(...)` is called on line 55
/// @audit `.token1(...)` is called on line 56
/// @audit `.token0(...)` is called on line 58
/// @audit `.token1(...)` is called on line 59
/// @audit `.stable(...)` is called on line 60
/// @audit `.addLiquidity(...)` is called on line 57
/// @audit `.updateHoldingPosition(...)` is called on line 68
/// @audit `.token0(...)` is called on line 69
/// @audit `.token1(...)` is called on line 70
72:         emit Supply(data.pool, data.amount0, data.amount1);

/// @audit `.calculatePositionId(...)` is called on line 80
/// @audit `.token0(...)` is called on line 83
/// @audit `.token1(...)` is called on line 84
/// @audit `.stable(...)` is called on line 85
/// @audit `.removeLiquidity(...)` is called on line 82
/// @audit `.balanceOf(...)` is called on line 92
/// @audit `.updateHoldingPosition(...)` is called on line 93
/// @audit `.token0(...)` is called on line 95
/// @audit `.token1(...)` is called on line 96
97:         emit Withdraw(data.pool, data.amountLiquidity);

```
*Github:* [[72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L72), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L97)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `.getPoolTokens(...)` is called on line 73
/// @audit `.getPool(...)` is called on line 75
/// @audit `.joinPool(...)` is called on line 81
/// @audit `.calculatePositionId(...)` is called on line 96
/// @audit `.updateHoldingPosition(...)` is called on line 97
/// @audit `.balanceOf(...)` is called on line 102
/// @audit `.deposit(...)` is called on line 104
106:         emit OpenPosition(poolId, amounts, amountsWithoutBPT, minBPT, auraAmount);

/// @audit `.withdrawAndUnwrap(...)` is called on line 119
/// @audit `.getPoolTokens(...)` is called on line 125
/// @audit `.exitPool(...)` is called on line 130
/// @audit `.calculatePositionId(...)` is called on line 149
/// @audit `.updateHoldingPosition(...)` is called on line 147
159:         emit DecreasePosition(p);

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L106), [159](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L159)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `.isTokenTrusted(...)` is called on line 31
/// @audit `.supply(...)` is called on line 32
/// @audit `.calculatePositionId(...)` is called on line 34
/// @audit `.updateHoldingPosition(...)` is called on line 33
37:         emit Supply(market, asset, amount);

/// @audit `.withdraw(...)` is called on line 49
/// @audit `.isTokenTrusted(...)` is called on line 50
/// @audit `.calculatePositionId(...)` is called on line 55
/// @audit `.updateHoldingPosition(...)` is called on line 54
59:         emit WithdrawOrBorrow(_market, asset, amount);

/// @audit `.rewardConfig(...)` is called on line 64
/// @audit `.claim(...)` is called on line 65
67:         emit ClaimRewards(rewardContract, market);

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L37), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L59), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L67)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `.calculatePositionId(...)` is called on line 122
/// @audit `.getPositionBP(...)` is called on line 123
/// @audit `.add_liquidity(...)` is called on line 147
/// @audit `.add_liquidity(...)` is called on line 143
/// @audit `.add_liquidity(...)` is called on line 139
/// @audit `.add_liquidity(...)` is called on line 135
/// @audit `.add_liquidity(...)` is called on line 131
149:         emit OpenCurvePosition(pool, depositIndex, amount, minAmount);

/// @audit `.calculatePositionId(...)` is called on line 167
/// @audit `.remove_liquidity_one_coin(...)` is called on line 169
/// @audit `.updateHoldingPosition(...)` is called on line 172
174:         emit DecreaseCurvePosition(pool, withdrawIndex, amount, minAmount);

/// @audit `.withdraw(...)` is called on line 183
184:         emit WithdrawFromConvexBooster(pid, amount);

/// @audit `.withdraw(...)` is called on line 193
194:         emit WithdrawFromConvexRewardPool(pool, amount);

/// @audit `.withdraw(...)` is called on line 203
204:         emit WithdrawFromGauge(pool, amount);

/// @audit `.withdraw(...)` is called on line 213
214:         emit WithdrawFromPrisma(depostiToken, amount);

/// @audit `.claim_rewards(...)` is called on line 223
226:         emit HarvestRewards(gauges);

/// @audit `.claimReward(...)` is called on line 235
240:         emit HarvestPrismaRewards(pools);

/// @audit `.getReward(...)` is called on line 250
254:         emit HarvestConvexRewards(rewardsPools);

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L149), [174](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L174), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L184), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L194), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L204), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L214), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L226), [240](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L240), [254](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L254)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `.calculatePositionId(...)` is called on line 44
/// @audit `.collateralContract(...)` is called on line 45
/// @audit `.addCollateral(...)` is called on line 53
/// @audit `.borrowAsset(...)` is called on line 50
/// @audit `.asset(...)` is called on line 51
/// @audit `.updateHoldingPosition(...)` is called on line 58
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit `.userCollateralBalance(...)` is called on line 69
/// @audit `.calculatePositionId(...)` is called on line 72
/// @audit `.updateHoldingPosition(...)` is called on line 74
/// @audit `.removeCollateral(...)` is called on line 76
/// @audit `.collateralContract(...)` is called on line 77
79:         emit Withdraw(address(pool), withdrawAmount);

/// @audit `.toBorrowAmount(...)` is called on line 88
/// @audit `.userBorrowShares(...)` is called on line 89
/// @audit `.asset(...)` is called on line 90
/// @audit `.repayAsset(...)` is called on line 95
97:         emit Repay(address(pool), sharesToRepay);

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit `.openCreditAccount(...)` is called on line 25
/// @audit `.calculatePositionId(...)` is called on line 28
/// @audit `.updateHoldingPosition(...)` is called on line 26
33:         emit OpenAccount(facade, ref);

/// @audit `.closeCreditAccount(...)` is called on line 42
/// @audit `.calculatePositionId(...)` is called on line 46
/// @audit `.updateHoldingPosition(...)` is called on line 44
51:         emit CloseAccount(facade, creditAccount);

/// @audit `.creditManager(...)` is called on line 79
/// @audit `.multicall(...)` is called on line 81
/// @audit `.creditManager(...)` is called on line 83
85:         emit ExecuteCommands(facade, creditAccount, calls, approvalToken, amount);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L33), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L51), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L85)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `.withdraw(...)` is called on line 38
44:         emit Deposit(amountIn);

/// @audit `.requestWithdrawals(...)` is called on line 57
/// @audit `.calculatePositionId(...)` is called on line 58
/// @audit `.updateHoldingPosition(...)` is called on line 59
62:         emit RequestWithdrawals(amount);

/// @audit `.approve(...)` is called on line 71
/// @audit `.claimWithdrawal(...)` is called on line 75
/// @audit `.calculatePositionId(...)` is called on line 80
/// @audit `.updateHoldingPosition(...)` is called on line 78
86:         emit ClaimWithdrawal(requestId);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L44), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L62), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L86)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `.stake(...)` is called on line 68
71:         emit Stake(amount, duration, doDelegation);

/// @audit `.unstake(...)` is called on line 80
83:         emit Unstake(lockupId);

/// @audit `.tokenA(...)` is called on line 93
/// @audit `.tokenB(...)` is called on line 94
/// @audit `.calculatePositionId(...)` is called on line 103
/// @audit `.updateHoldingPosition(...)` is called on line 102
/// @audit `.tokenA(...)` is called on line 105
/// @audit `.tokenB(...)` is called on line 106
107:         emit AddLiquidityInMaverickPool(p);

/// @audit `.position(...)` is called on line 120
/// @audit `.approve(...)` is called on line 121
/// @audit `.removeLiquidity(...)` is called on line 122
/// @audit `.calculatePositionId(...)` is called on line 126
/// @audit `.updateHoldingPosition(...)` is called on line 125
/// @audit `.tokenA(...)` is called on line 128
/// @audit `.tokenB(...)` is called on line 129
130:         emit RemoveLiquidityFromMaverickPool(p);

/// @audit `.earned(...)` is called on line 138
/// @audit `.tokenIndex(...)` is called on line 142
/// @audit `.getReward(...)` is called on line 143
146:         emit ClaimBoostedPositionRewards(rewardContract);

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L71), [83](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L83), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L107), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L130), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L146)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit `.idToMarketParams(...)` is called on line 36
/// @audit `.supplyCollateral(...)` is called on line 43
/// @audit `.supply(...)` is called on line 39
/// @audit `.calculatePositionId(...)` is called on line 47
/// @audit `.updateHoldingPosition(...)` is called on line 46
49:         emit Supply(amount, id, sOrC);

/// @audit `.idToMarketParams(...)` is called on line 59
/// @audit `.withdrawCollateral(...)` is called on line 63
/// @audit `.withdraw(...)` is called on line 61
/// @audit `.position(...)` is called on line 65
/// @audit `.calculatePositionId(...)` is called on line 68
/// @audit `.updateHoldingPosition(...)` is called on line 67
72:         emit Withdraw(amount, id, sOrC);

/// @audit `.idToMarketParams(...)` is called on line 81
/// @audit `.borrow(...)` is called on line 82
/// @audit `.market(...)` is called on line 83
/// @audit `.market(...)` is called on line 84
87:         emit Borrow(amount, id);

/// @audit `.idToMarketParams(...)` is called on line 96
/// @audit `.repay(...)` is called on line 98
100:         emit Repay(amount, id);

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L49), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L72), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L87), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L100)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

/// @audit `.safeTransferFrom(...)` is called on line 32
33:         emit SendPositionToMasterChef(tokenId);

/// @audit `.updateLiquidity(...)` is called on line 41
/// @audit `.CAKE(...)` is called on line 42
43:         emit UpdatePosition(tokenId);

/// @audit `.withdraw(...)` is called on line 51
/// @audit `.CAKE(...)` is called on line 52
53:         emit Withdraw(tokenId);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L33), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L43), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L53)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit `.readTokens(...)` is called on line 79
/// @audit `.assetInfo(...)` is called on line 81
/// @audit `.deposit(...)` is called on line 85
/// @audit `.calculatePositionId(...)` is called on line 87
/// @audit `.updateHoldingPosition(...)` is called on line 88
89:         emit Supply(market, syMinted);

/// @audit `.readTokens(...)` is called on line 98
/// @audit `.safeTransfer(...)` is called on line 99
/// @audit `.mintPY(...)` is called on line 100
101:         emit MintPTAndYT(market, syAmount);

/// @audit `.readTokens(...)` is called on line 113
/// @audit `.safeTransfer(...)` is called on line 114
/// @audit `.safeTransfer(...)` is called on line 115
/// @audit `.mint(...)` is called on line 116
/// @audit `.skim(...)` is called on line 117
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit `.pendleStaking(...)` is called on line 127
/// @audit `.depositMarket(...)` is called on line 128
129:         emit DepositIntoPenpie(_market, _amount);

/// @audit `.withdrawMarketWithClaim(...)` is called on line 138
139:         emit WithdrawFromPenpie(_market, _amount);

/// @audit `.readTokens(...)` is called on line 153
/// @audit `.swapExactYtForPt(...)` is called on line 155
156:         emit SwapYTForPT(market, exactYTIn, min, guess);

/// @audit `.readTokens(...)` is called on line 170
/// @audit `.swapExactYtForSy(...)` is called on line 172
173:         emit SwapYTForSY(market, exactYTIn, min, orderData);

/// @audit `.readTokens(...)` is called on line 188
/// @audit `.safeTransfer(...)` is called on line 189
/// @audit `.swapExactPtForSy(...)` is called on line 190
/// @audit `.skim(...)` is called on line 194
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit `.safeTransfer(...)` is called on line 204
/// @audit `.burn(...)` is called on line 205
/// @audit `.skim(...)` is called on line 206
207:         emit BurnLP(address(market), amount);

/// @audit `.readTokens(...)` is called on line 217
/// @audit `.assetInfo(...)` is called on line 218
/// @audit `.safeTransfer(...)` is called on line 221
/// @audit `.redeem(...)` is called on line 222
/// @audit `.calculatePositionId(...)` is called on line 226
/// @audit `.updateHoldingPosition(...)` is called on line 224
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit `.redeemRewards(...)` is called on line 242
/// @audit `.getRewardTokens(...)` is called on line 243
247:         emit ClaimRewards(address(market));

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L89), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L101), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L129), [139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L139), [156](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L156), [173](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L173), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit `.calculatePositionId(...)` is called on line 57
/// @audit `.getPositionBP(...)` is called on line 58
/// @audit `.debtToken(...)` is called on line 60
/// @audit `.openTrove(...)` is called on line 62
/// @audit `.updateHoldingPosition(...)` is called on line 63
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit `.calculatePositionId(...)` is called on line 77
/// @audit `.getPositionBP(...)` is called on line 78
/// @audit `.getHoldingPositionIndex(...)` is called on line 79
/// @audit `.addColl(...)` is called on line 84
85:         emit AddColl(address(zapContract), tm, amountIn);

/// @audit `.calculatePositionId(...)` is called on line 106
/// @audit `.getHoldingPositionIndex(...)` is called on line 107
/// @audit `.borrowerOps(...)` is called on line 110
/// @audit `.debtToken(...)` is called on line 112
/// @audit `.adjustTrove(...)` is called on line 114
/// @audit `.debtToken(...)` is called on line 115
/// @audit `.getNominalICR(...)` is called on line 117
121:         emit AdjustTrove(address(zapContract), tm, mFee, wAmount, bAmount, isBorrowing);

/// @audit `.calculatePositionId(...)` is called on line 131
/// @audit `.borrowerOps(...)` is called on line 132
/// @audit `.closeTrove(...)` is called on line 133
/// @audit `.updateHoldingPosition(...)` is called on line 134
135:         emit CloseTrove(address(zapContract), troveManager);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L85), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L121), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L135)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `.getSilo(...)` is called on line 34
/// @audit `.deposit(...)` is called on line 36
/// @audit `.calculatePositionId(...)` is called on line 39
/// @audit `.updateHoldingPosition(...)` is called on line 38
41:         emit Deposit(siloToken, dToken, amount, oC);

/// @audit `.getSilo(...)` is called on line 57
/// @audit `.withdraw(...)` is called on line 58
/// @audit `.calculatePositionId(...)` is called on line 62
/// @audit `.updateHoldingPosition(...)` is called on line 61
68:         emit Withdraw(siloToken, wToken, amount, oC, closePosition);

/// @audit `.getSilo(...)` is called on line 86
/// @audit `.borrow(...)` is called on line 87
89:         emit Borrow(siloToken, bToken, amount);

/// @audit `.getSilo(...)` is called on line 99
/// @audit `.repay(...)` is called on line 101
106:         emit Repay(siloToken, rToken, amount);

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L41), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L68), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L89), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L106)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit `.poolInfo(...)` is called on line 50
/// @audit `.token(...)` is called on line 51
/// @audit `.addLiquidity(...)` is called on line 54
/// @audit `.balanceOf(...)` is called on line 60
/// @audit `.deposit(...)` is called on line 63
/// @audit `.calculatePositionId(...)` is called on line 67
/// @audit `.updateHoldingPosition(...)` is called on line 68
69:         emit DepositIntoStargatePool(depositRequest);

/// @audit `.poolInfo(...)` is called on line 77
/// @audit `.token(...)` is called on line 78
/// @audit `.withdraw(...)` is called on line 80
/// @audit `.instantRedeemLocal(...)` is called on line 83
/// @audit `.userInfo(...)` is called on line 88
/// @audit `.balanceOf(...)` is called on line 89
/// @audit `.calculatePositionId(...)` is called on line 90
/// @audit `.updateHoldingPosition(...)` is called on line 93
96:         emit WithdrawFromStargatePool(withdrawRequest);

/// @audit `.deposit(...)` is called on line 104
106:         emit ClaimStargateRewards(poolId);

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L69), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L96), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L106)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `.calculatePositionId(...)` is called on line 42
/// @audit `.mint(...)` is called on line 49
/// @audit `.updateHoldingPosition(...)` is called on line 51
56:         emit OpenPosition(p, tokenId);

/// @audit `.decreaseLiquidity(...)` is called on line 68
/// @audit `.burn(...)` is called on line 74
/// @audit `.calculatePositionId(...)` is called on line 76
/// @audit `.updateHoldingPosition(...)` is called on line 78
80:         emit DecreasePosition(p);

/// @audit `.increaseLiquidity(...)` is called on line 92
95:         emit IncreasePosition(p);

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L56), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L80), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L95)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `.getVaultAddresses(...)` is called on line 136
/// @audit `.calculatePositionId(...)` is called on line 138
/// @audit `.getHoldingPositionIndex(...)` is called on line 141
143:             emit UpdateTokenInRegistry(token, remove);

/// @audit `.isAddressTrusted(...)` is called on line 174
/// @audit `.balanceOf(...)` is called on line 180
/// @audit `.sendTokensToTrustedAddress(...)` is called on line 181
/// @audit `.balanceOf(...)` is called on line 182
192:         emit AddLiquidity(tokens, amounts, data);

```
*Github:* [[143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L143), [192](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L192)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `.getValue(...)` is called on line 110
/// @audit `.performSwapAction(...)` is called on line 115
117:         emit ExecutionCompleted(

/// @audit `.performBridgeAction(...)` is called on line 137
139:         emit BridgeExecutionCompleted(_bridgeRequest);

```
*Github:* [[117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L117), [139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L139)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `.balanceOf(...)` is called on line 89
/// @audit `.balanceOf(...)` is called on line 96
99:         emit Swapped(balanceOut0, balanceOut1, _request.outputToken);

/// @audit `.sendTokensToTrustedAddress(...)` is called on line 171
182:         emit Forwarded(lifi, address(token), amount, data);

/// @audit `.safeTransfer(...)` is called on line 198
200:         emit Rescued(token, userAddress, amount);

```
*Github:* [[99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L99), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L200)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `.getPool(...)` is called on line 49
52:         emit PoolsForAsset(tokenIn, baseToken, pool);

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L52)]


</details>


<a name="NC-35"></a> 
### [NC-35]  Function ordering does not follow the Solidity Style Guide
According to the [solidity style guide](https://docs.soliditylang.org/en/v0.8.17/style-guide.html#order-of-functions), functions should be laid out in the following order: `constructor()`, `receive()`, `fallback()`, `external`, `public`, `internal`, `private`, but the cases below do not follow this pattern

<details>
<summary>
There are <b>87</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit public function `updateValueOracle` came earlier from this external function
/// @audit public function `setFeeReceivers` came earlier from this external function
150:     function sendTokensToTrustedAddress(address token, uint256 amount, address _caller, bytes calldata _data)

/// @audit internal function `_update` came earlier from this public function
200:     function deposit(address receiver, uint256 amount, address referrer) public nonReentrant whenNotPaused {

/// @audit internal function `_update` came earlier from this public function
226:     function calculateDepositShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

/// @audit internal function `_update` came earlier from this public function
257:     function executeDeposit(uint256 maxI, address connector, bytes memory addLPdata)

/// @audit internal function `_update` came earlier from this public function
304:     function withdraw(uint256 share, address receiver) public nonReentrant whenNotPaused {

/// @audit internal function `_update` came earlier from this public function
328:     function calculateWithdrawShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

/// @audit internal function `_update` came earlier from this public function
360:     function startCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

/// @audit internal function `_update` came earlier from this public function
370:     function fulfillCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

/// @audit internal function `_update` came earlier from this public function
396:     function executeWithdraw(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

/// @audit internal function `_update` came earlier from this public function
453:     function resetMiddle(uint256 newMiddle, bool depositOrWithdraw) public onlyManager {

/// @audit internal function `_update` came earlier from this public function
475:     function recordProfitForFee() public onlyManager nonReentrant {

/// @audit internal function `_update` came earlier from this public function
493:     function checkIfTVLHasDroped() public nonReentrant {

/// @audit internal function `_update` came earlier from this public function
505:     function collectManagementFees() public onlyManager nonReentrant returns (uint256, uint256) {

/// @audit internal function `_update` came earlier from this public function
526:     function collectPerformanceFees() public onlyManager nonReentrant {

/// @audit internal function `_update` came earlier from this public function
543:     function burnShares(uint256 amount) public {

/// @audit internal function `_update` came earlier from this public function
548:     function retrieveTokensForWithdraw(RetrieveData[] calldata retrieveData) public onlyManager nonReentrant {

/// @audit internal function `_update` came earlier from this public function
582:     function getProfit() public view returns (uint256) {

/// @audit internal function `_update` came earlier from this public function
591:     function totalAssets() public view override returns (uint256) {

/// @audit internal function `_update` came earlier from this public function
596:     function getQueueItems(bool depositOrWithdraw, uint256[] memory items)

/// @audit internal function `_update` came earlier from this public function
616:     function neededAssetsForWithdraw() public view returns (uint256) {

/// @audit internal function `_update` came earlier from this public function
627:     function TVL() public view returns (uint256) {

/// @audit internal function `_update` came earlier from this public function
632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

/// @audit internal function `_update` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

/// @audit internal function `_update` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
659:     function emergencyStop() public whenNotPaused onlyEmergency {

/// @audit internal function `_update` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
663:     function unpause() public whenPaused onlyEmergency {

/// @audit internal function `_update` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {

/// @audit internal function `_update` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
673:     function changeDepositWaitingTime(uint256 _depositWaitingTime) public onlyMaintainer {

/// @audit internal function `_update` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
678:     function changeWithdrawWaitingTime(uint256 _withdrawWaitingTime) public onlyMaintainer {

/// @audit internal function `_update` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
683:     function rescue(address token, uint256 amount) public onlyEmergency nonReentrant {

/// @audit internal function `_update` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

/// @audit internal function `_update` came earlier from this public function
697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

/// @audit internal function `_update` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

/// @audit internal function `_update` came earlier from this public function
705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L150), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L200), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L226), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L257), [304](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L304), [328](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L328), [360](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L360), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L370), [396](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L396), [453](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L453), [475](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L475), [493](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L493), [505](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L505), [526](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L526), [543](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L543), [548](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L548), [582](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L582), [591](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L591), [596](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L596), [616](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L616), [627](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L627), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649), [659](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L659), [663](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L663), [667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667), [673](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L673), [678](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L678), [683](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L683), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit public function `getPositionBP` came earlier from this external function
238:     function addTrustedPosition(

/// @audit public function `getPositionBP` came earlier from this external function
266:     function removeTrustedPosition(uint256 vaultId, bytes32 _positionId)

/// @audit public function `getPositionBP` came earlier from this external function
/// @audit internal function `updateHoldingPosition` came earlier from this external function
/// @audit public function `updateHoldingPosition` came earlier from this external function
370:     function updateHoldingPostionWithTime(

/// @audit internal function `updateHoldingPosition` came earlier from this public function
394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)

/// @audit internal function `updateHoldingPosition` came earlier from this public function
408:     function getHoldingPosition(uint256 vaultId, uint256 i) public view returns (HoldingPI memory) {

/// @audit internal function `updateHoldingPosition` came earlier from this public function
416:     function getHoldingPositions(uint256 vaultId) public view returns (HoldingPI[] memory) {

/// @audit internal function `updateHoldingPosition` came earlier from this public function
426:     function isPositionTrusted(uint256 vaultId, bytes32 _positionId) public view returns (bool) {

/// @audit internal function `updateHoldingPosition` came earlier from this public function
436:     function isPositionTrustedForConnector(uint256 vaultId, bytes32 _positionId, address connector)

/// @audit internal function `updateHoldingPosition` came earlier from this public function
449:     function getGovernanceAddresses(uint256 vaultId)

/// @audit internal function `updateHoldingPosition` came earlier from this public function
470:     function isTokenTrusted(uint256 vaultId, address token, address connector) public view returns (bool) {

/// @audit internal function `updateHoldingPosition` came earlier from this public function
486:     function calculatePositionId(address calculatorConnector, uint256 positionTypeId, bytes memory data)

/// @audit internal function `updateHoldingPosition` came earlier from this public function
499:     function isAnActiveConnector(uint256 vaultId, address connectorAddress) public view returns (bool) {

/// @audit internal function `updateHoldingPosition` came earlier from this public function
508:     function isPositionDebt(uint256 vaultId, bytes32 _positionId) public view returns (bool) {

/// @audit internal function `updateHoldingPosition` came earlier from this public function
516:     function getVaultAddresses(uint256 vaultId) public view returns (address, address) {

/// @audit internal function `updateHoldingPosition` came earlier from this public function
525:     function isAddressTrusted(uint256 vaultId, address addr) public view returns (bool) {

```
*Github:* [[238](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L238), [266](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L266), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L370), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394), [408](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L408), [416](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L416), [426](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L426), [436](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L436), [449](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L449), [470](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L470), [486](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L486), [499](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L499), [508](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L508), [516](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L516), [525](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L525)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit internal function `_getPoolInfo` came earlier from this public function
265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit internal function `_getPoolInfo` came earlier from this public function
279:     function LPToUnder(PoolInfo memory info, uint256 balance) public view returns (uint256, address) {

/// @audit internal function `_getPoolInfo` came earlier from this public function
297:     function estimateWithdrawAmount(ICurveSwap curvePool, uint256 amount, uint256 index)

/// @audit internal function `_getPoolInfo` came earlier from this public function
311:     function totalLpBalanceOf(PoolInfo memory info) public view returns (uint256) {

/// @audit internal function `_getPoolInfo` came earlier from this public function
325:     function balanceOfConvexRewardPool(PoolInfo memory info) public view returns (uint256) {

/// @audit internal function `_getPoolInfo` came earlier from this public function
335:     function balanceOfLPToken(PoolInfo memory info) public view returns (uint256) {

/// @audit internal function `_getPoolInfo` came earlier from this public function
344:     function balanceOfRewardPool(PoolInfo memory info) public view returns (uint256) {

/// @audit internal function `_getPoolInfo` came earlier from this public function
354:     function balanceOfPrisma(address prismaPool) public view returns (uint256) {

```
*Github:* [[265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265), [279](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L279), [297](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L297), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L311), [325](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L325), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L335), [344](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L344), [354](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L354)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit internal function `_getHealthFactor` came earlier from this public function
142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

/// @audit internal function `_getHealthFactor` came earlier from this public function
150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit a function was seen before receive()
/// @audit a function was seen before receive()
/// @audit a function was seen before receive()
89:     receive() external payable { }

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L89)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit public function `depositIntoPenpie` came earlier from this external function
/// @audit public function `withdrawFromPenpie` came earlier from this external function
149:     function swapYTForPT(address market, uint256 exactYTIn, uint256 min, ApproxParams memory guess)

/// @audit public function `depositIntoPenpie` came earlier from this external function
/// @audit public function `withdrawFromPenpie` came earlier from this external function
/// @audit public function `swapYTForSY` came earlier from this external function
183:     function swapExactPTForSY(IPMarket market, uint256 exactPTIn, bytes calldata swapData, uint256 minSY)

/// @audit public function `depositIntoPenpie` came earlier from this external function
/// @audit public function `withdrawFromPenpie` came earlier from this external function
/// @audit public function `swapYTForSY` came earlier from this external function
203:     function burnLP(IPMarket market, uint256 amount) external onlyManager nonReentrant {

/// @audit public function `depositIntoPenpie` came earlier from this external function
/// @audit public function `withdrawFromPenpie` came earlier from this external function
/// @audit public function `swapYTForSY` came earlier from this external function
216:     function decreasePosition(IPMarket market, uint256 _amount, bool closePosition) external onlyManager nonReentrant {

/// @audit public function `depositIntoPenpie` came earlier from this external function
/// @audit public function `withdrawFromPenpie` came earlier from this external function
/// @audit public function `swapYTForSY` came earlier from this external function
241:     function claimRewards(IPMarket market) external onlyManager nonReentrant {

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L149), [183](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L183), [203](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L203), [216](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L216), [241](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L241)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit public function `createAccount` came earlier from this external function
/// @audit public function `deposit` came earlier from this external function
/// @audit public function `withdraw` came earlier from this external function
64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit public function `getData` came earlier from this external function
85:     function borrow(address siloToken, address bToken, uint256 amount) external onlyManager nonReentrant {

/// @audit public function `getData` came earlier from this external function
98:     function repay(address siloToken, address rToken, uint256 amount) external onlyManager nonReentrant {

```
*Github:* [[85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L85), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L98)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit internal function `_collectFees` came earlier from this public function
127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit internal function `_collectFees` came earlier from this public function
152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
153:     function updateTokenInRegistry(address token) public onlyManager {

/// @audit internal function `_updateTokenInRegistry` came earlier from this external function
/// @audit public function `updateTokenInRegistry` came earlier from this external function
/// @audit internal function `_updateTokenInRegistry` came earlier from this external function
169:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data)

/// @audit internal function `_updateTokenInRegistry` came earlier from this external function
/// @audit public function `updateTokenInRegistry` came earlier from this external function
/// @audit internal function `_updateTokenInRegistry` came earlier from this external function
204:     function swapHoldings(

/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
/// @audit internal function `_executeSwap` came earlier from this public function
232:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
/// @audit internal function `_executeSwap` came earlier from this public function
249:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
/// @audit internal function `_executeSwap` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
263:     function _getUnderlyingTokens(uint256, bytes memory) public view virtual returns (address[] memory) {

/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
/// @audit internal function `_updateTokenInRegistry` came earlier from this public function
/// @audit internal function `_executeSwap` came earlier from this public function
/// @audit internal function `_getValue` came earlier from this public function
/// @audit internal function `_addLiquidity` came earlier from this public function
271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

```
*Github:* [[153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L153), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L169), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L204), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L232), [249](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L249), [263](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L263), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit receive() was seen before constructor
29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

/// @audit internal function `_payNative` came earlier from this public function
51:     function setChainInfo(uint256 chainId, uint32 lzChainId, address lzHelperAddress) public onlyOwner {

/// @audit internal function `_payNative` came earlier from this public function
63:     function addVaultInfo(uint256 vaultId, uint256 baseChainId, address omniChainManager) public onlyOwner {

/// @audit internal function `_payNative` came earlier from this public function
75:     function updateTVL(uint256 vaultId, uint256 tvl, uint256 updateTime) public {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L51), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L63), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L75)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit public function `getTVL` came earlier from this external function
28:     function updateTVLInfo() external onlyManager {

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L28)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit public function `addRoutes` came earlier from this external function
158:     function setEnableRoute(uint256 _routeId, bool enable) external onlyMaintainerOrEmergency {

/// @audit public function `addRoutes` came earlier from this external function
164:     function verifyRoute(uint256 _routeId, address addr) external view onlyExistingRoute(_routeId) {

```
*Github:* [[158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L158), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L164)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit public function `verifySwapData` came earlier from this external function
133:     function performBridgeAction(address caller, BridgeRequest calldata _request)

/// @audit public function `verifySwapData` came earlier from this external function
/// @audit public function `verifyBridgeData` came earlier from this external function
/// @audit internal function `_forward` came earlier from this external function
/// @audit internal function `_setAllowance` came earlier from this external function
/// @audit internal function `_isNative` came earlier from this external function
193:     function rescueFunds(address token, address userAddress, uint256 amount) external onlyOwner {

```
*Github:* [[133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L133), [193](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L193)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit public function `updateDefaultPriceSource` came earlier from this external function
51:     function updateAssetPriceSource(address[] calldata asset, address[] calldata baseToken, address[] calldata oracle)

/// @audit public function `updateDefaultPriceSource` came earlier from this external function
61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {

```
*Github:* [[51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L51), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61)]


</details>


<a name="NC-36"></a> 
### [NC-36] Functions and modifiers should be named in mixedCase style
As the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.21/style-guide.html#function-names) suggests: functions and modifiers should be named in mixedCase style.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

627:     function TVL() public view returns (uint256) {

```
*Github:* [[627](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L627)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

279:     function LPToUnder(PoolInfo memory info, uint256 balance) public view returns (uint256, address) {

```
*Github:* [[279](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L279)]



<a name="NC-37"></a> 
### [NC-37] Functions with array parameters should have length checks in place

<details>
<summary>
There are <b>25</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `retrieveData`
548:     function retrieveTokensForWithdraw(RetrieveData[] calldata retrieveData) public onlyManager nonReentrant {

```
*Github:* [[548](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L548)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `_trustedTokens`
106:     function addVault(

/// @audit `_connectorAddresses`
/// @audit `_enableds`
188:     function addConnector(uint256 vaultId, address[] calldata _connectorAddresses, bool[] calldata _enableds)

/// @audit `_tokens`
207:     function updateConnectorTrustedTokens(

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106), [188](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L188), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L207)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `rewardsPools`
53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

/// @audit `amounts`
/// @audit `amountsWithoutBPT`
64:     function openPosition(

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L64)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `tokens`
/// @audit `amounts`
37:     function makeFlashLoan(IERC20[] memory tokens, uint256[] memory amounts, bytes memory userData)

/// @audit `tokens`
/// @audit `amounts`
/// @audit `feeAmounts`
54:     function receiveFlashLoan(

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L37), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L54)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `gauges`
221:     function harvestRewards(address[] calldata gauges) public onlyManager nonReentrant {

/// @audit `pools`
233:     function harvestPrismaRewards(address[] calldata pools) public onlyManager nonReentrant {

/// @audit `rewardsPools`
247:     function harvestConvexRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

```
*Github:* [[221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L221), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L233), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L247)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit `marketIds`
98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

```
*Github:* [[98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit `calls`
62:     function executeCommands(

```
*Github:* [[62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L62)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `tokenIds`
101:     function collectAllFees(uint256[] memory tokenIds) public onlyManager nonReentrant {

```
*Github:* [[101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L101)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit `_owners`
/// @audit `addOrRemove`
42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `tokens`
/// @audit `amounts`
122:     function transferPositionToAnotherConnector(

/// @audit `tokens`
/// @audit `amounts`
169:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data)

/// @audit `tokensIn`
/// @audit `tokensOut`
/// @audit `amountsIn`
/// @audit `swapData`
/// @audit `routeIds`
204:     function swapHoldings(

```
*Github:* [[122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L122), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L169), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L204)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `tokens`
/// @audit `amounts`
40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `_routes`
147:     function addRoutes(RouteData[] memory _routes) public onlyMaintainer {

```
*Github:* [[147](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L147)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit `baseCurrencies`
/// @audit `oracles`
37:     function updateDefaultPriceSource(address[] calldata baseCurrencies, INoyaValueOracle[] calldata oracles)

/// @audit `asset`
/// @audit `baseToken`
/// @audit `oracle`
51:     function updateAssetPriceSource(address[] calldata asset, address[] calldata baseToken, address[] calldata oracle)

/// @audit `s`
61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {

/// @audit `sources`
81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L51), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `assets`
/// @audit `baseTokens`
/// @audit `sources`
70:     function setAssetSources(address[] calldata assets, address[] calldata baseTokens, address[] calldata sources)

```
*Github:* [[70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L70)]


</details>


<a name="NC-38"></a> 
### [NC-38] Variable names for `immutable`s should use CONSTANT_CASE
For `immutable` variable names, each word should use all capital letters, with underscores separating each word (CONSTANT_CASE)

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/connectors/AaveConnector.sol

18:     address immutable pool;

22:     address immutable poolBaseToken;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L18), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L22)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

13:     IMorpho public immutable morphoBlue;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L13)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

16:     INonfungiblePositionManager public immutable positionManager;

17:     IUniswapV3Factory public immutable factory;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L17)]



<a name="NC-39"></a> 
### [NC-39] Import declarations should import specific identifiers, rather than the whole file
Using import declarations of the form `import {<identifier_name>} from "some/file.sol"` avoids polluting the symbol namespace making flattened files smaller, and speeds up compilation (but does not save any gas).

<details>
<summary>
There are <b>110</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

4: import "@openzeppelin/contracts-5.0/utils/ReentrancyGuard.sol";

6: import "../interface/Accounting/IAccountingManager.sol";

8: import "../helpers/TVLHelper.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L4), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L6), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L8)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

5: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L5)]


```solidity
File: ./contracts/accountingManager/Registry.sol

4: import "@openzeppelin/contracts-5.0/access/AccessControl.sol";

5: import "@openzeppelin/contracts-5.0/utils/ReentrancyGuard.sol";

6: import "../interface/IPositionRegistry.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L6)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

4: import "../helpers/BaseConnector.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L4)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/Aerodrome/IPool.sol";

6: import "../external/interfaces/Aerodrome/IRouter.sol";

7: import "../external/interfaces/Aerodrome/IVoter.sol";

8: import "../external/interfaces/Aerodrome/IGauge.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L8)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/Balancer/IBalancerVault.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L5)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

8: import "@openzeppelin/contracts-5.0/utils/ReentrancyGuard.sol";

10: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L8), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L10)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

4: import "@openzeppelin/contracts-5.0/token/ERC20/IERC20.sol";

6: import "../helpers/BaseConnector.sol";

7: import "../external/interfaces/Camelot/ICamelotRouter.sol";

8: import "../external/interfaces/Camelot/ICamelotFactory.sol";

9: import "../external/interfaces/Camelot/ICamelotPair.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L4), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L8), [9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L9)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

4: import "../helpers/BaseConnector.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L4)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/Curve/IRewardsGauge.sol";

6: import "../external/interfaces/Convex/IConvexBasicRewards.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L6)]


```solidity
File: ./contracts/connectors/Dolomite.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/Dolomite/IDepositWithdrawalProxy.sol";

6: import "../external/interfaces/Dolomite/IBorrowPositionProxyV1.sol";

7: import "../external/interfaces/Dolomite/IDolomiteMargin.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L7)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/Frax/IFraxPair.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L5)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/Gearbox/ICreditManagerV3.sol";

6: import "../external/interfaces/Gearbox/ICreditFacadeV3.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L6)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

4: import "../external/interfaces/Lido/ILidoWithdrawal.sol";

5: import "../helpers/BaseConnector.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L5)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

4: import "@openzeppelin/contracts-5.0/token/ERC20/IERC20.sol";

5: import "../external/interfaces/Maverick/IMaverickRouter.sol";

7: import "../helpers/BaseConnector.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L5), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/Morpho/IMorpho.sol";

6: import "../external/libraries/Morpho/SharesMathLib.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L6)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

4: import "./UNIv3Connector.sol";

5: import "../external/interfaces/Pancakeswap/IMasterChefV3.sol";

6: import "@openzeppelin/contracts-5.0/token/ERC721/IERC721.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L6)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/libraries/Pendle/PendleLpOracleLib.sol";

8: import "../external/interfaces/Pendle/IPendleRouter.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L5), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

9: import "../helpers/BaseConnector.sol";

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L9)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/SNXV3/IV3CoreProxy.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L5)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/Silo/ISilo.sol";

6: import "../external/libraries/Silo/SolvencyV2.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L6)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

4: import "../helpers/BaseConnector.sol";

5: import "../external/interfaces/Stargate/IStargateRouter.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L5)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

4: import "../external/interfaces/UNIv3/INonfungiblePositionManager.sol";

5: import "../external/interfaces/UNIv3/IUniswapV3Factory.sol";

6: import "../helpers/BaseConnector.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L6)]


```solidity
File: ./contracts/governance/Keepers.sol

4: import "@openzeppelin/contracts-5.0/utils/cryptography/EIP712.sol";

5: import "@openzeppelin/contracts-5.0/access/Ownable2Step.sol";

6: import "@openzeppelin/contracts-5.0/utils/cryptography/ECDSA.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L6)]


```solidity
File: ./contracts/governance/TimeLock.sol

4: import "@openzeppelin/contracts-5.0/governance/TimelockController.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L4)]


```solidity
File: ./contracts/governance/Watchers.sol

4: import "./Keepers.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L4)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

4: import "../interface/IConnector.sol";

7: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

8: import "@openzeppelin/contracts-5.0/token/ERC721/utils/ERC721Holder.sol";

10: import "../interface/valueOracle/INoyaValueOracle.sol";

11: import "../governance/Watchers.sol";

12: import "@openzeppelin/contracts-5.0/token/ERC721/IERC721Receiver.sol";

13: import "@openzeppelin/contracts-5.0/utils/ReentrancyGuard.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L4), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L8), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L13)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

4: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L4)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

4: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

5: import "../OmniChainHandler/OmnichainManagerBaseChain.sol";

6: import "@layerzerolabs/lz-evm-oapp-v2/contracts/oapp/OApp.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L6)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

4: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

5: import "../OmniChainHandler/OmnichainManagerNormalChain.sol";

6: import "../OmniChainHandler/OmnichainManagerBaseChain.sol";

7: import "@layerzerolabs/lz-evm-oapp-v2/contracts/oapp/OApp.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L7)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

4: import "../../helpers/SwapHandler/GenericSwapAndBridgeHandler.sol";

5: import "../BaseConnector.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L5)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

4: import "./OmnichainLogic.sol";

5: import "../../interface/IConnector.sol";

6: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L6)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

4: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

6: import "./OmnichainLogic.sol";

7: import "../TVLHelper.sol";

8: import "../LZHelpers/LZHelperSender.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L4), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L8)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

4: import "../../interface/valueOracle/INoyaValueOracle.sol";

5: import "../../governance/NoyaGovernanceBase.sol";

6: import "../../interface/SwapHandler/ISwapAndBridgeHandler.sol";

8: import "@openzeppelin/contracts-5.0/utils/ReentrancyGuard.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L6), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L8)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

4: import "@openzeppelin/contracts-5.0/access/Ownable2Step.sol";

6: import "../../../interface/SwapHandler/ISwapAndBridgeHandler.sol";

7: import "../../../interface/ITokenTransferCallBack.sol";

8: import "@openzeppelin/contracts-5.0/utils/ReentrancyGuard.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L4), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L8)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

4: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

5: import "../../interface/valueOracle/INoyaValueOracle.sol";

6: import "../../accountingManager/Registry.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L6)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

4: import "../../../interface/valueOracle/INoyaValueOracle.sol";

5: import "../../../interface/valueOracle/AggregatorV3Interface.sol";

6: import "../../../accountingManager/Registry.sol";

7: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

8: import "@openzeppelin/contracts-5.0/token/ERC20/extensions/IERC20Metadata.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L8)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

4: import "@uniswap/v3-core/contracts/interfaces/IUniswapV3Factory.sol";

5: import "../../../external/libraries/uniswap/OracleLibrary.sol";

6: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

7: import "../../../interface/valueOracle/INoyaValueOracle.sol";

8: import "../../../accountingManager/Registry.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L8)]


</details>


<a name="NC-40"></a> 
### [NC-40] Imports could be organized more systematically
The contract's interface should be imported first, followed by each of the interfaces it uses, followed by all other files. The examples below do not follow this layout.

<details>
<summary>
There are <b>34</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

6: import "../interface/Accounting/IAccountingManager.sol";

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L6)]


```solidity
File: ./contracts/accountingManager/Registry.sol

6: import "../interface/IPositionRegistry.sol";

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L6)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

5: import "../external/interfaces/Aerodrome/IPool.sol";

6: import "../external/interfaces/Aerodrome/IRouter.sol";

7: import "../external/interfaces/Aerodrome/IVoter.sol";

8: import "../external/interfaces/Aerodrome/IGauge.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L8)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

5: import "../external/interfaces/Balancer/IBalancerVault.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L5)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

7: import "../external/interfaces/Camelot/ICamelotRouter.sol";

8: import "../external/interfaces/Camelot/ICamelotFactory.sol";

9: import "../external/interfaces/Camelot/ICamelotPair.sol";

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L8), [9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L9)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

5: import "../external/interfaces/Curve/IRewardsGauge.sol";

6: import "../external/interfaces/Convex/IConvexBasicRewards.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L6)]


```solidity
File: ./contracts/connectors/Dolomite.sol

5: import "../external/interfaces/Dolomite/IDepositWithdrawalProxy.sol";

6: import "../external/interfaces/Dolomite/IBorrowPositionProxyV1.sol";

7: import "../external/interfaces/Dolomite/IDolomiteMargin.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L7)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

5: import "../external/interfaces/Frax/IFraxPair.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L5)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

5: import "../external/interfaces/Gearbox/ICreditManagerV3.sol";

6: import "../external/interfaces/Gearbox/ICreditFacadeV3.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L6)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

5: import "../external/interfaces/Morpho/IMorpho.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L5)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

5: import "../external/interfaces/Pancakeswap/IMasterChefV3.sol";

6: import "@openzeppelin/contracts-5.0/token/ERC721/IERC721.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L5), [6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L6)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

8: import "../external/interfaces/Pendle/IPendleRouter.sol";

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L8)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

5: import "../external/interfaces/SNXV3/IV3CoreProxy.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L5)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

5: import "../external/interfaces/Silo/ISilo.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L5)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

5: import "../external/interfaces/Stargate/IStargateRouter.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L5)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

10: import "../interface/valueOracle/INoyaValueOracle.sol";

12: import "@openzeppelin/contracts-5.0/token/ERC721/IERC721Receiver.sol";

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L10), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L12)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

5: import "../../interface/IConnector.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L5)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

6: import "../../interface/SwapHandler/ISwapAndBridgeHandler.sol";

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L6)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

6: import "../../../interface/SwapHandler/ISwapAndBridgeHandler.sol";

7: import "../../../interface/ITokenTransferCallBack.sol";

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L7)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

5: import "../../interface/valueOracle/INoyaValueOracle.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L5)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

8: import "@openzeppelin/contracts-5.0/token/ERC20/extensions/IERC20Metadata.sol";

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L8)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

7: import "../../../interface/valueOracle/INoyaValueOracle.sol";

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L7)]


</details>


<a name="NC-41"></a> 
### [NC-41] Inconsistent spacing in comments
Some lines use `// x` and some use `//x`. The instances below point out the usages that don't follow the majority, within each file

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

157:     ///@notice disables the route  if required.

```
*Github:* [[157](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L157)]



<a name="NC-42"></a> 
### [NC-42] Incorrect withdraw declaration
In Solidity, it's essential for clarity and interoperability to correctly specify return types in function declarations. If the `withdraw` function is expected to return a `bool` to indicate success or failure, its omission could lead to ambiguity or unexpected behavior when interacting with or calling this function from other contracts or off-chain systems. Missing return values can mislead developers and potentially lead to contract integrations built on incorrect assumptions. To resolve this, the function declaration for withdraw should be modified to explicitly include the `bool` return type, ensuring clarity and correctness in contract interactions.

<details>
<summary>
There are <b>17</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

304:     function withdraw(uint256 share, address receiver) public nonReentrant whenNotPaused {

```
*Github:* [[304](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L304)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

23:     function withdrawShares(uint256 amount) external onlyOwner {

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L23)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

100:     function withdrawCollateral(uint256 _collateralAmount, address _collateral) external onlyManager nonReentrant {

```
*Github:* [[100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L100)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

79:     function withdraw(WithdrawData memory data) public onlyManager nonReentrant {

```
*Github:* [[79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L79)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

48:     function withdrawOrBorrow(address _market, address asset, uint256 amount) external onlyManager nonReentrant {

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L48)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

182:     function withdrawFromConvexBooster(uint256 pid, uint256 amount) public onlyManager {

192:     function withdrawFromConvexRewardPool(address pool, uint256 amount) public onlyManager {

202:     function withdrawFromGauge(address pool, uint256 amount) public onlyManager {

212:     function withdrawFromPrisma(address depostiToken, uint256 amount) public onlyManager {

```
*Github:* [[182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L182), [192](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L192), [202](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L202), [212](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L212)]


```solidity
File: ./contracts/connectors/Dolomite.sol

43:     function withdraw(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L43)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

68:     function withdraw(IFraxPair pool, uint256 withdrawAmount) public onlyManager nonReentrant {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L68)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

58:     function withdraw(uint256 amount, Id id, bool sOrC) external onlyManager nonReentrant {

```
*Github:* [[58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L58)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

50:     function withdraw(uint256 tokenId) public onlyManager nonReentrant {

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L50)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

137:     function withdrawFromPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

```
*Github:* [[137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L137)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

46:     function withdraw(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L46)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

52:     function withdraw(address siloToken, address wToken, uint256 amount, bool oC, bool closePosition)
            external
            onlyManager
            nonReentrant
        {

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L52)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

76:     function withdrawFromStargatePool(StargateRequest calldata withdrawRequest) external onlyManager nonReentrant {

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L76)]


</details>


<a name="NC-43"></a> 
### [NC-43] Invalid NatSpec comment style
NatSpec must begin with `///` or use `/* ... */` syntax

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

265:     // @dev This function is used to remove trusted positions from a vault

```
*Github:* [[265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L265)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

134:     // @dev the following functions are used to manage holding tokens in the registry

```
*Github:* [[134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L134)]



<a name="NC-44"></a> 
### [NC-44] It is best practice to use linear inheritance
In Solidity, complex inheritance structures can obfuscate code understanding, introducing potential security risks. Multiple inheritance, especially with overlapping function names or state variables, can cause unintentional overrides or ambiguous behavior. 

Resolution: Strive for linear and simple inheritance chains. Avoid diamond or circular inheritance patterns. Clearly document the purpose and relationships of base contracts, ensuring that overrides are intentional. Tools like Remix or Hardhat can visualize inheritance chains, assisting in verification. Keeping inheritance streamlined aids in better code readability, reduces potential errors, and ensures smoother audits and upgrades.

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16)]


```solidity
File: ./contracts/accountingManager/Registry.sol

12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

12: contract UNIv3Connector is BaseConnector, ERC721Holder {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12)]


```solidity
File: ./contracts/governance/Keepers.sol

9: contract Keepers is EIP712, Ownable2Step {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10)]


</details>


<a name="NC-45"></a> 
### [NC-45] Large or complicated code bases should implement invariant tests
This includes: large code bases, or code with lots of inline-assembly, complicated math, or complicated interactions between multiple contracts. Invariant fuzzers such as Echidna require the test writer to come up with invariants which should not be violated under any circumstances, and the fuzzer tests various inputs and function calls to ensure that the invariants always hold. Even code with 100% code coverage can still have bugs due to the order of the operations a user performs, and invariant fuzzers may help significantly.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/)]



<a name="NC-46"></a> 
### [NC-46] Large multiples of ten should use scientific notation
Use a scientific notation rather than decimal literals (e.g. `1e6` instead of `1000000`), for better code readability.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

87:     uint256 public depositLimitTotalAmount = 1e6 * 200_000;

```
*Github:* [[87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L87)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

16:     uint256 public genericSlippageTolerance = 50_000; // 5% slippage tolerance

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L16)]



<a name="NC-47"></a> 
### [NC-47] Large numeric literals should use underscores for readability
Large hardcoded numbers in code can be difficult to read. Consider using underscores for number literals to improve readability (e.g `1234567` -> `1_234_567`). Consider using an underscore for every third digit from the right.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

89:     uint256 public depositLimitPerTransaction = 1e6 * 2000;

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L89)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

19:     uint32 public period = 1800;

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L19)]



<a name="NC-48"></a> 
### [NC-48] Magic numbers should be replaced with constants
Magic numbers are hard-coded values in code that can make it difficult for developers and maintainers to understand the code, and can also cause confusion or errors. To improve the readability and maintainability of code, it is recommended to replace magic numbers with constants that have good readability.

<details>
<summary>
There are <b>51</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

// @audit `1e18`
243:                 middleTemp, data.receiver, block.timestamp, shares, data.amount, shares * 1e18 / data.amount

// @audit `1e18`
275:                 firstTemp, data.receiver, block.timestamp, data.shares, data.amount, data.shares * 1e18 / data.amount

// @audit `10`
510:         if (timePassed > 10 days) {

// @audit `10`
511:             timePassed = 10 days;

// @audit `365`
518:             (timePassed * managementFee * (totalShares - currentFeeShares)) / FEE_PRECISION / 365 days;

// @audit `12`
528:             preformanceFeeSharesWaitingForDistribution == 0 || block.timestamp - profitStoredTime < 12 hours

// @audit `48`
529:                 || block.timestamp - profitStoredTime > 48 hours

```
*Github:* [[243](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L243), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L275), [510](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L510), [511](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L511), [518](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L518), [528](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L528), [529](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L529)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

// @audit `1e7`
106:         if (totalCollateralBase <= DUST_LEVEL * 1e7) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L106)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

// @audit `2`
118:         address[] memory tokens = new address[](2);

```
*Github:* [[118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L118)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

// @audit `1e18`
172:         return (((1e18 * token1bal * lpBalance) / _weight) / _totalSupply);

```
*Github:* [[172](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L172)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

// @audit `2`
101:         address[] memory tokens = new address[](2);

```
*Github:* [[101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L101)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

// @audit `1e18`
78:         return getCollBlanace(comet, true) * 1e18 / borrowBalanceInBase;

// @audit `1e18`
119:                 if (riskAdjusted) CollValue += collateralValueInVirtualBase * info.liquidateCollateralFactor / 1e18;

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L78), [119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L119)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

// @audit `2`
126:         address poolAddress = (poolInfo.tokens.length > 2 && poolInfo.zap != address(0)) ? poolInfo.zap : pool;

// @audit `2`
128:         if (poolInfo.tokens.length == 2) {

// @audit `2`
129:             uint256[2] memory amounts;

// @audit `3`
132:         } else if (poolInfo.tokens.length == 3) {

// @audit `3`
133:             uint256[3] memory amounts;

// @audit `4`
136:         } else if (poolInfo.tokens.length == 4) {

// @audit `4`
137:             uint256[4] memory amounts;

// @audit `5`
140:         } else if (poolInfo.tokens.length == 5) {

// @audit `5`
141:             uint256[5] memory amounts;

// @audit `6`
144:         } else if (poolInfo.tokens.length == 6) {

// @audit `6`
145:             uint256[6] memory amounts;

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L126), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L128), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L129), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L132), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L133), [136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L136), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L137), [140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L140), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L141), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L144), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L145)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

// @audit `1e18`
136:         uint256 currentHF = (fraxlendPairMaxLTV * 1e18) / currentPositionLTV;

// @audit `2`
143:         address[] memory tokens = new address[](2);

```
*Github:* [[136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L136), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L143)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

// @audit `4`
71:             bytes4 method = bytes4(calls[i].callData[:4]);

// @audit `4`
74:                 (address token) = abi.decode(calls[i].callData[4:], (address));

// @audit `840`
103:         return _getValue(address(840), base, (d.totalValueUSD - d.totalDebtUSD));

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L71), [74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L74), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L103)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

// @audit `2`
163:         address[] memory tokens = new address[](2);

```
*Github:* [[163](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L163)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

// @audit `2`
144:         address[] memory tokens = new address[](2);

```
*Github:* [[144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L144)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

// @audit `10`
271:                 SYAmount += lpBalance * IPMarket(market).getLpToAssetRate(10) / 1e18;

// @audit `1e18`
271:                 SYAmount += lpBalance * IPMarket(market).getLpToAssetRate(10) / 1e18;

// @audit `10`
275:             if (PTAmount > 0) SYAmount += PTAmount * IPMarket(market).getPtToAssetRate(10) / 1e18;

// @audit `1e18`
275:             if (PTAmount > 0) SYAmount += PTAmount * IPMarket(market).getPtToAssetRate(10) / 1e18;

// @audit `1e18`
280:             if (SYAmount > 0) underlyingBalance += SYAmount * _SY.exchangeRate() / 1e18;

```
*Github:* [[271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L271), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L271), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L275), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L275), [280](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L280)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

// @audit `2`
169:         address[] memory tokens = new address[](2);

```
*Github:* [[169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L169)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

// @audit `5e17`
21:         MINIMUM_HEALTH_FACTOR = 5e17;

// @audit `1e18`
123:             uint256 price = _getValue(assets[i], base, 1e18);

// @audit `1e18`
124:             totalDepositAmount += depositAmount * price / 1e18;

// @audit `1e18`
125:             totalBAmount += borrowAmount * price / 1e18;

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L21), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L123), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L125)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

// @audit `2`
153:         address[] memory tokens = new address[](2);

```
*Github:* [[153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L153)]


```solidity
File: ./contracts/governance/Keepers.sol

// @audit `10`
28:         require(_owners.length <= 10 && _threshold <= _owners.length && _threshold > 1);

// @audit `10`
53:         require(numOwnersTemp <= 10 && threshold <= numOwnersTemp && threshold > 1);

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L28), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L53)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

// @audit `1e6`
112:             _swapRequest.minAmount = (((1e6 - _slippageTolerance) * _outputTokenValue) / 1e6);

// @audit `1e6`
112:             _swapRequest.minAmount = (((1e6 - _slippageTolerance) * _outputTokenValue) / 1e6);

```
*Github:* [[112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L112), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L112)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

// @audit `4`
111:         bytes4 selector = bytes4(_request.data[:4]);

```
*Github:* [[111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L111)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

// @audit `10`
57:         if (_chainlinkPriceAgeThreshold <= 1 hours || _chainlinkPriceAgeThreshold >= 10 days) {

// @audit `10`
140:         return 10 ** decimals;

```
*Github:* [[57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L57), [140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L140)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

// @audit `2`
69:         uint32[] memory secondsAgos = new uint32[](2);

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L69)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

// @audit `1e18`
10:         return (0, 1e18, 0, block.timestamp, 0);

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L10)]


</details>


<a name="NC-49"></a> 
### [NC-49] Missing contract existence checks before low-level calls
Low-level calls return success if there is no code present at the specified address. In addition to the zero-address checks, add a check to verify that `<address>.code.length > 0`

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

685:             (bool success,) = payable(msg.sender).call{ value: amount }("");

```
*Github:* [[685](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L685)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

81:                 (bool success,) = destinationConnector[i].call{ value: 0, gas: gas[i] }(callingData[i]);

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L81)]


```solidity
File: ./contracts/governance/Keepers.sol

116:         (bool success,) = destination.call{ gas: gasLimit }(data);

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L116)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

176:         (bool success, bytes memory err) = lifi.call{ value: msg.value }(data);

195:             (bool success,) = payable(userAddress).call{ value: amount }("");

```
*Github:* [[176](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L176), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L195)]



<a name="NC-50"></a> 
### [NC-50] Missing disallow list for `ERC721`
Recently, there has been an increase in the theft of NFTs. These stolen NFTs are then added to platforms where they can be easily converted into liquidity.

Some popular marketplaces(e.g. Opensea), have already taken steps to combat this problem by introducing a disallow list feature. This means that if an NFT is reported as stolen, it won't be listed or sold on their platform. This may increase the centralization of the project, but it can help solve this problem if it is a concern.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

12: contract UNIv3Connector is BaseConnector, ERC721Holder {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12)]



<a name="NC-51"></a> 
### [NC-51] Consider moving `msg.sender` checks to `modifier`s
If some functions are only allowed to be called by some specific users, consider using a modifier instead of checking with a require statement, especially if this check is done in multiple functions.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

61:         require(msg.sender == address(vault));

```
*Github:* [[61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L61)]


```solidity
File: ./contracts/governance/Keepers.sol

94:         require(isOwner[msg.sender], "Not an owner");

97:         require(executor == msg.sender, "Invalid executor");

```
*Github:* [[94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L94), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L97)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

25:         require(isEligibleToUse[msg.sender], "NoyaSwapHandler: Not eligible to use");

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L25)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

35:         require(isHandler[msg.sender] == true, "LifiImplementation: INVALID_SENDER");

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L35)]



<a name="NC-52"></a> 
### [NC-52] Named mappings are recommended
[Named mappings](https://docs.soliditylang.org/en/v0.8.18/types.html#mapping-types) (with syntax `mapping(KeyType KeyName? => ValueType ValueName?)`) are recommended.It can make the mapping variables clearer, more readable and easier to maintain.

<details>
<summary>
There are <b>19</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

27:     mapping(address => uint256) public withdrawRequestsByAddress;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L27)]


```solidity
File: ./contracts/accountingManager/Registry.sol

26:     mapping(uint256 => Vault) public vaults;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L26)]


```solidity
File: ./contracts/governance/Keepers.sol

10:     mapping(address => bool) public isOwner;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L10)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

19:     mapping(uint32 => ChainInfo) public chainInfo; // chainId => ChainInfo

20:     mapping(uint256 => VaultInfo) public vaultIdToVaultInfo; // vaultId => VaultInfo

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L20)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

20:     mapping(uint256 => ChainInfo) public chainInfo; // chainId => ChainInfo

21:     mapping(uint256 => VaultInfo) public vaultIdToVaultInfo; // vaultId => VaultInfo

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L21)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

21:     mapping(uint256 => address) public destChainAddress;

22:     mapping(bytes32 => uint256) public approvedBridgeTXN;

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L22)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

13:     mapping(address => bool) public isEligibleToUse;

15:     mapping(address => mapping(address => uint256)) public slippageTolerance;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L13), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L15)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

13:     mapping(address => bool) public isHandler;

14:     mapping(string => bool) public isBridgeWhiteListed;

15:     mapping(uint256 => bool) public isChainSupported;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L15)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

13:     mapping(address => INoyaValueOracle) public defaultPriceSource;

14:     mapping(address => mapping(address => address[])) public priceRoutes;

16:     mapping(address => mapping(address => INoyaValueOracle)) public priceSource;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L14), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L16)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

20:     mapping(address => mapping(address => address)) private assetsSources;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L20)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

14:     mapping(address => mapping(address => address)) public assetToBaseToPool;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L14)]


</details>


<a name="NC-53"></a> 
### [NC-53] Named imports of parent contracts are missing

<details>
<summary>
There are <b>37</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `IAccountingManager`
/// @audit `ReentrancyGuard`
/// @audit `Pausable`
16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

/// @audit `Ownable`
7: contract NoyaFeeReceiver is Ownable {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `AccessControl`
/// @audit `IPositionRegistry`
/// @audit `ReentrancyGuard`
12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `BaseConnector`
11: contract AaveConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit `BaseConnector`
27: contract AerodromeConnector is BaseConnector {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `BaseConnector`
26: contract BalancerConnector is BaseConnector {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `ReentrancyGuard`
12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit `BaseConnector`
30: contract CamelotConnector is BaseConnector {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `BaseConnector`
7: contract CompoundConnector is BaseConnector {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `BaseConnector`
24: contract CurveConnector is BaseConnector {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit `BaseConnector`
9: contract DolomiteConnector is BaseConnector {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `BaseConnector`
18: contract FraxConnector is BaseConnector {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit `BaseConnector`
8: contract Gearboxv3 is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `BaseConnector`
/// @audit `ERC721Holder`
7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `BaseConnector`
/// @audit `IERC721Receiver`
29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit `BaseConnector`
8: contract MorphoBlueConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

/// @audit `UNIv3Connector`
8: contract PancakeswapConnector is UNIv3Connector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit `BaseConnector`
12: contract PendleConnector is BaseConnector {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit `BaseConnector`
11: contract PrismaConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit `BaseConnector`
/// @audit `IERC721Receiver`
7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `BaseConnector`
8: contract SiloConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit `BaseConnector`
19: contract StargateConnector is BaseConnector {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `BaseConnector`
/// @audit `ERC721Holder`
12: contract UNIv3Connector is BaseConnector, ERC721Holder {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit `EIP712`
/// @audit `Ownable2Step`
9: contract Keepers is EIP712, Ownable2Step {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9)]


```solidity
File: ./contracts/governance/TimeLock.sol

/// @audit `TimelockController`
6: contract NoyaTimeLock is TimelockController {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6)]


```solidity
File: ./contracts/governance/Watchers.sol

/// @audit `Keepers`
6: contract Watchers is Keepers {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `IConnector`
/// @audit `ReentrancyGuard`
22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

/// @audit `OAppReceiver`
18: contract LZHelperReceiver is OAppReceiver {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit `OAppSender`
19: contract LZHelperSender is OAppSender {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

/// @audit `BaseConnector`
14: abstract contract OmnichainLogic is BaseConnector {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L14)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

/// @audit `OmnichainLogic`
8: contract OmnichainManagerBaseChain is OmnichainLogic {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit `OmnichainLogic`
10: contract OmnichainManagerNormalChain is OmnichainLogic {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `NoyaGovernanceBase`
/// @audit `ISwapAndBridgeHandler`
/// @audit `ReentrancyGuard`
10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `ISwapAndBridgeImplementation`
/// @audit `Ownable2Step`
/// @audit `ReentrancyGuard`
10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit `INoyaValueOracle`
10: contract NoyaValueOracle is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `INoyaValueOracle`
10: contract ChainlinkOracleConnector is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `INoyaValueOracle`
12: contract UniswapValueOracle is INoyaValueOracle {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L12)]


</details>


<a name="NC-54"></a> 
### [NC-54] Missing NatSpec from contract/error/event/function/modifier declarations
e.g. `@dev` or `@notice`, and it must appear above the contract definition braces in order to be identified by the compiler as NatSpec.

<details>
<summary>
There are <b>307</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

94:     constructor(AccountingManagerConstructorParams memory p)
            ERC4626(IERC20(p._baseTokenAddress))
            ERC20(p._name, p._symbol)
            NoyaGovernanceBase(PositionRegistry(p._registry), p._vaultId)
        {

200:     function deposit(address receiver, uint256 amount, address referrer) public nonReentrant whenNotPaused {

226:     function calculateDepositShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

543:     function burnShares(uint256 amount) public {

627:     function TVL() public view returns (uint256) {

632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

642:     function _getValue(address token, address base, uint256 amount) internal view returns (uint256) {

649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

659:     function emergencyStop() public whenNotPaused onlyEmergency {

663:     function unpause() public whenPaused onlyEmergency {

667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {

673:     function changeDepositWaitingTime(uint256 _depositWaitingTime) public onlyMaintainer {

678:     function changeWithdrawWaitingTime(uint256 _withdrawWaitingTime) public onlyMaintainer {

683:     function rescue(address token, uint256 amount) public onlyEmergency nonReentrant {

693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L94), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L200), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L226), [543](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L543), [627](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L627), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [642](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L642), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649), [659](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L659), [663](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L663), [667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667), [673](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L673), [678](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L678), [683](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L683), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

12:     event ManagementFeeReceived(address indexed token, uint256 amount);

14:     constructor(address _accountingManager, address _baseToken, address _receiver) Ownable(msg.sender) {

23:     function withdrawShares(uint256 amount) external onlyOwner {

27:     function burnShares(uint256 amount) external onlyOwner {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L12), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L14), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L23), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L27)]


```solidity
File: ./contracts/accountingManager/Registry.sol

32:     modifier onlyVaultMaintainer(uint256 _vaultId) {

39:     modifier onlyVaultMaintainerWithoutTimeLock(uint256 _vaultId) {

46:     modifier onlyVaultGoverner(uint256 _vaultId) {

53:     modifier vaultExists(uint256 _vaultId) {

79:     function setMaxNumHoldingPositions(uint256 _maxNumHoldingPositions) external onlyRole(MAINTAINER_ROLE) {

84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {

106:     function addVault(
             uint256 vaultId,
             address _accountingManager,
             address _baseToken,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency,
             address[] calldata _trustedTokens
         ) external onlyRole(MAINTAINER_ROLE) {

158:     function changeVaultAddresses(
             uint256 vaultId,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency
         ) external onlyVaultGoverner(vaultId) vaultExists(vaultId) {

188:     function addConnector(uint256 vaultId, address[] calldata _connectorAddresses, bool[] calldata _enableds)
             external
             onlyVaultMaintainer(vaultId)
             vaultExists(vaultId)
         {

207:     function updateConnectorTrustedTokens(
             uint256 vaultId,
             address _connectorAddress,
             address[] calldata _tokens,
             bool trusted
         ) external onlyVaultMaintainer(vaultId) vaultExists(vaultId) {

224:     function getPositionBP(uint256 vaultId, bytes32 _positionId) public view returns (PositionBP memory) {

238:     function addTrustedPosition(
             uint256 vaultId,
             uint256 _positionTypeId,
             address calculatorConnector,
             bool onlyOwner,
             bool _isDebt,
             bytes calldata _data,
             bytes calldata _additionalData
         ) external onlyVaultMaintainerWithoutTimeLock(vaultId) vaultExists(vaultId) nonReentrant {

266:     function removeTrustedPosition(uint256 vaultId, bytes32 _positionId)
             external
             onlyVaultMaintainer(vaultId)
             vaultExists(vaultId)
         {

293:     function updateHoldingPosition(
             Vault storage vault,
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata d,
             bytes calldata AD,
             uint256 index,
             bytes32 holdingPositionId
         ) internal returns (uint256) {

335:     function updateHoldingPosition(
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata _data,
             bytes calldata additionalData,
             bool removePosition
         ) public vaultExists(vaultId) returns (uint256) {

394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)
             public
             view
             returns (uint256)
         {

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L32), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L39), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L46), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L53), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L158), [188](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L188), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L207), [224](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L224), [238](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L238), [266](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L266), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L335), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

11: contract AaveConnector is BaseConnector {

26:     event Supply(address supplyToken, uint256 amount);

27:     event Borrow(address borrowToken, uint256 amount);

28:     event Repay(address repayToken, uint256 amount, uint256 i);

29:     event RepayWithCollateral(address repayToken, uint256 amount, uint256 i);

30:     event WithdrawCollateral(address collateral, uint256 amount);

33:     constructor(address _pool, address _poolBaseToken, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

88:     function repayWithCollateral(uint256 _amount, uint256 i, address _borrowAsset) external onlyManager {

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L26), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L30), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L33), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L88), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

27: contract AerodromeConnector is BaseConnector {

36:     event Supply(address pool, uint256 amount0, uint256 amount1);

37:     event Withdraw(address pool, uint256 amountLiquidity);

40:     constructor(address _router, address _voter, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

100:     function stake(address pool, uint256 liquidity) public onlyManager nonReentrant {

106:     function unstake(address pool, uint256 liquidity) public onlyManager nonReentrant {

111:     function claim(address pool) public onlyManager nonReentrant {

117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L37), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L40), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L100), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L106), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L111), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

26: contract BalancerConnector is BaseConnector {

34:     event OpenPosition(

37:     event DecreasePosition(DecreasePositionParams p);

42:     constructor(address _balancerVault, address bal, address aura, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

64:     function openPosition(
            bytes32 poolId,
            uint256[] memory amounts,
            uint256[] memory amountsWithoutBPT,
            uint256 minBPT,
            uint256 auraAmount
        ) public onlyManager nonReentrant {

109:     function depositIntoAuraBooster(bytes32 poolId, uint256 _amount) public onlyManager nonReentrant {

115:     function decreasePosition(DecreasePositionParams memory p) public onlyManager nonReentrant {

162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

175:     function totalLpBalanceOf(PoolInfo memory pool) public view returns (uint256) {

184:     function totalLpBalanceOf(bytes32 poolId) public view returns (uint256) {

189:     function _getPoolInfo(bytes32 pooId) internal view returns (PoolInfo memory, bytes32) {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L34), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L37), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L42), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L64), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L109), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L115), [162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162), [175](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L175), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L184), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L189)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

19:     error Unauthorized(address sender);

21:     event MakeFlashLoan(IERC20[] tokens, uint256[] amounts);

22:     event ReceiveFlashLoan(IERC20[] tokens, uint256[] amounts, uint256[] feeAmounts, bytes userData);

24:     constructor(address _balancerVault, PositionRegistry _registry) {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L19), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L24)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

30: contract CamelotConnector is BaseConnector {

36:     constructor(address _router, address _factory, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

43:     function addLiquidityInCamelotPool(CamelotAddLiquidityParams calldata p) external onlyManager nonReentrant {

65:     function removeLiquidityFromCamelotPool(CamelotRemoveLiquidityParams calldata p)
            external
            onlyManager
            nonReentrant
        {

88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L36), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L43), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L65), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

7: contract CompoundConnector is BaseConnector {

10:     event Supply(address market, address asset, uint256 amount);

11:     event WithdrawOrBorrow(address market, address asset, uint256 amount);

12:     event ClaimRewards(address rewardContract, address market);

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L12), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L17), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

24: contract CurveConnector is BaseConnector {

33:     event OpenCurvePosition(address pool, uint256 depositIndex, uint256 amount, uint256 minAmount);

34:     event DecreaseCurvePosition(address pool, uint256 withdrawIndex, uint256 amount, uint256 minAmount);

35:     event WithdrawFromConvexBooster(uint256 pid, uint256 amount);

36:     event WithdrawFromConvexRewardPool(address pool, uint256 amount);

37:     event WithdrawFromGauge(address pool, uint256 amount);

38:     event WithdrawFromPrisma(address depostiToken, uint256 amount);

39:     event HarvestRewards(address[] gauges);

40:     event HarvestPrismaRewards(address[] pools);

41:     event HarvestConvexRewards(address[] rewardsPools);

45:     constructor(
            address _convexBooster,
            address cvx,
            address crv,
            address prisma,
            BaseConnectorCP memory baseConnectorParams
        ) BaseConnector(baseConnectorParams) {

258:     function _getPoolInfo(address pool) internal view returns (PoolInfo memory) {

265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L33), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L34), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L41), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L45), [258](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L258), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

9: contract DolomiteConnector is BaseConnector {

18:     constructor(
            address _depositWithdrawalProxy,
            address _dolomiteMargin,
            address _borrowPositionProxy,
            BaseConnectorCP memory baseConnectorParams
        ) BaseConnector(baseConnectorParams) {

30:     function deposit(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

43:     function withdraw(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

58:     function openBorrowPosition(uint256 marketId, uint256 _amountWei, uint256 accountId)
            public
            onlyManager
            nonReentrant
        {

77:     function transferBetweenAccounts(uint256 accountId, uint256 marketId, uint256 _amountWei, bool borrowOrRepay)
            public
            onlyManager
            nonReentrant
        {

98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L18), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L30), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L43), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L58), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L77), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

18: contract FraxConnector is BaseConnector {

24:     event BorrowAndSupply(address pool, uint256 borrowAmount, uint256 collateralAmount);

25:     event Withdraw(address pool, uint256 withdrawAmount);

26:     event Repay(address pool, uint256 sharesToRepay);

29:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L26), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L29), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

8: contract Gearboxv3 is BaseConnector {

11:     event OpenAccount(address facade, uint256 ref);

12:     event CloseAccount(address facade, address creditAccount);

13:     event ExecuteCommands(

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L13), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L17)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

15:     event Deposit(uint256 amountIn);

16:     event RequestWithdrawals(uint256 amount);

17:     event ClaimWithdrawal(uint256 requestId);

20:     constructor(address _lido, address _lidoW, address _steth, address w, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

37:     function deposit(uint256 amountIn) external onlyManager nonReentrant {

89:     receive() external payable { }

91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L17), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L20), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L37), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L89), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

37:     event Stake(uint256 amount, uint256 duration, bool doDelegation);

38:     event Unstake(uint256 lockupId);

39:     event AddLiquidityInMaverickPool(MavericAddLiquidityParams p);

40:     event RemoveLiquidityFromMaverickPool(MavericRemoveLiquidityParams p);

41:     event ClaimBoostedPositionRewards(IMaverickReward rewardContract);

43:     constructor(address _mav, address _veMav, address mr, address pi, BaseConnectorCP memory baseCP)
            BaseConnector(baseCP)
        {

56:     receive() external payable { }

64:     function stake(uint256 amount, uint256 duration, bool doDelegation) external onlyManager nonReentrant {

78:     function unstake(uint256 lockupId) external onlyManager nonReentrant {

91:     function addLiquidityInMaverickPool(MavericAddLiquidityParams calldata p) external onlyManager nonReentrant {

115:     function removeLiquidityFromMaverickPool(MavericRemoveLiquidityParams calldata p)
             external
             onlyManager
             nonReentrant
         {

137:     function claimBoostedPositionRewards(IMaverickReward rewardContract) external onlyManager nonReentrant {

149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L41), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L43), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L56), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L64), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L78), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L91), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L115), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L137), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

8: contract MorphoBlueConnector is BaseConnector {

17:     event Supply(uint256 amount, Id id, bool sOrC);

18:     event Withdraw(uint256 amount, Id id, bool sOrC);

19:     event Borrow(uint256 amount, Id id);

20:     event Repay(uint256 amount, Id id);

23:     constructor(address MB, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

137:     function convertCToL(uint256 amount, address marketOracle, address collateral) public view returns (uint256) {

141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L20), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L23), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L137), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

8: contract PancakeswapConnector is UNIv3Connector {

14:     event SendPositionToMasterChef(uint256 tokenId);

15:     event UpdatePosition(uint256 tokenId);

16:     event Withdraw(uint256 tokenId);

19:     constructor(address MC, address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)
            UNIv3Connector(_positionManager, _factory, baseConnectorParams)
        {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L16), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L19)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

12: contract PendleConnector is BaseConnector {

35:     event Supply(address market, uint256 amount);

36:     event MintPTAndYT(address market, uint256 syAmount);

37:     event DepositIntoMarket(address market, uint256 SYamount, uint256 PTamount);

38:     event DepositIntoPenpie(address market, uint256 amount);

39:     event WithdrawFromPenpie(address market, uint256 amount);

40:     event SwapYTForPT(address market, uint256 exactYTIn, uint256 min, ApproxParams guess);

41:     event SwapYTForSY(address market, uint256 exactYTIn, uint256 min, LimitOrderData orderData);

42:     event SwapExactPTForSY(address market, uint256 exactPTIn, bytes swapData, uint256 minSY);

43:     event BurnLP(address market, uint256 amount);

44:     event DecreasePosition(address market, uint256 amount, bool closePosition);

45:     event ClaimRewards(address market);

311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L41), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L42), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L43), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L44), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L45), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

11: contract PrismaConnector is BaseConnector {

16:     event OpenTrove(address zap, address tm, uint256 maxFee, uint256 dAmount, uint256 bAmount);

17:     event AddColl(address zap, address tm, uint256 amountIn);

18:     event AdjustTrove(address zap, address tm, uint256 mFee, uint256 wAmount, uint256 bAmount, bool isBorrowing);

19:     event CloseTrove(address zap, address troveManager);

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L19)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

20:     constructor(address _SNXCoreProxy, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

25:     function createAccount() public onlyManager {

30:     function deposit(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

46:     function withdraw(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

68:     function delegateIntoPreferredPool(
            uint128 _accountId,
            address collateralType,
            uint256 newCollateralAmountD18,
            uint256 leverage
        ) public onlyManager {

81:     function delegateIntoApprovedPool(
            uint256 poolIndex,
            uint128 _accountId,
            address collateralType,
            uint256 newCollateralAmountD18,
            uint256 leverage
        ) public onlyManager {

94:     function claimRewards(uint128 accountId, uint128 poolId, address collateralType, address distributor)
            public
            onlyManager
        {

102:     function mintOrBurnSUSD(
             uint256 _amount,
             uint128 _accountId,
             uint128 poolId,
             address collateralType,
             bool mintOrBurn
         ) public onlyManager {

121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L20), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L25), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L30), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L46), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L81), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L94), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L102), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

8: contract SiloConnector is BaseConnector {

12:     event Deposit(address siloToken, address dToken, uint256 amount, bool oC);

13:     event Withdraw(address siloToken, address wToken, uint256 amount, bool oC, bool closePosition);

14:     event Borrow(address siloToken, address bToken, uint256 amount);

15:     event Repay(address siloToken, address rToken, uint256 amount);

17:     constructor(address SR, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

71:     function getData(address siloToken)
            public
            view
            returns (uint256 userLTV, uint256 LiquidationThreshold, bool isSolvent)
        {

109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

130:     function isSiloEmpty(ISilo silo) public view returns (bool) {

143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L17), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L71), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L130), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

19: contract StargateConnector is BaseConnector {

28:     event DepositIntoStargatePool(StargateRequest depositRequest);

29:     event WithdrawFromStargatePool(StargateRequest withdrawRequest);

30:     event ClaimStargateRewards(uint256 poolId);

33:     constructor(address lpStacking, address _stargateRouter, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L30), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L33), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

21:     event OpenPosition(MintParams p, uint256 tokenId);

22:     event DecreasePosition(DecreaseLiquidityParams p);

23:     event IncreasePosition(IncreaseLiquidityParams p);

24:     event CollectFees(uint256 tokenId);

27:     constructor(address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

122:     function _collectFees(uint256 tokenId) internal returns (uint256 amount0, uint256 amount1) {

127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L24), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L27), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L122), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/governance/Keepers.sol

18:     event Execute(address indexed destination, bytes data, uint256 gasLimit, address executor, uint256 deadline);

19:     event UpdateOwners(address[] owners, bool[] addOrRemove);

20:     event UpdateThreshold(uint8 threshold);

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L20)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

6: contract NoyaGovernanceBase {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L6)]


```solidity
File: ./contracts/governance/TimeLock.sol

6: contract NoyaTimeLock is TimelockController {

7:     constructor(uint256 minDelay, address[] memory proposers, address[] memory executors, address owner)
           TimelockController(minDelay, proposers, executors, owner)
       { }

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L7)]


```solidity
File: ./contracts/governance/Watchers.sol

6: contract Watchers is Keepers {

7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

8:     function verifyRemoveLiquidity(uint256 withdrawAmount, uint256 sentAmount, bytes memory data) external view { }

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L8)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

33:     constructor(BaseConnectorCP memory params) NoyaGovernanceBase(params.registry, params.vaultId) {

135:     function _updateTokenInRegistry(address token, bool remove) internal {

221:     function _executeSwap(SwapRequest memory swapRequest) internal returns (uint256 amountOut) {

253:     function _getValue(address token, address baseToken, uint256 amount) internal view returns (uint256) {

263:     function _getUnderlyingTokens(uint256, bytes memory) public view virtual returns (address[] memory) {

267:     function _addLiquidity(address[] memory, uint256[] memory, bytes memory) internal virtual returns (bool) {

271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

285:     function _revokeApproval(address _token, address _spender) internal virtual {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L33), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L135), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L221), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L253), [263](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L263), [267](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L267), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271), [285](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L285)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

14: contract ConnectorMock2 {

22:     constructor(address _registry, uint256 _vaultId) {

27:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)
            external
            returns (uint256)
        {

40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

51:     function updatePositionToRegistryUsingType(bytes32 _positionId, bytes memory data, bool remove) external {

59:     function addPositionToRegistryUsingType(uint256 _positionType, bytes memory data) external {

65:     function addPositionToRegistry(bytes memory data) external {

71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

79:     function _updateTokenInRegistry(address token, bool remove) internal {

91:     function _updateTokenInRegistry(address token) internal {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L14), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L22), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L27), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L51), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L59), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L65), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L79), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L91)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

18: contract LZHelperReceiver is OAppReceiver {

22:     error InvalidPayload();

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L22)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

19: contract LZHelperSender is OAppSender {

25:     error InvalidSender();

27:     receive() external payable { }

29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

40:     function _payNative(uint256 amount) internal override returns (uint256) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L25), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L27), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L40)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

24:     event UpdateChainInfo(uint256 chainId, address destinationAddress);

25:     event UpdateBridgeTransactionApproval(bytes32 transactionHash, uint256 timestamp);

26:     event StartBridgeTransaction(BridgeRequest bridgeRequest, bytes32 transactionHash);

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L26)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

8: contract OmnichainManagerBaseChain is OmnichainLogic {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

10: contract OmnichainManagerNormalChain is OmnichainLogic {

11:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)
            OmnichainLogic(_lzHelper, baseConnectorParams)
        { }

28:     function updateTVLInfo() external onlyManager {

33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L11), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L28), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

19:     event SetValueOracle(address _valueOracle);

20:     event SetSlippageTolerance(address _inputToken, address _outputToken, uint256 _slippageTolerance);

21:     event AddEligibleUser(address _user);

22:     event BridgeExecutionCompleted(BridgeRequest _bridgeRequest);

24:     modifier onlyEligibleUser() {

29:     modifier onlyExistingRoute(uint256 _routeId) {

34:     constructor(address[] memory usersAddresses, address _valueOracle, PositionRegistry _registry, uint256 _vaultId)
            NoyaGovernanceBase(_registry, _vaultId)
        {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L24), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L29), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L34)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

20:     event AddedHandler(address _handler, bool state);

21:     event AddedChain(uint256 _chainId, bool state);

22:     event AddedBridgeBlacklist(string bridgeName, bool state);

23:     event Bridged(address bridge, address token, uint256 amount, bytes data);

24:     event Rescued(address token, address userAddress, uint256 amount);

27:     constructor(address swapHandler, address _lifi) Ownable2Step() Ownable(msg.sender) {

34:     modifier onlyHandler() {

165:     function _forward(IERC20 token, address from, uint256 amount, address caller, bytes calldata data, uint256 routeId)
             internal
             virtual
             nonReentrant
         {

185:     function _setAllowance(IERC20 token, address spender, uint256 amount) internal {

189:     function _isNative(IERC20 token) internal pure returns (bool isNative) {

193:     function rescueFunds(address token, address userAddress, uint256 amount) external onlyOwner {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L24), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L27), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L34), [165](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L165), [185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L185), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L189), [193](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L193)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

7: library TVLHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L7)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

18:     error NoyaOracle_PriceOracleUnavailable(address asset, address baseToken);

20:     event UpdatedDefaultPriceSource(address[] baseCurrencies, INoyaValueOracle[] oracles);

21:     event UpdatedAssetPriceSource(address[] asset, address[] baseToken, address[] oracle);

22:     event UpdatedPriceRoute(address asset, address baseToken, address[] s);

24:     modifier onlyMaintainer() {

29:     constructor(PositionRegistry _registry) {

61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {

81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)
            internal
            view
            returns (uint256 value)
        {

95:     function _getValue(address quotingToken, address baseToken, uint256 amount) internal view returns (uint256) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L18), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L24), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L29), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L95)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

10: contract ChainlinkOracleConnector is INoyaValueOracle {

31:     event AssetSourceUpdated(address indexed asset, address indexed baseToken, address indexed source);

32:     event ChainlinkPriceAgeThresholdUpdated(uint256 newThreshold);

37:     error NoyaChainlinkOracle_DATA_OUT_OF_DATE();

38:     error NoyaChainlinkOracle_PRICE_ORACLE_UNAVAILABLE(address asset, address baseToken, address source);

39:     error NoyaChainlinkOracle_INVALID_INPUT();

41:     modifier onlyMaintainer() {

46:     constructor(address _reg) {

56:     function updateChainlinkPriceAgeThreshold(uint256 _chainlinkPriceAgeThreshold) external onlyMaintainer {

70:     function setAssetSources(address[] calldata assets, address[] calldata baseTokens, address[] calldata sources)
            external
            onlyMaintainer
        {

89:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

115:     function getValueFromChainlinkFeed(
             AggregatorV3Interface source,
             uint256 amountIn,
             uint256 sourceTokenUnit,
             bool isInverse
         ) public view returns (uint256) {

143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L32), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L39), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L46), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L56), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L70), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L89), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L115), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

21:     event NewPeriod(uint32 period);

22:     event PoolsForAsset(address indexed asset, address indexed base, address indexed pool);

24:     modifier onlyMaintainer() {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L24)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

4: contract WETH_Oracle {

5:     function latestRoundData()
           external
           view
           returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)
       {

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L5)]


</details>


<a name="NC-55"></a> 
### [NC-55] Missing NatSpec `@author` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@author` notation to improve the code documentation.

<details>
<summary>
There are <b>41</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7)]


```solidity
File: ./contracts/accountingManager/Registry.sol

12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

11: contract AaveConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

27: contract AerodromeConnector is BaseConnector {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

26: contract BalancerConnector is BaseConnector {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

30: contract CamelotConnector is BaseConnector {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

7: contract CompoundConnector is BaseConnector {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

24: contract CurveConnector is BaseConnector {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/Dolomite.sol

9: contract DolomiteConnector is BaseConnector {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

18: contract FraxConnector is BaseConnector {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

8: contract Gearboxv3 is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

8: contract MorphoBlueConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

8: contract PancakeswapConnector is UNIv3Connector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

12: contract PendleConnector is BaseConnector {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

11: contract PrismaConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

8: contract SiloConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

19: contract StargateConnector is BaseConnector {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

12: contract UNIv3Connector is BaseConnector, ERC721Holder {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12)]


```solidity
File: ./contracts/governance/Keepers.sol

9: contract Keepers is EIP712, Ownable2Step {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

6: contract NoyaGovernanceBase {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L6)]


```solidity
File: ./contracts/governance/TimeLock.sol

6: contract NoyaTimeLock is TimelockController {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6)]


```solidity
File: ./contracts/governance/Watchers.sol

6: contract Watchers is Keepers {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

14: contract ConnectorMock2 {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L14)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

18: contract LZHelperReceiver is OAppReceiver {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

19: contract LZHelperSender is OAppSender {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

14: abstract contract OmnichainLogic is BaseConnector {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L14)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

8: contract OmnichainManagerBaseChain is OmnichainLogic {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

10: contract OmnichainManagerNormalChain is OmnichainLogic {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

7: library TVLHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L7)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

10: contract NoyaValueOracle is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

10: contract ChainlinkOracleConnector is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

12: contract UniswapValueOracle is INoyaValueOracle {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L12)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

4: contract WETH_Oracle {

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4)]


</details>


<a name="NC-56"></a> 
### [NC-56] Missing NatSpec `@dev` from contract/event/function/modifier declarations
Some contract definitions have an incomplete NatSpec: add a `@dev` notation to improve the code documentation.

<details>
<summary>
There are <b>431</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

94:     constructor(AccountingManagerConstructorParams memory p)

124:     function updateValueOracle(INoyaValueOracle _valueOracle) public onlyMaintainer {

150:     function sendTokensToTrustedAddress(address token, uint256 amount, address _caller, bytes calldata _data)

185:     function _update(address from, address to, uint256 amount) internal override {

200:     function deposit(address receiver, uint256 amount, address referrer) public nonReentrant whenNotPaused {

226:     function calculateDepositShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

304:     function withdraw(uint256 share, address receiver) public nonReentrant whenNotPaused {

526:     function collectPerformanceFees() public onlyManager nonReentrant {

543:     function burnShares(uint256 amount) public {

548:     function retrieveTokensForWithdraw(RetrieveData[] calldata retrieveData) public onlyManager nonReentrant {

582:     function getProfit() public view returns (uint256) {

591:     function totalAssets() public view override returns (uint256) {

596:     function getQueueItems(bool depositOrWithdraw, uint256[] memory items)

616:     function neededAssetsForWithdraw() public view returns (uint256) {

627:     function TVL() public view returns (uint256) {

632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

642:     function _getValue(address token, address base, uint256 amount) internal view returns (uint256) {

649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

659:     function emergencyStop() public whenNotPaused onlyEmergency {

663:     function unpause() public whenPaused onlyEmergency {

667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {

673:     function changeDepositWaitingTime(uint256 _depositWaitingTime) public onlyMaintainer {

678:     function changeWithdrawWaitingTime(uint256 _withdrawWaitingTime) public onlyMaintainer {

683:     function rescue(address token, uint256 amount) public onlyEmergency nonReentrant {

693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L94), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L124), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L150), [185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L185), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L200), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L226), [304](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L304), [526](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L526), [543](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L543), [548](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L548), [582](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L582), [591](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L591), [596](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L596), [616](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L616), [627](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L627), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [642](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L642), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649), [659](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L659), [663](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L663), [667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667), [673](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L673), [678](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L678), [683](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L683), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

12:     event ManagementFeeReceived(address indexed token, uint256 amount);

14:     constructor(address _accountingManager, address _baseToken, address _receiver) Ownable(msg.sender) {

23:     function withdrawShares(uint256 amount) external onlyOwner {

27:     function burnShares(uint256 amount) external onlyOwner {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L12), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L14), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L23), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L27)]


```solidity
File: ./contracts/accountingManager/Registry.sol

32:     modifier onlyVaultMaintainer(uint256 _vaultId) {

39:     modifier onlyVaultMaintainerWithoutTimeLock(uint256 _vaultId) {

46:     modifier onlyVaultGoverner(uint256 _vaultId) {

53:     modifier vaultExists(uint256 _vaultId) {

79:     function setMaxNumHoldingPositions(uint256 _maxNumHoldingPositions) external onlyRole(MAINTAINER_ROLE) {

84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {

106:     function addVault(

158:     function changeVaultAddresses(

188:     function addConnector(uint256 vaultId, address[] calldata _connectorAddresses, bool[] calldata _enableds)

207:     function updateConnectorTrustedTokens(

224:     function getPositionBP(uint256 vaultId, bytes32 _positionId) public view returns (PositionBP memory) {

238:     function addTrustedPosition(

266:     function removeTrustedPosition(uint256 vaultId, bytes32 _positionId)

293:     function updateHoldingPosition(

335:     function updateHoldingPosition(

394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)

426:     function isPositionTrusted(uint256 vaultId, bytes32 _positionId) public view returns (bool) {

436:     function isPositionTrustedForConnector(uint256 vaultId, bytes32 _positionId, address connector)

449:     function getGovernanceAddresses(uint256 vaultId)

470:     function isTokenTrusted(uint256 vaultId, address token, address connector) public view returns (bool) {

499:     function isAnActiveConnector(uint256 vaultId, address connectorAddress) public view returns (bool) {

508:     function isPositionDebt(uint256 vaultId, bytes32 _positionId) public view returns (bool) {

516:     function getVaultAddresses(uint256 vaultId) public view returns (address, address) {

525:     function isAddressTrusted(uint256 vaultId, address addr) public view returns (bool) {

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L32), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L39), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L46), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L53), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L158), [188](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L188), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L207), [224](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L224), [238](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L238), [266](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L266), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L335), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394), [426](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L426), [436](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L436), [449](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L449), [470](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L470), [499](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L499), [508](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L508), [516](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L516), [525](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L525)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

11: contract AaveConnector is BaseConnector {

26:     event Supply(address supplyToken, uint256 amount);

27:     event Borrow(address borrowToken, uint256 amount);

28:     event Repay(address repayToken, uint256 amount, uint256 i);

29:     event RepayWithCollateral(address repayToken, uint256 amount, uint256 i);

30:     event WithdrawCollateral(address collateral, uint256 amount);

33:     constructor(address _pool, address _poolBaseToken, BaseConnectorCP memory baseConnectorParams)

46:     function supply(address supplyToken, uint256 amount) external onlyManager nonReentrant {

62:     function borrow(uint256 _amount, uint256 _interestRateMode, address _borrowAsset)

81:     function repay(address asset, uint256 amount, uint256 i) external onlyManager nonReentrant {

88:     function repayWithCollateral(uint256 _amount, uint256 i, address _borrowAsset) external onlyManager {

100:     function withdrawCollateral(uint256 _collateralAmount, address _collateral) external onlyManager nonReentrant {

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L26), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L30), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L33), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L46), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L62), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L81), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L88), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L100), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

27: contract AerodromeConnector is BaseConnector {

36:     event Supply(address pool, uint256 amount0, uint256 amount1);

37:     event Withdraw(address pool, uint256 amountLiquidity);

40:     constructor(address _router, address _voter, BaseConnectorCP memory baseConnectorParams)

53:     function supply(DepositData memory data) public onlyManager nonReentrant {

79:     function withdraw(WithdrawData memory data) public onlyManager nonReentrant {

100:     function stake(address pool, uint256 liquidity) public onlyManager nonReentrant {

106:     function unstake(address pool, uint256 liquidity) public onlyManager nonReentrant {

111:     function claim(address pool) public onlyManager nonReentrant {

117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L37), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L40), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L53), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L79), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L100), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L106), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L111), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

26: contract BalancerConnector is BaseConnector {

34:     event OpenPosition(

37:     event DecreasePosition(DecreasePositionParams p);

42:     constructor(address _balancerVault, address bal, address aura, BaseConnectorCP memory baseConnectorParams)

53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

64:     function openPosition(

109:     function depositIntoAuraBooster(bytes32 poolId, uint256 _amount) public onlyManager nonReentrant {

115:     function decreasePosition(DecreasePositionParams memory p) public onlyManager nonReentrant {

162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

175:     function totalLpBalanceOf(PoolInfo memory pool) public view returns (uint256) {

184:     function totalLpBalanceOf(bytes32 poolId) public view returns (uint256) {

189:     function _getPoolInfo(bytes32 pooId) internal view returns (PoolInfo memory, bytes32) {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L34), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L37), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L42), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L64), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L109), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L115), [162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162), [175](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L175), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L184), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L189)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

21:     event MakeFlashLoan(IERC20[] tokens, uint256[] amounts);

22:     event ReceiveFlashLoan(IERC20[] tokens, uint256[] amounts, uint256[] feeAmounts, bytes userData);

24:     constructor(address _balancerVault, PositionRegistry _registry) {

37:     function makeFlashLoan(IERC20[] memory tokens, uint256[] memory amounts, bytes memory userData)

54:     function receiveFlashLoan(

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L24), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L37), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L54)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

30: contract CamelotConnector is BaseConnector {

36:     constructor(address _router, address _factory, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

43:     function addLiquidityInCamelotPool(CamelotAddLiquidityParams calldata p) external onlyManager nonReentrant {

65:     function removeLiquidityFromCamelotPool(CamelotRemoveLiquidityParams calldata p)

88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L36), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L43), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L65), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

7: contract CompoundConnector is BaseConnector {

10:     event Supply(address market, address asset, uint256 amount);

11:     event WithdrawOrBorrow(address market, address asset, uint256 amount);

12:     event ClaimRewards(address rewardContract, address market);

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

29:     function supply(address market, address asset, uint256 amount) external onlyManager nonReentrant {

63:     function claimRewards(address rewardContract, address market) external onlyManager nonReentrant {

84:     function getBorrowBalanceInBase(IComet comet) public view returns (uint256 borrowBalanceInVirtualBase) {

95:     function getCollBlanace(IComet comet, bool riskAdjusted) public view returns (uint256 CollValue) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L12), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L17), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L29), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L63), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L84), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L95), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

24: contract CurveConnector is BaseConnector {

33:     event OpenCurvePosition(address pool, uint256 depositIndex, uint256 amount, uint256 minAmount);

34:     event DecreaseCurvePosition(address pool, uint256 withdrawIndex, uint256 amount, uint256 minAmount);

35:     event WithdrawFromConvexBooster(uint256 pid, uint256 amount);

36:     event WithdrawFromConvexRewardPool(address pool, uint256 amount);

37:     event WithdrawFromGauge(address pool, uint256 amount);

38:     event WithdrawFromPrisma(address depostiToken, uint256 amount);

39:     event HarvestRewards(address[] gauges);

40:     event HarvestPrismaRewards(address[] pools);

41:     event HarvestConvexRewards(address[] rewardsPools);

45:     constructor(

68:     function depositIntoGauge(address pool, uint256 amount) public onlyManager nonReentrant {

81:     function depositIntoPrisma(address pool, uint256 amount, bool curveOrConvex) public onlyManager nonReentrant {

103:     function depositIntoConvexBooster(address pool, uint256 pid, uint256 amount, bool stake) public onlyManager {

117:     function openCurvePosition(address pool, uint256 depositIndex, uint256 amount, uint256 minAmount)

160:     function decreaseCurvePosition(address pool, uint256 withdrawIndex, uint256 amount, uint256 minAmount)

182:     function withdrawFromConvexBooster(uint256 pid, uint256 amount) public onlyManager {

192:     function withdrawFromConvexRewardPool(address pool, uint256 amount) public onlyManager {

202:     function withdrawFromGauge(address pool, uint256 amount) public onlyManager {

212:     function withdrawFromPrisma(address depostiToken, uint256 amount) public onlyManager {

221:     function harvestRewards(address[] calldata gauges) public onlyManager nonReentrant {

233:     function harvestPrismaRewards(address[] calldata pools) public onlyManager nonReentrant {

247:     function harvestConvexRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

258:     function _getPoolInfo(address pool) internal view returns (PoolInfo memory) {

265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

279:     function LPToUnder(PoolInfo memory info, uint256 balance) public view returns (uint256, address) {

297:     function estimateWithdrawAmount(ICurveSwap curvePool, uint256 amount, uint256 index)

311:     function totalLpBalanceOf(PoolInfo memory info) public view returns (uint256) {

325:     function balanceOfConvexRewardPool(PoolInfo memory info) public view returns (uint256) {

335:     function balanceOfLPToken(PoolInfo memory info) public view returns (uint256) {

344:     function balanceOfRewardPool(PoolInfo memory info) public view returns (uint256) {

354:     function balanceOfPrisma(address prismaPool) public view returns (uint256) {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L33), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L34), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L41), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L45), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L81), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L103), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L117), [160](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L160), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L182), [192](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L192), [202](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L202), [212](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L212), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L221), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L233), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L247), [258](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L258), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265), [279](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L279), [297](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L297), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L311), [325](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L325), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L335), [344](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L344), [354](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L354)]


```solidity
File: ./contracts/connectors/Dolomite.sol

9: contract DolomiteConnector is BaseConnector {

18:     constructor(

30:     function deposit(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

43:     function withdraw(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

58:     function openBorrowPosition(uint256 marketId, uint256 _amountWei, uint256 accountId)

77:     function transferBetweenAccounts(uint256 accountId, uint256 marketId, uint256 _amountWei, bool borrowOrRepay)

98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L18), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L30), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L43), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L58), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L77), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

18: contract FraxConnector is BaseConnector {

24:     event BorrowAndSupply(address pool, uint256 borrowAmount, uint256 collateralAmount);

25:     event Withdraw(address pool, uint256 withdrawAmount);

26:     event Repay(address pool, uint256 sharesToRepay);

29:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

38:     function borrowAndSupply(IFraxPair pool, uint256 borrowAmount, uint256 collateralAmount)

68:     function withdraw(IFraxPair pool, uint256 withdrawAmount) public onlyManager nonReentrant {

87:     function repay(IFraxPair pool, uint256 sharesToRepay) public onlyManager nonReentrant {

104:     function verifyHealthFactor(IFraxPair pool) public view {

120:     function _getHealthFactor(IFraxPair _fraxlendPair, uint256 _exchangeRate) internal view virtual returns (uint256) {

142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L26), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L29), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L38), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L68), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L87), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L104), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L120), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

8: contract Gearboxv3 is BaseConnector {

11:     event OpenAccount(address facade, uint256 ref);

12:     event CloseAccount(address facade, address creditAccount);

13:     event ExecuteCommands(

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

24:     function openAccount(address facade, uint256 ref) public onlyManager {

41:     function closeAccount(address facade, address creditAccount) public onlyManager nonReentrant {

62:     function executeCommands(

93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L13), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L17), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L24), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L41), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L62), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

15:     event Deposit(uint256 amountIn);

16:     event RequestWithdrawals(uint256 amount);

17:     event ClaimWithdrawal(uint256 requestId);

20:     constructor(address _lido, address _lidoW, address _steth, address w, BaseConnectorCP memory baseConnectorParams)

37:     function deposit(uint256 amountIn) external onlyManager nonReentrant {

51:     function requestWithdrawals(uint256 amount) public onlyManager nonReentrant {

69:     function claimWithdrawal(uint256 requestId) public onlyManager nonReentrant {

89:     receive() external payable { }

91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L17), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L20), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L51), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L69), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L89), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

37:     event Stake(uint256 amount, uint256 duration, bool doDelegation);

38:     event Unstake(uint256 lockupId);

39:     event AddLiquidityInMaverickPool(MavericAddLiquidityParams p);

40:     event RemoveLiquidityFromMaverickPool(MavericRemoveLiquidityParams p);

41:     event ClaimBoostedPositionRewards(IMaverickReward rewardContract);

43:     constructor(address _mav, address _veMav, address mr, address pi, BaseConnectorCP memory baseCP)

56:     receive() external payable { }

64:     function stake(uint256 amount, uint256 duration, bool doDelegation) external onlyManager nonReentrant {

78:     function unstake(uint256 lockupId) external onlyManager nonReentrant {

91:     function addLiquidityInMaverickPool(MavericAddLiquidityParams calldata p) external onlyManager nonReentrant {

115:     function removeLiquidityFromMaverickPool(MavericRemoveLiquidityParams calldata p)

137:     function claimBoostedPositionRewards(IMaverickReward rewardContract) external onlyManager nonReentrant {

149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L41), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L43), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L56), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L64), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L78), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L91), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L115), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L137), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

8: contract MorphoBlueConnector is BaseConnector {

17:     event Supply(uint256 amount, Id id, bool sOrC);

18:     event Withdraw(uint256 amount, Id id, bool sOrC);

19:     event Borrow(uint256 amount, Id id);

20:     event Repay(uint256 amount, Id id);

23:     constructor(address MB, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

35:     function supply(uint256 amount, Id id, bool sOrC) external onlyManager nonReentrant {

58:     function withdraw(uint256 amount, Id id, bool sOrC) external onlyManager nonReentrant {

80:     function borrow(uint256 amount, Id id) external onlyManager nonReentrant {

95:     function repay(uint256 amount, Id id) public onlyManager nonReentrant {

108:     function getHealthFactor(Id _id, Market memory _market) public view returns (uint256) {

118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

137:     function convertCToL(uint256 amount, address marketOracle, address collateral) public view returns (uint256) {

141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L20), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L23), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L35), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L58), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L80), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L95), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L108), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L137), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

8: contract PancakeswapConnector is UNIv3Connector {

14:     event SendPositionToMasterChef(uint256 tokenId);

15:     event UpdatePosition(uint256 tokenId);

16:     event Withdraw(uint256 tokenId);

19:     constructor(address MC, address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

31:     function sendPositionToMasterChef(uint256 tokenId) external onlyManager nonReentrant {

40:     function updatePosition(uint256 tokenId) public onlyManager nonReentrant {

50:     function withdraw(uint256 tokenId) public onlyManager nonReentrant {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L16), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L19), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L31), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L40), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L50)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

12: contract PendleConnector is BaseConnector {

35:     event Supply(address market, uint256 amount);

36:     event MintPTAndYT(address market, uint256 syAmount);

37:     event DepositIntoMarket(address market, uint256 SYamount, uint256 PTamount);

38:     event DepositIntoPenpie(address market, uint256 amount);

39:     event WithdrawFromPenpie(address market, uint256 amount);

40:     event SwapYTForPT(address market, uint256 exactYTIn, uint256 min, ApproxParams guess);

41:     event SwapYTForSY(address market, uint256 exactYTIn, uint256 min, LimitOrderData orderData);

42:     event SwapExactPTForSY(address market, uint256 exactPTIn, bytes swapData, uint256 minSY);

43:     event BurnLP(address market, uint256 amount);

44:     event DecreasePosition(address market, uint256 amount, bool closePosition);

45:     event ClaimRewards(address market);

57:     constructor(address _pendleMarketDepositHelper, address _pendleRouter, address SR, BaseConnectorCP memory baseCP)

97:     function mintPTAndYT(address market, uint256 syAmount) external onlyManager nonReentrant {

126:     function depositIntoPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

137:     function withdrawFromPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

149:     function swapYTForPT(address market, uint256 exactYTIn, uint256 min, ApproxParams memory guess)

166:     function swapYTForSY(address market, uint256 exactYTIn, uint256 min, LimitOrderData memory orderData)

183:     function swapExactPTForSY(IPMarket market, uint256 exactPTIn, bytes calldata swapData, uint256 minSY)

203:     function burnLP(IPMarket market, uint256 amount) external onlyManager nonReentrant {

216:     function decreasePosition(IPMarket market, uint256 _amount, bool closePosition) external onlyManager nonReentrant {

293:     function getYTValue(address market, uint256 balance) public view returns (uint256) {

303:     function isMarketEmpty(IPMarket market) public view returns (bool) {

311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L41), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L42), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L43), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L44), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L45), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L57), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L97), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L126), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L137), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L149), [166](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L166), [183](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L183), [203](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L203), [216](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L216), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L293), [303](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L303), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

11: contract PrismaConnector is BaseConnector {

16:     event OpenTrove(address zap, address tm, uint256 maxFee, uint256 dAmount, uint256 bAmount);

17:     event AddColl(address zap, address tm, uint256 amountIn);

18:     event AdjustTrove(address zap, address tm, uint256 mFee, uint256 wAmount, uint256 bAmount, bool isBorrowing);

19:     event CloseTrove(address zap, address troveManager);

25:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

33:     function approveZap(IStakeNTroveZap zap, address tm, bool approve) public onlyManager nonReentrant {

52:     function openTrove(IStakeNTroveZap zap, address tm, uint256 maxFee, uint256 dAmount, uint256 bAmount)

75:     function addColl(IStakeNTroveZap zapContract, address tm, uint256 amountIn) public onlyManager nonReentrant {

97:     function adjustTrove(

129:     function closeTrove(IStakeNTroveZap zapContract, address troveManager) public onlyManager nonReentrant {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L19), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L25), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L33), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L52), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L75), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L97), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L129)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

20:     constructor(address _SNXCoreProxy, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

25:     function createAccount() public onlyManager {

30:     function deposit(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

46:     function withdraw(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

68:     function delegateIntoPreferredPool(

81:     function delegateIntoApprovedPool(

94:     function claimRewards(uint128 accountId, uint128 poolId, address collateralType, address distributor)

102:     function mintOrBurnSUSD(

121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L20), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L25), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L30), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L46), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L81), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L94), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L102), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

8: contract SiloConnector is BaseConnector {

12:     event Deposit(address siloToken, address dToken, uint256 amount, bool oC);

13:     event Withdraw(address siloToken, address wToken, uint256 amount, bool oC, bool closePosition);

14:     event Borrow(address siloToken, address bToken, uint256 amount);

15:     event Repay(address siloToken, address rToken, uint256 amount);

17:     constructor(address SR, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

33:     function deposit(address siloToken, address dToken, uint256 amount, bool oC) external onlyManager nonReentrant {

52:     function withdraw(address siloToken, address wToken, uint256 amount, bool oC, bool closePosition)

71:     function getData(address siloToken)

85:     function borrow(address siloToken, address bToken, uint256 amount) external onlyManager nonReentrant {

98:     function repay(address siloToken, address rToken, uint256 amount) external onlyManager nonReentrant {

109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

130:     function isSiloEmpty(ISilo silo) public view returns (bool) {

143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L17), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L33), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L52), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L71), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L85), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L98), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L130), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

19: contract StargateConnector is BaseConnector {

28:     event DepositIntoStargatePool(StargateRequest depositRequest);

29:     event WithdrawFromStargatePool(StargateRequest withdrawRequest);

30:     event ClaimStargateRewards(uint256 poolId);

33:     constructor(address lpStacking, address _stargateRouter, BaseConnectorCP memory baseConnectorParams)

49:     function depositIntoStargatePool(StargateRequest calldata depositRequest) external onlyManager nonReentrant {

76:     function withdrawFromStargatePool(StargateRequest calldata withdrawRequest) external onlyManager nonReentrant {

103:     function claimStargateRewards(uint256 poolId) external onlyManager nonReentrant {

110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L30), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L33), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L49), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L76), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L103), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

12: contract UNIv3Connector is BaseConnector, ERC721Holder {

21:     event OpenPosition(MintParams p, uint256 tokenId);

22:     event DecreasePosition(DecreaseLiquidityParams p);

23:     event IncreasePosition(IncreaseLiquidityParams p);

24:     event CollectFees(uint256 tokenId);

27:     constructor(address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

40:     function openPosition(MintParams memory p) external onlyManager nonReentrant returns (uint256 tokenId) {

63:     function decreasePosition(DecreaseLiquidityParams memory p) external onlyManager nonReentrant {

87:     function increasePosition(IncreaseLiquidityParams memory p) external onlyManager nonReentrant {

116:     function getCurrentLiquidity(uint256 tokenId) public view returns (uint128, address, address) {

122:     function _collectFees(uint256 tokenId) internal returns (uint256 amount0, uint256 amount1) {

127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L24), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L27), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L40), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L63), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L87), [116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L116), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L122), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/governance/Keepers.sol

9: contract Keepers is EIP712, Ownable2Step {

18:     event Execute(address indexed destination, bytes data, uint256 gasLimit, address executor, uint256 deadline);

19:     event UpdateOwners(address[] owners, bool[] addOrRemove);

20:     event UpdateThreshold(uint8 threshold);

27:     constructor(address[] memory _owners, uint8 _threshold) EIP712("Keepers", "1") Ownable2Step() Ownable(msg.sender) {

124:     function domainSeparatorV4() public view returns (bytes32) {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L20), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L27), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L124)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

6: contract NoyaGovernanceBase {

21:     constructor(PositionRegistry _registry, uint256 _vaultId) {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L6), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L21)]


```solidity
File: ./contracts/governance/TimeLock.sol

6: contract NoyaTimeLock is TimelockController {

7:     constructor(uint256 minDelay, address[] memory proposers, address[] memory executors, address owner)

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L7)]


```solidity
File: ./contracts/governance/Watchers.sol

6: contract Watchers is Keepers {

7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

8:     function verifyRemoveLiquidity(uint256 withdrawAmount, uint256 sentAmount, bytes memory data) external view { }

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L8)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

33:     constructor(BaseConnectorCP memory params) NoyaGovernanceBase(params.registry, params.vaultId) {

67:     function updateValueOracle(address _valueOracle) external onlyMaintainer {

135:     function _updateTokenInRegistry(address token, bool remove) internal {

158:     function _updateTokenInRegistry(address token) internal {

221:     function _executeSwap(SwapRequest memory swapRequest) internal returns (uint256 amountOut) {

253:     function _getValue(address token, address baseToken, uint256 amount) internal view returns (uint256) {

263:     function _getUnderlyingTokens(uint256, bytes memory) public view virtual returns (address[] memory) {

267:     function _addLiquidity(address[] memory, uint256[] memory, bytes memory) internal virtual returns (bool) {

271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

285:     function _revokeApproval(address _token, address _spender) internal virtual {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L33), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L67), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L135), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L158), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L221), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L253), [263](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L263), [267](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L267), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271), [285](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L285)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

14: contract ConnectorMock2 {

22:     constructor(address _registry, uint256 _vaultId) {

27:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)

40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

51:     function updatePositionToRegistryUsingType(bytes32 _positionId, bytes memory data, bool remove) external {

59:     function addPositionToRegistryUsingType(uint256 _positionType, bytes memory data) external {

65:     function addPositionToRegistry(bytes memory data) external {

71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

79:     function _updateTokenInRegistry(address token, bool remove) internal {

91:     function _updateTokenInRegistry(address token) internal {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L14), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L22), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L27), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L51), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L59), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L65), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L79), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L91)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

18: contract LZHelperReceiver is OAppReceiver {

31:     constructor(address _endpoint, address _owner) OAppReceiver() OAppCore(_endpoint, _owner) { }

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L31)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

19: contract LZHelperSender is OAppSender {

27:     receive() external payable { }

29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

40:     function _payNative(uint256 amount) internal override returns (uint256) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L27), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L40)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

14: abstract contract OmnichainLogic is BaseConnector {

24:     event UpdateChainInfo(uint256 chainId, address destinationAddress);

25:     event UpdateBridgeTransactionApproval(bytes32 transactionHash, uint256 timestamp);

26:     event StartBridgeTransaction(BridgeRequest bridgeRequest, bytes32 transactionHash);

33:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L14), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L26), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L33)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

8: contract OmnichainManagerBaseChain is OmnichainLogic {

19:     constructor(uint256 dl, address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

10: contract OmnichainManagerNormalChain is OmnichainLogic {

11:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

19:     function getTVL() public view returns (uint256) {

28:     function updateTVLInfo() external onlyManager {

33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L11), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L19), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L28), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

19:     event SetValueOracle(address _valueOracle);

20:     event SetSlippageTolerance(address _inputToken, address _outputToken, uint256 _slippageTolerance);

21:     event AddEligibleUser(address _user);

22:     event BridgeExecutionCompleted(BridgeRequest _bridgeRequest);

24:     modifier onlyEligibleUser() {

29:     modifier onlyExistingRoute(uint256 _routeId) {

34:     constructor(address[] memory usersAddresses, address _valueOracle, PositionRegistry _registry, uint256 _vaultId)

48:     function setValueOracle(address _valueOracle) external onlyMaintainerOrEmergency {

57:     function setGeneralSlippageTolerance(uint256 _slippageTolerance) external onlyMaintainerOrEmergency {

68:     function setSlippageTolerance(address _inputToken, address _outputToken, uint256 _slippageTolerance)

80:     function addEligibleUser(address _user) external onlyMaintainerOrEmergency {

90:     function executeSwap(SwapRequest memory _swapRequest)

126:     function executeBridge(BridgeRequest calldata _bridgeRequest)

158:     function setEnableRoute(uint256 _routeId, bool enable) external onlyMaintainerOrEmergency {

164:     function verifyRoute(uint256 _routeId, address addr) external view onlyExistingRoute(_routeId) {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L24), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L29), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L34), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L48), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L57), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L68), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L80), [90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L90), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L126), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L158), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L164)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

20:     event AddedHandler(address _handler, bool state);

21:     event AddedChain(uint256 _chainId, bool state);

22:     event AddedBridgeBlacklist(string bridgeName, bool state);

23:     event Bridged(address bridge, address token, uint256 amount, bytes data);

24:     event Rescued(address token, address userAddress, uint256 amount);

27:     constructor(address swapHandler, address _lifi) Ownable2Step() Ownable(msg.sender) {

34:     modifier onlyHandler() {

45:     function addHandler(address _handler, bool state) external onlyOwner {

55:     function addChain(uint256 _chainId, bool state) external onlyOwner {

65:     function addBridgeBlacklist(string memory bridgeName, bool state) external onlyOwner {

77:     function performSwapAction(address caller, SwapRequest calldata _request)

133:     function performBridgeAction(address caller, BridgeRequest calldata _request)

165:     function _forward(IERC20 token, address from, uint256 amount, address caller, bytes calldata data, uint256 routeId)

185:     function _setAllowance(IERC20 token, address spender, uint256 amount) internal {

189:     function _isNative(IERC20 token) internal pure returns (bool isNative) {

193:     function rescueFunds(address token, address userAddress, uint256 amount) external onlyOwner {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L24), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L27), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L34), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L45), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L55), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L65), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L77), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L133), [165](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L165), [185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L185), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L189), [193](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L193)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

7: library TVLHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L7)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

10: contract NoyaValueOracle is INoyaValueOracle {

20:     event UpdatedDefaultPriceSource(address[] baseCurrencies, INoyaValueOracle[] oracles);

21:     event UpdatedAssetPriceSource(address[] asset, address[] baseToken, address[] oracle);

22:     event UpdatedPriceRoute(address asset, address baseToken, address[] s);

24:     modifier onlyMaintainer() {

29:     constructor(PositionRegistry _registry) {

37:     function updateDefaultPriceSource(address[] calldata baseCurrencies, INoyaValueOracle[] calldata oracles)

51:     function updateAssetPriceSource(address[] calldata asset, address[] calldata baseToken, address[] calldata oracle)

61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {

71:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)

95:     function _getValue(address quotingToken, address baseToken, uint256 amount) internal view returns (uint256) {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L10), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L24), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L29), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L51), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L71), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L95)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

10: contract ChainlinkOracleConnector is INoyaValueOracle {

31:     event AssetSourceUpdated(address indexed asset, address indexed baseToken, address indexed source);

32:     event ChainlinkPriceAgeThresholdUpdated(uint256 newThreshold);

41:     modifier onlyMaintainer() {

46:     constructor(address _reg) {

56:     function updateChainlinkPriceAgeThreshold(uint256 _chainlinkPriceAgeThreshold) external onlyMaintainer {

70:     function setAssetSources(address[] calldata assets, address[] calldata baseTokens, address[] calldata sources)

89:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

115:     function getValueFromChainlinkFeed(

138:     function getTokenDecimals(address token) public view returns (uint256) {

143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L32), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L46), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L56), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L70), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L89), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L115), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L138), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

12: contract UniswapValueOracle is INoyaValueOracle {

21:     event NewPeriod(uint32 period);

22:     event PoolsForAsset(address indexed asset, address indexed base, address indexed pool);

24:     modifier onlyMaintainer() {

31:     constructor(address _factory, PositionRegistry _registry) {

38:     function setPeriod(uint32 _period) external onlyMaintainer {

48:     function addPool(address tokenIn, address baseToken, uint24 fee) external onlyMaintainer {

60:     function getValue(address tokenIn, address baseToken, uint256 amount) public view returns (uint256 _amountOut) {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L12), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L24), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L31), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L38), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L48), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L60)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

4: contract WETH_Oracle {

5:     function latestRoundData()

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L5)]


</details>


<a name="NC-57"></a> 
### [NC-57] Public variable declarations should have NatSpec descriptions

<details>
<summary>
There are <b>98</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

52:     uint256 public constant FEE_PRECISION = 1e6;

53:     uint256 public constant WITHDRAWAL_MAX_FEE = 5e4;

54:     uint256 public constant MANAGEMENT_MAX_FEE = 5e5;

55:     uint256 public constant PERFORMANCE_MAX_FEE = 1e5;

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L53), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L54), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L55)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

8:     address public receiver;

9:     address public accountingManager;

10:     address public baseToken;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L8), [9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L9), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L10)]


```solidity
File: ./contracts/accountingManager/Registry.sol

15:     bytes32 public constant MAINTAINER_ROLE = keccak256("MAINTAINER_ROLE");

17:     bytes32 public constant GOVERNER_ROLE = keccak256("GOVERNER_ROLE");

19:     bytes32 public constant EMERGENCY_ROLE = keccak256("EMERGENCY_ROLE");

21:     uint256 public constant MAX_NUM_HOLDING_POSITIONS = 40;

23:     uint256 public maxNumHoldingPositions = 20;

26:     mapping(uint256 => Vault) public vaults;

28:     address public flashLoan;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L17), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L19), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L21), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L23), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L26), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L28)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

24:     uint256 public constant AAVE_POSITION_ID = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

31:     uint256 public constant AERODROME_POSITION_TYPE = 1;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L31)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

29:     address public BAL;

30:     address public AURA;

32:     uint256 public BALANCER_LP_POSITION = 1;

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L30), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L32)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

16:     PositionRegistry public registry;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L16)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

31:     ICamelotRouter public router;

32:     ICamelotFactory public factory;

34:     uint256 public constant CAMELOT_POSITION_ID = 1;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L32), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L34)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

8:     uint256 public COMPOUND_LP = 2;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L8)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

26:     IBooster public convexBooster;

27:     address public CVX;

28:     address public CRV;

29:     address public PRISMA;

31:     uint256 public constant CURVE_LP_POSITION = 4;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L26), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L29), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L31)]


```solidity
File: ./contracts/connectors/Dolomite.sol

12:     IDepositWithdrawalProxy public depositWithdrawalProxy;

13:     IDolomiteMargin public dolomiteMargin;

14:     IBorrowPositionProxyV1 public borrowPositionProxy;

16:     uint256 public constant DOL_POSITION_ID = 1;

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L14), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L16)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

22:     uint256 public COLLATERAL_AND_DEBT_POSITION_TYPE = 1;

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L22)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

9:     uint256 public constant GEARBOX_POSITION_ID = 3;

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L9)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

8:     address public lido;

9:     address public lidoWithdrawal;

10:     address public steth;

11:     address public weth;

13:     uint256 public LIDO_WITHDRAWAL_REQUEST_ID = 10;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L8), [9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L9), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L11), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L13)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

35:     uint256 public MAVERICK_LP = 10;

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L35)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

13:     IMorpho public immutable morphoBlue;

15:     uint256 public constant MORPHO_POSITION_ID = 1;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L13), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L15)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

12:     IMasterchefV3 public masterchef;

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L12)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

22:     IPendleMarketDepositHelper public pendleMarketDepositHelper;

23:     IPAllActionV3 public pendleRouter;

24:     IPendleStaticRouter public staticRouter;

26:     uint256 public constant PENDLE_POSITION_ID = 11;

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L24), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L26)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

14:     uint256 public constant PRISMA_POSITION_ID = 10;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L14)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

16:     uint256 public constant SNX_POSITION_ID = 1;

17:     uint256 public constant SNX_POOL_POSITION_ID = 2;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L17)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

9:     ISiloRepository public siloRepository;

10:     uint256 public constant SILO_LP_ID = 11;

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L9), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L10)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

26:     uint256 public constant STARGATE_LP_POSITION_TYPE = 1;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L26)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

16:     INonfungiblePositionManager public immutable positionManager;

17:     IUniswapV3Factory public immutable factory;

19:     uint256 public constant UNI_LP_POSITION_TYPE = 5;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L17), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L19)]


```solidity
File: ./contracts/governance/Keepers.sol

10:     mapping(address => bool) public isOwner;

11:     bytes32 public constant TXTYPE_HASH = keccak256(

14:     uint256 public nonce;

16:     uint256 public numOwners;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L11), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L14), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L16)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

7:     PositionRegistry public registry;

8:     uint256 public vaultId;

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L8)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

25:     SwapAndBridgeHandler public swapHandler;

26:     INoyaValueOracle public valueOracle;

28:     uint256 public MINIMUM_HEALTH_FACTOR = 15e17;

29:     uint256 public minimumHealthFactor;

31:     uint256 public DUST_LEVEL = 1;

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L26), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L29), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L31)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

17:     uint256 public vaultId = 0;

18:     PositionRegistry public registry;

20:     uint256 public constant positionType = 1;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L18), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L20)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

19:     mapping(uint32 => ChainInfo) public chainInfo; // chainId => ChainInfo

20:     mapping(uint256 => VaultInfo) public vaultIdToVaultInfo; // vaultId => VaultInfo

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L20)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

20:     mapping(uint256 => ChainInfo) public chainInfo; // chainId => ChainInfo

21:     mapping(uint256 => VaultInfo) public vaultIdToVaultInfo; // vaultId => VaultInfo

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L21)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

17:     address payable public lzHelper;

19:     uint256 public constant BRIDGE_TXN_WAITING_TIME = 30 minutes;

21:     mapping(uint256 => address) public destChainAddress;

22:     mapping(bytes32 => uint256) public approvedBridgeTXN;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L17), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L19), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L22)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

11:     uint256 public constant OMNICHAIN_POSITION_ID = 13;

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L11)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

13:     mapping(address => bool) public isEligibleToUse;

14:     INoyaValueOracle public valueOracle;

15:     mapping(address => mapping(address => uint256)) public slippageTolerance;

16:     uint256 public genericSlippageTolerance = 50_000; // 5% slippage tolerance

17:     RouteData[] public routes;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L17)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

13:     mapping(address => bool) public isHandler;

14:     mapping(string => bool) public isBridgeWhiteListed;

15:     mapping(uint256 => bool) public isChainSupported;

16:     address public lifi;

18:     bytes4 public constant LI_FI_GENERIC_SWAP_SELECTOR = 0x4630a0d8;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L16), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L18)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

11:     PositionRegistry public registry;

14:     mapping(address => mapping(address => address[])) public priceRoutes;

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L11), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L14)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

11:     PositionRegistry public registry;

25:     address public constant ETH = address(0);

26:     address public constant USD = address(840);

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L11), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L26)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

14:     mapping(address => mapping(address => address)) public assetToBaseToPool;

16:     address public factory;

17:     PositionRegistry public registry;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L14), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L17)]


</details>


<a name="NC-58"></a> 
### [NC-58] Missing NatSpec `@notice` from contract/event/function/modifier declarations
Some contract definitions have an incomplete NatSpec: add a `@notice` notation to improve the code documentation.

<details>
<summary>
There are <b>309</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

94:     constructor(AccountingManagerConstructorParams memory p)

170:     function setFees(uint256 _withdrawFee, uint256 _performanceFee, uint256 _managementFee) public onlyMaintainer {

200:     function deposit(address receiver, uint256 amount, address referrer) public nonReentrant whenNotPaused {

226:     function calculateDepositShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

543:     function burnShares(uint256 amount) public {

627:     function TVL() public view returns (uint256) {

632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

642:     function _getValue(address token, address base, uint256 amount) internal view returns (uint256) {

649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

659:     function emergencyStop() public whenNotPaused onlyEmergency {

663:     function unpause() public whenPaused onlyEmergency {

667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {

673:     function changeDepositWaitingTime(uint256 _depositWaitingTime) public onlyMaintainer {

678:     function changeWithdrawWaitingTime(uint256 _withdrawWaitingTime) public onlyMaintainer {

683:     function rescue(address token, uint256 amount) public onlyEmergency nonReentrant {

693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L94), [170](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L170), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L200), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L226), [543](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L543), [627](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L627), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [642](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L642), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649), [659](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L659), [663](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L663), [667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667), [673](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L673), [678](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L678), [683](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L683), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

12:     event ManagementFeeReceived(address indexed token, uint256 amount);

14:     constructor(address _accountingManager, address _baseToken, address _receiver) Ownable(msg.sender) {

23:     function withdrawShares(uint256 amount) external onlyOwner {

27:     function burnShares(uint256 amount) external onlyOwner {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L12), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L14), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L23), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L27)]


```solidity
File: ./contracts/accountingManager/Registry.sol

12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

32:     modifier onlyVaultMaintainer(uint256 _vaultId) {

39:     modifier onlyVaultMaintainerWithoutTimeLock(uint256 _vaultId) {

46:     modifier onlyVaultGoverner(uint256 _vaultId) {

53:     modifier vaultExists(uint256 _vaultId) {

66:     constructor(address _governer, address _maintainer, address _emergency, address _flashLoan) {

79:     function setMaxNumHoldingPositions(uint256 _maxNumHoldingPositions) external onlyRole(MAINTAINER_ROLE) {

84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {

106:     function addVault(

158:     function changeVaultAddresses(

188:     function addConnector(uint256 vaultId, address[] calldata _connectorAddresses, bool[] calldata _enableds)

207:     function updateConnectorTrustedTokens(

224:     function getPositionBP(uint256 vaultId, bytes32 _positionId) public view returns (PositionBP memory) {

238:     function addTrustedPosition(

266:     function removeTrustedPosition(uint256 vaultId, bytes32 _positionId)

293:     function updateHoldingPosition(

335:     function updateHoldingPosition(

370:     function updateHoldingPostionWithTime(

394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)

408:     function getHoldingPosition(uint256 vaultId, uint256 i) public view returns (HoldingPI memory) {

416:     function getHoldingPositions(uint256 vaultId) public view returns (HoldingPI[] memory) {

486:     function calculatePositionId(address calculatorConnector, uint256 positionTypeId, bytes memory data)

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L32), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L39), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L46), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L53), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L66), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L158), [188](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L188), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L207), [224](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L224), [238](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L238), [266](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L266), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L335), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L370), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394), [408](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L408), [416](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L416), [486](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L486)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

11: contract AaveConnector is BaseConnector {

26:     event Supply(address supplyToken, uint256 amount);

27:     event Borrow(address borrowToken, uint256 amount);

28:     event Repay(address repayToken, uint256 amount, uint256 i);

29:     event RepayWithCollateral(address repayToken, uint256 amount, uint256 i);

30:     event WithdrawCollateral(address collateral, uint256 amount);

33:     constructor(address _pool, address _poolBaseToken, BaseConnectorCP memory baseConnectorParams)

88:     function repayWithCollateral(uint256 _amount, uint256 i, address _borrowAsset) external onlyManager {

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L26), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L30), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L33), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L88), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

27: contract AerodromeConnector is BaseConnector {

36:     event Supply(address pool, uint256 amount0, uint256 amount1);

37:     event Withdraw(address pool, uint256 amountLiquidity);

40:     constructor(address _router, address _voter, BaseConnectorCP memory baseConnectorParams)

100:     function stake(address pool, uint256 liquidity) public onlyManager nonReentrant {

106:     function unstake(address pool, uint256 liquidity) public onlyManager nonReentrant {

111:     function claim(address pool) public onlyManager nonReentrant {

117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L37), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L40), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L100), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L106), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L111), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

26: contract BalancerConnector is BaseConnector {

34:     event OpenPosition(

37:     event DecreasePosition(DecreasePositionParams p);

42:     constructor(address _balancerVault, address bal, address aura, BaseConnectorCP memory baseConnectorParams)

53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

64:     function openPosition(

109:     function depositIntoAuraBooster(bytes32 poolId, uint256 _amount) public onlyManager nonReentrant {

115:     function decreasePosition(DecreasePositionParams memory p) public onlyManager nonReentrant {

162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

175:     function totalLpBalanceOf(PoolInfo memory pool) public view returns (uint256) {

184:     function totalLpBalanceOf(bytes32 poolId) public view returns (uint256) {

189:     function _getPoolInfo(bytes32 pooId) internal view returns (PoolInfo memory, bytes32) {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L34), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L37), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L42), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L64), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L109), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L115), [162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162), [175](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L175), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L184), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L189)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

21:     event MakeFlashLoan(IERC20[] tokens, uint256[] amounts);

22:     event ReceiveFlashLoan(IERC20[] tokens, uint256[] amounts, uint256[] feeAmounts, bytes userData);

24:     constructor(address _balancerVault, PositionRegistry _registry) {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L24)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

30: contract CamelotConnector is BaseConnector {

36:     constructor(address _router, address _factory, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

43:     function addLiquidityInCamelotPool(CamelotAddLiquidityParams calldata p) external onlyManager nonReentrant {

65:     function removeLiquidityFromCamelotPool(CamelotRemoveLiquidityParams calldata p)

88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L36), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L43), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L65), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

7: contract CompoundConnector is BaseConnector {

10:     event Supply(address market, address asset, uint256 amount);

11:     event WithdrawOrBorrow(address market, address asset, uint256 amount);

12:     event ClaimRewards(address rewardContract, address market);

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

141:     function isInAsset(uint16 assetsIn, uint8 assetOffset) public pure returns (bool) {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L12), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L17), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L141)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

24: contract CurveConnector is BaseConnector {

33:     event OpenCurvePosition(address pool, uint256 depositIndex, uint256 amount, uint256 minAmount);

34:     event DecreaseCurvePosition(address pool, uint256 withdrawIndex, uint256 amount, uint256 minAmount);

35:     event WithdrawFromConvexBooster(uint256 pid, uint256 amount);

36:     event WithdrawFromConvexRewardPool(address pool, uint256 amount);

37:     event WithdrawFromGauge(address pool, uint256 amount);

38:     event WithdrawFromPrisma(address depostiToken, uint256 amount);

39:     event HarvestRewards(address[] gauges);

40:     event HarvestPrismaRewards(address[] pools);

41:     event HarvestConvexRewards(address[] rewardsPools);

45:     constructor(

258:     function _getPoolInfo(address pool) internal view returns (PoolInfo memory) {

265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L33), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L34), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L41), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L45), [258](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L258), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

9: contract DolomiteConnector is BaseConnector {

18:     constructor(

30:     function deposit(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

43:     function withdraw(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

58:     function openBorrowPosition(uint256 marketId, uint256 _amountWei, uint256 accountId)

77:     function transferBetweenAccounts(uint256 accountId, uint256 marketId, uint256 _amountWei, bool borrowOrRepay)

98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L18), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L30), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L43), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L58), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L77), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

18: contract FraxConnector is BaseConnector {

24:     event BorrowAndSupply(address pool, uint256 borrowAmount, uint256 collateralAmount);

25:     event Withdraw(address pool, uint256 withdrawAmount);

26:     event Repay(address pool, uint256 sharesToRepay);

29:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L26), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L29), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

8: contract Gearboxv3 is BaseConnector {

11:     event OpenAccount(address facade, uint256 ref);

12:     event CloseAccount(address facade, address creditAccount);

13:     event ExecuteCommands(

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L13), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L17)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

15:     event Deposit(uint256 amountIn);

16:     event RequestWithdrawals(uint256 amount);

17:     event ClaimWithdrawal(uint256 requestId);

20:     constructor(address _lido, address _lidoW, address _steth, address w, BaseConnectorCP memory baseConnectorParams)

37:     function deposit(uint256 amountIn) external onlyManager nonReentrant {

89:     receive() external payable { }

91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L17), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L20), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L37), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L89), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

37:     event Stake(uint256 amount, uint256 duration, bool doDelegation);

38:     event Unstake(uint256 lockupId);

39:     event AddLiquidityInMaverickPool(MavericAddLiquidityParams p);

40:     event RemoveLiquidityFromMaverickPool(MavericRemoveLiquidityParams p);

41:     event ClaimBoostedPositionRewards(IMaverickReward rewardContract);

43:     constructor(address _mav, address _veMav, address mr, address pi, BaseConnectorCP memory baseCP)

56:     receive() external payable { }

64:     function stake(uint256 amount, uint256 duration, bool doDelegation) external onlyManager nonReentrant {

78:     function unstake(uint256 lockupId) external onlyManager nonReentrant {

91:     function addLiquidityInMaverickPool(MavericAddLiquidityParams calldata p) external onlyManager nonReentrant {

115:     function removeLiquidityFromMaverickPool(MavericRemoveLiquidityParams calldata p)

137:     function claimBoostedPositionRewards(IMaverickReward rewardContract) external onlyManager nonReentrant {

149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L41), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L43), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L56), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L64), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L78), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L91), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L115), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L137), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

8: contract MorphoBlueConnector is BaseConnector {

17:     event Supply(uint256 amount, Id id, bool sOrC);

18:     event Withdraw(uint256 amount, Id id, bool sOrC);

19:     event Borrow(uint256 amount, Id id);

20:     event Repay(uint256 amount, Id id);

23:     constructor(address MB, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

137:     function convertCToL(uint256 amount, address marketOracle, address collateral) public view returns (uint256) {

141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L20), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L23), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L137), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

8: contract PancakeswapConnector is UNIv3Connector {

14:     event SendPositionToMasterChef(uint256 tokenId);

15:     event UpdatePosition(uint256 tokenId);

16:     event Withdraw(uint256 tokenId);

19:     constructor(address MC, address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L16), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L19)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

12: contract PendleConnector is BaseConnector {

35:     event Supply(address market, uint256 amount);

36:     event MintPTAndYT(address market, uint256 syAmount);

37:     event DepositIntoMarket(address market, uint256 SYamount, uint256 PTamount);

38:     event DepositIntoPenpie(address market, uint256 amount);

39:     event WithdrawFromPenpie(address market, uint256 amount);

40:     event SwapYTForPT(address market, uint256 exactYTIn, uint256 min, ApproxParams guess);

41:     event SwapYTForSY(address market, uint256 exactYTIn, uint256 min, LimitOrderData orderData);

42:     event SwapExactPTForSY(address market, uint256 exactPTIn, bytes swapData, uint256 minSY);

43:     event BurnLP(address market, uint256 amount);

44:     event DecreasePosition(address market, uint256 amount, bool closePosition);

45:     event ClaimRewards(address market);

311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L41), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L42), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L43), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L44), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L45), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

11: contract PrismaConnector is BaseConnector {

16:     event OpenTrove(address zap, address tm, uint256 maxFee, uint256 dAmount, uint256 bAmount);

17:     event AddColl(address zap, address tm, uint256 amountIn);

18:     event AdjustTrove(address zap, address tm, uint256 mFee, uint256 wAmount, uint256 bAmount, bool isBorrowing);

19:     event CloseTrove(address zap, address troveManager);

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L19)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

20:     constructor(address _SNXCoreProxy, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

25:     function createAccount() public onlyManager {

30:     function deposit(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

46:     function withdraw(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

68:     function delegateIntoPreferredPool(

81:     function delegateIntoApprovedPool(

94:     function claimRewards(uint128 accountId, uint128 poolId, address collateralType, address distributor)

102:     function mintOrBurnSUSD(

121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L20), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L25), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L30), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L46), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L81), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L94), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L102), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

8: contract SiloConnector is BaseConnector {

12:     event Deposit(address siloToken, address dToken, uint256 amount, bool oC);

13:     event Withdraw(address siloToken, address wToken, uint256 amount, bool oC, bool closePosition);

14:     event Borrow(address siloToken, address bToken, uint256 amount);

15:     event Repay(address siloToken, address rToken, uint256 amount);

17:     constructor(address SR, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

71:     function getData(address siloToken)

109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

130:     function isSiloEmpty(ISilo silo) public view returns (bool) {

143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L17), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L71), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L130), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

19: contract StargateConnector is BaseConnector {

28:     event DepositIntoStargatePool(StargateRequest depositRequest);

29:     event WithdrawFromStargatePool(StargateRequest withdrawRequest);

30:     event ClaimStargateRewards(uint256 poolId);

33:     constructor(address lpStacking, address _stargateRouter, BaseConnectorCP memory baseConnectorParams)

110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L30), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L33), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

21:     event OpenPosition(MintParams p, uint256 tokenId);

22:     event DecreasePosition(DecreaseLiquidityParams p);

23:     event IncreasePosition(IncreaseLiquidityParams p);

24:     event CollectFees(uint256 tokenId);

27:     constructor(address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

122:     function _collectFees(uint256 tokenId) internal returns (uint256 amount0, uint256 amount1) {

127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L24), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L27), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L122), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/governance/Keepers.sol

18:     event Execute(address indexed destination, bytes data, uint256 gasLimit, address executor, uint256 deadline);

19:     event UpdateOwners(address[] owners, bool[] addOrRemove);

20:     event UpdateThreshold(uint8 threshold);

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L20)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

6: contract NoyaGovernanceBase {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L6)]


```solidity
File: ./contracts/governance/TimeLock.sol

6: contract NoyaTimeLock is TimelockController {

7:     constructor(uint256 minDelay, address[] memory proposers, address[] memory executors, address owner)

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L7)]


```solidity
File: ./contracts/governance/Watchers.sol

6: contract Watchers is Keepers {

7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

8:     function verifyRemoveLiquidity(uint256 withdrawAmount, uint256 sentAmount, bytes memory data) external view { }

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L8)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

33:     constructor(BaseConnectorCP memory params) NoyaGovernanceBase(params.registry, params.vaultId) {

135:     function _updateTokenInRegistry(address token, bool remove) internal {

221:     function _executeSwap(SwapRequest memory swapRequest) internal returns (uint256 amountOut) {

253:     function _getValue(address token, address baseToken, uint256 amount) internal view returns (uint256) {

263:     function _getUnderlyingTokens(uint256, bytes memory) public view virtual returns (address[] memory) {

267:     function _addLiquidity(address[] memory, uint256[] memory, bytes memory) internal virtual returns (bool) {

271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

285:     function _revokeApproval(address _token, address _spender) internal virtual {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L33), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L135), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L221), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L253), [263](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L263), [267](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L267), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271), [285](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L285)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

14: contract ConnectorMock2 {

22:     constructor(address _registry, uint256 _vaultId) {

27:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)

40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

51:     function updatePositionToRegistryUsingType(bytes32 _positionId, bytes memory data, bool remove) external {

59:     function addPositionToRegistryUsingType(uint256 _positionType, bytes memory data) external {

65:     function addPositionToRegistry(bytes memory data) external {

71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

79:     function _updateTokenInRegistry(address token, bool remove) internal {

91:     function _updateTokenInRegistry(address token) internal {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L14), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L22), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L27), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L51), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L59), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L65), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L79), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L91)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

18: contract LZHelperReceiver is OAppReceiver {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

19: contract LZHelperSender is OAppSender {

27:     receive() external payable { }

29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

40:     function _payNative(uint256 amount) internal override returns (uint256) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L27), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L40)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

24:     event UpdateChainInfo(uint256 chainId, address destinationAddress);

25:     event UpdateBridgeTransactionApproval(bytes32 transactionHash, uint256 timestamp);

26:     event StartBridgeTransaction(BridgeRequest bridgeRequest, bytes32 transactionHash);

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L26)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

8: contract OmnichainManagerBaseChain is OmnichainLogic {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

10: contract OmnichainManagerNormalChain is OmnichainLogic {

11:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

19:     function getTVL() public view returns (uint256) {

28:     function updateTVLInfo() external onlyManager {

33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L11), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L19), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L28), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

19:     event SetValueOracle(address _valueOracle);

20:     event SetSlippageTolerance(address _inputToken, address _outputToken, uint256 _slippageTolerance);

21:     event AddEligibleUser(address _user);

22:     event BridgeExecutionCompleted(BridgeRequest _bridgeRequest);

24:     modifier onlyEligibleUser() {

29:     modifier onlyExistingRoute(uint256 _routeId) {

34:     constructor(address[] memory usersAddresses, address _valueOracle, PositionRegistry _registry, uint256 _vaultId)

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L24), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L29), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L34)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

20:     event AddedHandler(address _handler, bool state);

21:     event AddedChain(uint256 _chainId, bool state);

22:     event AddedBridgeBlacklist(string bridgeName, bool state);

23:     event Bridged(address bridge, address token, uint256 amount, bytes data);

24:     event Rescued(address token, address userAddress, uint256 amount);

27:     constructor(address swapHandler, address _lifi) Ownable2Step() Ownable(msg.sender) {

34:     modifier onlyHandler() {

165:     function _forward(IERC20 token, address from, uint256 amount, address caller, bytes calldata data, uint256 routeId)

185:     function _setAllowance(IERC20 token, address spender, uint256 amount) internal {

189:     function _isNative(IERC20 token) internal pure returns (bool isNative) {

193:     function rescueFunds(address token, address userAddress, uint256 amount) external onlyOwner {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L24), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L27), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L34), [165](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L165), [185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L185), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L189), [193](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L193)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

7: library TVLHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L7)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

20:     event UpdatedDefaultPriceSource(address[] baseCurrencies, INoyaValueOracle[] oracles);

21:     event UpdatedAssetPriceSource(address[] asset, address[] baseToken, address[] oracle);

22:     event UpdatedPriceRoute(address asset, address baseToken, address[] s);

24:     modifier onlyMaintainer() {

29:     constructor(PositionRegistry _registry) {

61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {

81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)

95:     function _getValue(address quotingToken, address baseToken, uint256 amount) internal view returns (uint256) {

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L24), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L29), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L95)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

10: contract ChainlinkOracleConnector is INoyaValueOracle {

31:     event AssetSourceUpdated(address indexed asset, address indexed baseToken, address indexed source);

32:     event ChainlinkPriceAgeThresholdUpdated(uint256 newThreshold);

41:     modifier onlyMaintainer() {

46:     constructor(address _reg) {

56:     function updateChainlinkPriceAgeThreshold(uint256 _chainlinkPriceAgeThreshold) external onlyMaintainer {

70:     function setAssetSources(address[] calldata assets, address[] calldata baseTokens, address[] calldata sources)

89:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

115:     function getValueFromChainlinkFeed(

143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L32), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L46), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L56), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L70), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L89), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L115), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

21:     event NewPeriod(uint32 period);

22:     event PoolsForAsset(address indexed asset, address indexed base, address indexed pool);

24:     modifier onlyMaintainer() {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L24)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

4: contract WETH_Oracle {

5:     function latestRoundData()

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4), [5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L5)]


</details>


<a name="NC-59"></a> 
### [NC-59] Missing NatSpec `@param` from event/function/modifier declarations
Some event definitions have an incomplete NatSpec: add a `@param` notation to improve the code documentation.

<details>
<summary>
There are <b>265</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit missing @param for `p`
94:     constructor(AccountingManagerConstructorParams memory p)
            ERC4626(IERC20(p._baseTokenAddress))
            ERC20(p._name, p._symbol)
            NoyaGovernanceBase(PositionRegistry(p._registry), p._vaultId)
        {

/// @audit missing @param for `_valueOracle`
124:     function updateValueOracle(INoyaValueOracle _valueOracle) public onlyMaintainer {

/// @audit missing @param for `token`
/// @audit missing @param for `amount`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_data`
150:     function sendTokensToTrustedAddress(address token, uint256 amount, address _caller, bytes calldata _data)
             external
             returns (uint256)
         {

/// @audit missing @param for `from`
/// @audit missing @param for `to`
/// @audit missing @param for `amount`
185:     function _update(address from, address to, uint256 amount) internal override {

/// @audit missing @param for `receiver`
/// @audit missing @param for `amount`
/// @audit missing @param for `referrer`
200:     function deposit(address receiver, uint256 amount, address referrer) public nonReentrant whenNotPaused {

/// @audit missing @param for `maxIterations`
226:     function calculateDepositShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

/// @audit missing @param for `amount`
543:     function burnShares(uint256 amount) public {

/// @audit missing @param for `retrieveData`
548:     function retrieveTokensForWithdraw(RetrieveData[] calldata retrieveData) public onlyManager nonReentrant {

/// @audit missing @param for `depositOrWithdraw`
/// @audit missing @param for `items`
596:     function getQueueItems(bool depositOrWithdraw, uint256[] memory items)
             public
             view
             returns (DepositRequest[] memory depositData, WithdrawRequest[] memory withdrawData)
         {

/// @audit missing @param for `position`
/// @audit missing @param for `base`
632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

/// @audit missing @param for `token`
/// @audit missing @param for `base`
/// @audit missing @param for `amount`
642:     function _getValue(address token, address base, uint256 amount) internal view returns (uint256) {

/// @audit missing @param for `positionTypeId`
/// @audit missing @param for `data`
649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

/// @audit missing @param for `_depositLimitPerTransaction`
/// @audit missing @param for `_depositTotalAmount`
667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {

/// @audit missing @param for `_depositWaitingTime`
673:     function changeDepositWaitingTime(uint256 _depositWaitingTime) public onlyMaintainer {

/// @audit missing @param for `_withdrawWaitingTime`
678:     function changeWithdrawWaitingTime(uint256 _withdrawWaitingTime) public onlyMaintainer {

/// @audit missing @param for `token`
/// @audit missing @param for `amount`
683:     function rescue(address token, uint256 amount) public onlyEmergency nonReentrant {

/// @audit missing @param for `shares`
/// @audit missing @param for `receiver`
693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

/// @audit missing @param for `assets`
/// @audit missing @param for `receiver`
/// @audit missing @param for `owner`
697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

/// @audit missing @param for `shares`
/// @audit missing @param for `receiver`
/// @audit missing @param for `shareOwner`
701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

/// @audit missing @param for `assets`
/// @audit missing @param for `receiver`
705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L94), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L124), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L150), [185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L185), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L200), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L226), [543](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L543), [548](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L548), [596](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L596), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [642](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L642), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649), [667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667), [673](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L673), [678](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L678), [683](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L683), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

12:     event ManagementFeeReceived(address indexed token, uint256 amount);

/// @audit missing @param for `_accountingManager`
/// @audit missing @param for `_baseToken`
/// @audit missing @param for `_receiver`
14:     constructor(address _accountingManager, address _baseToken, address _receiver) Ownable(msg.sender) {

/// @audit missing @param for `amount`
23:     function withdrawShares(uint256 amount) external onlyOwner {

/// @audit missing @param for `amount`
27:     function burnShares(uint256 amount) external onlyOwner {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L12), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L14), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L23), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L27)]


```solidity
File: ./contracts/accountingManager/Registry.sol

32:     modifier onlyVaultMaintainer(uint256 _vaultId) {

39:     modifier onlyVaultMaintainerWithoutTimeLock(uint256 _vaultId) {

46:     modifier onlyVaultGoverner(uint256 _vaultId) {

53:     modifier vaultExists(uint256 _vaultId) {

/// @audit missing @param for `_flashLoan`
66:     constructor(address _governer, address _maintainer, address _emergency, address _flashLoan) {

/// @audit missing @param for `_maxNumHoldingPositions`
79:     function setMaxNumHoldingPositions(uint256 _maxNumHoldingPositions) external onlyRole(MAINTAINER_ROLE) {

/// @audit missing @param for `_flashLoan`
84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_accountingManager`
/// @audit missing @param for `_baseToken`
/// @audit missing @param for `_governer`
/// @audit missing @param for `_maintainer`
/// @audit missing @param for `_maintainerWithoutTimelock`
/// @audit missing @param for `_keeperContract`
/// @audit missing @param for `_watcher`
/// @audit missing @param for `_emergency`
/// @audit missing @param for `_trustedTokens`
106:     function addVault(
             uint256 vaultId,
             address _accountingManager,
             address _baseToken,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency,
             address[] calldata _trustedTokens
         ) external onlyRole(MAINTAINER_ROLE) {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_governer`
/// @audit missing @param for `_maintainer`
/// @audit missing @param for `_maintainerWithoutTimelock`
/// @audit missing @param for `_keeperContract`
/// @audit missing @param for `_watcher`
/// @audit missing @param for `_emergency`
158:     function changeVaultAddresses(
             uint256 vaultId,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency
         ) external onlyVaultGoverner(vaultId) vaultExists(vaultId) {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_connectorAddresses`
/// @audit missing @param for `_enableds`
188:     function addConnector(uint256 vaultId, address[] calldata _connectorAddresses, bool[] calldata _enableds)
             external
             onlyVaultMaintainer(vaultId)
             vaultExists(vaultId)
         {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_connectorAddress`
/// @audit missing @param for `_tokens`
/// @audit missing @param for `trusted`
207:     function updateConnectorTrustedTokens(
             uint256 vaultId,
             address _connectorAddress,
             address[] calldata _tokens,
             bool trusted
         ) external onlyVaultMaintainer(vaultId) vaultExists(vaultId) {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_positionId`
224:     function getPositionBP(uint256 vaultId, bytes32 _positionId) public view returns (PositionBP memory) {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_positionTypeId`
/// @audit missing @param for `calculatorConnector`
/// @audit missing @param for `onlyOwner`
/// @audit missing @param for `_isDebt`
/// @audit missing @param for `_data`
/// @audit missing @param for `_additionalData`
238:     function addTrustedPosition(
             uint256 vaultId,
             uint256 _positionTypeId,
             address calculatorConnector,
             bool onlyOwner,
             bool _isDebt,
             bytes calldata _data,
             bytes calldata _additionalData
         ) external onlyVaultMaintainerWithoutTimeLock(vaultId) vaultExists(vaultId) nonReentrant {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_positionId`
266:     function removeTrustedPosition(uint256 vaultId, bytes32 _positionId)
             external
             onlyVaultMaintainer(vaultId)
             vaultExists(vaultId)
         {

/// @audit missing @param for `vault`
/// @audit missing @param for `vaultId`
/// @audit missing @param for `_positionId`
/// @audit missing @param for `d`
/// @audit missing @param for `AD`
/// @audit missing @param for `index`
/// @audit missing @param for `holdingPositionId`
293:     function updateHoldingPosition(
             Vault storage vault,
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata d,
             bytes calldata AD,
             uint256 index,
             bytes32 holdingPositionId
         ) internal returns (uint256) {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_positionId`
/// @audit missing @param for `_data`
/// @audit missing @param for `additionalData`
/// @audit missing @param for `removePosition`
335:     function updateHoldingPosition(
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata _data,
             bytes calldata additionalData,
             bool removePosition
         ) public vaultExists(vaultId) returns (uint256) {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_positionId`
/// @audit missing @param for `_data`
/// @audit missing @param for `additionalData`
/// @audit missing @param for `removePosition`
/// @audit missing @param for `positionTimestamp`
370:     function updateHoldingPostionWithTime(
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata _data,
             bytes calldata additionalData,
             bool removePosition,
             uint256 positionTimestamp
         ) external vaultExists(vaultId) {

/// @audit missing @param for `vaultId`
/// @audit missing @param for `_positionId`
/// @audit missing @param for `_connector`
/// @audit missing @param for `data`
394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)
             public
             view
             returns (uint256)
         {

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L32), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L39), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L46), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L53), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L66), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L158), [188](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L188), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L207), [224](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L224), [238](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L238), [266](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L266), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L335), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L370), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

26:     event Supply(address supplyToken, uint256 amount);

27:     event Borrow(address borrowToken, uint256 amount);

28:     event Repay(address repayToken, uint256 amount, uint256 i);

29:     event RepayWithCollateral(address repayToken, uint256 amount, uint256 i);

30:     event WithdrawCollateral(address collateral, uint256 amount);

/// @audit missing @param for `_pool`
/// @audit missing @param for `_poolBaseToken`
/// @audit missing @param for `baseConnectorParams`
33:     constructor(address _pool, address _poolBaseToken, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

/// @audit missing @param for `supplyToken`
/// @audit missing @param for `amount`
46:     function supply(address supplyToken, uint256 amount) external onlyManager nonReentrant {

/// @audit missing @param for `asset`
/// @audit missing @param for `amount`
/// @audit missing @param for `i`
81:     function repay(address asset, uint256 amount, uint256 i) external onlyManager nonReentrant {

/// @audit missing @param for `_amount`
/// @audit missing @param for `i`
/// @audit missing @param for `_borrowAsset`
88:     function repayWithCollateral(uint256 _amount, uint256 i, address _borrowAsset) external onlyManager {

/// @audit missing @param for `base`
114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L26), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L30), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L33), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L46), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L81), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L88), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

36:     event Supply(address pool, uint256 amount0, uint256 amount1);

37:     event Withdraw(address pool, uint256 amountLiquidity);

/// @audit missing @param for `_router`
/// @audit missing @param for `_voter`
/// @audit missing @param for `baseConnectorParams`
40:     constructor(address _router, address _voter, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

/// @audit missing @param for `pool`
/// @audit missing @param for `liquidity`
100:     function stake(address pool, uint256 liquidity) public onlyManager nonReentrant {

/// @audit missing @param for `pool`
/// @audit missing @param for `liquidity`
106:     function unstake(address pool, uint256 liquidity) public onlyManager nonReentrant {

/// @audit missing @param for `pool`
111:     function claim(address pool) public onlyManager nonReentrant {

/// @audit missing @param for `p`
/// @audit missing @param for `data`
117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L37), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L40), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L100), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L106), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L111), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

34:     event OpenPosition(

37:     event DecreasePosition(DecreasePositionParams p);

/// @audit missing @param for `_balancerVault`
/// @audit missing @param for `bal`
/// @audit missing @param for `aura`
/// @audit missing @param for `baseConnectorParams`
42:     constructor(address _balancerVault, address bal, address aura, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

/// @audit missing @param for `rewardsPools`
53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

/// @audit missing @param for `poolId`
/// @audit missing @param for `amounts`
/// @audit missing @param for `amountsWithoutBPT`
/// @audit missing @param for `minBPT`
/// @audit missing @param for `auraAmount`
64:     function openPosition(
            bytes32 poolId,
            uint256[] memory amounts,
            uint256[] memory amountsWithoutBPT,
            uint256 minBPT,
            uint256 auraAmount
        ) public onlyManager nonReentrant {

/// @audit missing @param for `poolId`
/// @audit missing @param for `_amount`
109:     function depositIntoAuraBooster(bytes32 poolId, uint256 _amount) public onlyManager nonReentrant {

/// @audit missing @param for `p`
115:     function decreasePosition(DecreasePositionParams memory p) public onlyManager nonReentrant {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

/// @audit missing @param for `pool`
175:     function totalLpBalanceOf(PoolInfo memory pool) public view returns (uint256) {

/// @audit missing @param for `poolId`
184:     function totalLpBalanceOf(bytes32 poolId) public view returns (uint256) {

/// @audit missing @param for `pooId`
189:     function _getPoolInfo(bytes32 pooId) internal view returns (PoolInfo memory, bytes32) {

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L34), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L37), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L42), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L64), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L109), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L115), [162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162), [175](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L175), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L184), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L189)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

21:     event MakeFlashLoan(IERC20[] tokens, uint256[] amounts);

22:     event ReceiveFlashLoan(IERC20[] tokens, uint256[] amounts, uint256[] feeAmounts, bytes userData);

/// @audit missing @param for `_balancerVault`
/// @audit missing @param for `_registry`
24:     constructor(address _balancerVault, PositionRegistry _registry) {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L24)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit missing @param for `_router`
/// @audit missing @param for `_factory`
/// @audit missing @param for `baseCP`
36:     constructor(address _router, address _factory, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

/// @audit missing @param for `p`
43:     function addLiquidityInCamelotPool(CamelotAddLiquidityParams calldata p) external onlyManager nonReentrant {

/// @audit missing @param for `p`
65:     function removeLiquidityFromCamelotPool(CamelotRemoveLiquidityParams calldata p)
            external
            onlyManager
            nonReentrant
        {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing @param for `id`
/// @audit missing @param for `data`
99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L36), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L43), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L65), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

10:     event Supply(address market, address asset, uint256 amount);

11:     event WithdrawOrBorrow(address market, address asset, uint256 amount);

12:     event ClaimRewards(address rewardContract, address market);

/// @audit missing @param for `baseConnectorParams`
17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

/// @audit missing @param for `rewardContract`
/// @audit missing @param for `market`
63:     function claimRewards(address rewardContract, address market) external onlyManager nonReentrant {

/// @audit missing @param for `comet`
74:     function getAccountHealthFactor(IComet comet) public view returns (uint256) {

/// @audit missing @param for `comet`
84:     function getBorrowBalanceInBase(IComet comet) public view returns (uint256 borrowBalanceInVirtualBase) {

/// @audit missing @param for `comet`
/// @audit missing @param for `riskAdjusted`
95:     function getCollBlanace(IComet comet, bool riskAdjusted) public view returns (uint256 CollValue) {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

/// @audit missing @param for `data`
134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

/// @audit missing @param for `assetsIn`
/// @audit missing @param for `assetOffset`
141:     function isInAsset(uint16 assetsIn, uint8 assetOffset) public pure returns (bool) {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L12), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L17), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L63), [74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L74), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L84), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L95), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L141)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

33:     event OpenCurvePosition(address pool, uint256 depositIndex, uint256 amount, uint256 minAmount);

34:     event DecreaseCurvePosition(address pool, uint256 withdrawIndex, uint256 amount, uint256 minAmount);

35:     event WithdrawFromConvexBooster(uint256 pid, uint256 amount);

36:     event WithdrawFromConvexRewardPool(address pool, uint256 amount);

37:     event WithdrawFromGauge(address pool, uint256 amount);

38:     event WithdrawFromPrisma(address depostiToken, uint256 amount);

39:     event HarvestRewards(address[] gauges);

40:     event HarvestPrismaRewards(address[] pools);

41:     event HarvestConvexRewards(address[] rewardsPools);

/// @audit missing @param for `_convexBooster`
/// @audit missing @param for `cvx`
/// @audit missing @param for `crv`
/// @audit missing @param for `prisma`
/// @audit missing @param for `baseConnectorParams`
45:     constructor(
            address _convexBooster,
            address cvx,
            address crv,
            address prisma,
            BaseConnectorCP memory baseConnectorParams
        ) BaseConnector(baseConnectorParams) {

/// @audit missing @param for `pool`
258:     function _getPoolInfo(address pool) internal view returns (PoolInfo memory) {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L33), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L34), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L41), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L45), [258](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L258), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit missing @param for `_depositWithdrawalProxy`
/// @audit missing @param for `_dolomiteMargin`
/// @audit missing @param for `_borrowPositionProxy`
/// @audit missing @param for `baseConnectorParams`
18:     constructor(
            address _depositWithdrawalProxy,
            address _dolomiteMargin,
            address _borrowPositionProxy,
            BaseConnectorCP memory baseConnectorParams
        ) BaseConnector(baseConnectorParams) {

/// @audit missing @param for `marketId`
/// @audit missing @param for `_amount`
30:     function deposit(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

/// @audit missing @param for `marketId`
/// @audit missing @param for `_amount`
43:     function withdraw(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

/// @audit missing @param for `marketId`
/// @audit missing @param for `_amountWei`
/// @audit missing @param for `accountId`
58:     function openBorrowPosition(uint256 marketId, uint256 _amountWei, uint256 accountId)
            public
            onlyManager
            nonReentrant
        {

/// @audit missing @param for `accountId`
/// @audit missing @param for `marketId`
/// @audit missing @param for `_amountWei`
/// @audit missing @param for `borrowOrRepay`
77:     function transferBetweenAccounts(uint256 accountId, uint256 marketId, uint256 _amountWei, bool borrowOrRepay)
            public
            onlyManager
            nonReentrant
        {

/// @audit missing @param for `marketIds`
/// @audit missing @param for `accountId`
98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L18), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L30), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L43), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L58), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L77), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

24:     event BorrowAndSupply(address pool, uint256 borrowAmount, uint256 collateralAmount);

25:     event Withdraw(address pool, uint256 withdrawAmount);

26:     event Repay(address pool, uint256 sharesToRepay);

/// @audit missing @param for `baseConnectorParams`
29:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

/// @audit missing @param for `p`
/// @audit missing @param for `data`
142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L26), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L29), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

11:     event OpenAccount(address facade, uint256 ref);

12:     event CloseAccount(address facade, address creditAccount);

13:     event ExecuteCommands(

/// @audit missing @param for `baseConnectorParams`
17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L13), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L17)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

15:     event Deposit(uint256 amountIn);

16:     event RequestWithdrawals(uint256 amount);

17:     event ClaimWithdrawal(uint256 requestId);

/// @audit missing @param for `_lido`
/// @audit missing @param for `_lidoW`
/// @audit missing @param for `_steth`
/// @audit missing @param for `w`
/// @audit missing @param for `baseConnectorParams`
20:     constructor(address _lido, address _lidoW, address _steth, address w, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

/// @audit missing @param for `amountIn`
37:     function deposit(uint256 amountIn) external onlyManager nonReentrant {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L17), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L20), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L37), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

37:     event Stake(uint256 amount, uint256 duration, bool doDelegation);

38:     event Unstake(uint256 lockupId);

39:     event AddLiquidityInMaverickPool(MavericAddLiquidityParams p);

40:     event RemoveLiquidityFromMaverickPool(MavericRemoveLiquidityParams p);

41:     event ClaimBoostedPositionRewards(IMaverickReward rewardContract);

/// @audit missing @param for `_mav`
/// @audit missing @param for `_veMav`
/// @audit missing @param for `mr`
/// @audit missing @param for `pi`
/// @audit missing @param for `baseCP`
43:     constructor(address _mav, address _veMav, address mr, address pi, BaseConnectorCP memory baseCP)
            BaseConnector(baseCP)
        {

/// @audit missing @param for `amount`
/// @audit missing @param for `duration`
/// @audit missing @param for `doDelegation`
64:     function stake(uint256 amount, uint256 duration, bool doDelegation) external onlyManager nonReentrant {

/// @audit missing @param for `lockupId`
78:     function unstake(uint256 lockupId) external onlyManager nonReentrant {

/// @audit missing @param for `p`
91:     function addLiquidityInMaverickPool(MavericAddLiquidityParams calldata p) external onlyManager nonReentrant {

/// @audit missing @param for `p`
115:     function removeLiquidityFromMaverickPool(MavericRemoveLiquidityParams calldata p)
             external
             onlyManager
             nonReentrant
         {

/// @audit missing @param for `rewardContract`
137:     function claimBoostedPositionRewards(IMaverickReward rewardContract) external onlyManager nonReentrant {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing @param for `id`
/// @audit missing @param for `data`
161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L41), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L43), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L64), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L78), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L91), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L115), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L137), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

17:     event Supply(uint256 amount, Id id, bool sOrC);

18:     event Withdraw(uint256 amount, Id id, bool sOrC);

19:     event Borrow(uint256 amount, Id id);

20:     event Repay(uint256 amount, Id id);

/// @audit missing @param for `MB`
/// @audit missing @param for `baseCP`
23:     constructor(address MB, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing @param for `amount`
/// @audit missing @param for `marketOracle`
/// @audit missing @param for `collateral`
137:     function convertCToL(uint256 amount, address marketOracle, address collateral) public view returns (uint256) {

/// @audit missing @param for `data`
141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L20), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L23), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L137), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

14:     event SendPositionToMasterChef(uint256 tokenId);

15:     event UpdatePosition(uint256 tokenId);

16:     event Withdraw(uint256 tokenId);

/// @audit missing @param for `MC`
/// @audit missing @param for `_positionManager`
/// @audit missing @param for `_factory`
/// @audit missing @param for `baseConnectorParams`
19:     constructor(address MC, address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)
            UNIv3Connector(_positionManager, _factory, baseConnectorParams)
        {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L16), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L19)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

35:     event Supply(address market, uint256 amount);

36:     event MintPTAndYT(address market, uint256 syAmount);

37:     event DepositIntoMarket(address market, uint256 SYamount, uint256 PTamount);

38:     event DepositIntoPenpie(address market, uint256 amount);

39:     event WithdrawFromPenpie(address market, uint256 amount);

40:     event SwapYTForPT(address market, uint256 exactYTIn, uint256 min, ApproxParams guess);

41:     event SwapYTForSY(address market, uint256 exactYTIn, uint256 min, LimitOrderData orderData);

42:     event SwapExactPTForSY(address market, uint256 exactPTIn, bytes swapData, uint256 minSY);

43:     event BurnLP(address market, uint256 amount);

44:     event DecreasePosition(address market, uint256 amount, bool closePosition);

45:     event ClaimRewards(address market);

/// @audit missing @param for `data`
311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L41), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L42), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L43), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L44), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L45), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

16:     event OpenTrove(address zap, address tm, uint256 maxFee, uint256 dAmount, uint256 bAmount);

17:     event AddColl(address zap, address tm, uint256 amountIn);

18:     event AdjustTrove(address zap, address tm, uint256 mFee, uint256 wAmount, uint256 bAmount, bool isBorrowing);

19:     event CloseTrove(address zap, address troveManager);

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L19)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit missing @param for `_SNXCoreProxy`
/// @audit missing @param for `baseConnectorParams`
20:     constructor(address _SNXCoreProxy, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

/// @audit missing @param for `_token`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_accountId`
30:     function deposit(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

/// @audit missing @param for `_token`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_accountId`
46:     function withdraw(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

/// @audit missing @param for `_accountId`
/// @audit missing @param for `collateralType`
/// @audit missing @param for `newCollateralAmountD18`
/// @audit missing @param for `leverage`
68:     function delegateIntoPreferredPool(
            uint128 _accountId,
            address collateralType,
            uint256 newCollateralAmountD18,
            uint256 leverage
        ) public onlyManager {

/// @audit missing @param for `poolIndex`
/// @audit missing @param for `_accountId`
/// @audit missing @param for `collateralType`
/// @audit missing @param for `newCollateralAmountD18`
/// @audit missing @param for `leverage`
81:     function delegateIntoApprovedPool(
            uint256 poolIndex,
            uint128 _accountId,
            address collateralType,
            uint256 newCollateralAmountD18,
            uint256 leverage
        ) public onlyManager {

/// @audit missing @param for `accountId`
/// @audit missing @param for `poolId`
/// @audit missing @param for `collateralType`
/// @audit missing @param for `distributor`
94:     function claimRewards(uint128 accountId, uint128 poolId, address collateralType, address distributor)
            public
            onlyManager
        {

/// @audit missing @param for `_amount`
/// @audit missing @param for `_accountId`
/// @audit missing @param for `poolId`
/// @audit missing @param for `collateralType`
/// @audit missing @param for `mintOrBurn`
102:     function mintOrBurnSUSD(
             uint256 _amount,
             uint128 _accountId,
             uint128 poolId,
             address collateralType,
             bool mintOrBurn
         ) public onlyManager {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L20), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L30), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L46), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L81), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L94), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L102), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

12:     event Deposit(address siloToken, address dToken, uint256 amount, bool oC);

13:     event Withdraw(address siloToken, address wToken, uint256 amount, bool oC, bool closePosition);

14:     event Borrow(address siloToken, address bToken, uint256 amount);

15:     event Repay(address siloToken, address rToken, uint256 amount);

/// @audit missing @param for `SR`
/// @audit missing @param for `baseConnectorParams`
17:     constructor(address SR, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

/// @audit missing @param for `siloToken`
71:     function getData(address siloToken)
            public
            view
            returns (uint256 userLTV, uint256 LiquidationThreshold, bool isSolvent)
        {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing @param for `silo`
130:     function isSiloEmpty(ISilo silo) public view returns (bool) {

/// @audit missing @param for `data`
143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L17), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L71), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L130), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

28:     event DepositIntoStargatePool(StargateRequest depositRequest);

29:     event WithdrawFromStargatePool(StargateRequest withdrawRequest);

30:     event ClaimStargateRewards(uint256 poolId);

/// @audit missing @param for `lpStacking`
/// @audit missing @param for `_stargateRouter`
/// @audit missing @param for `baseConnectorParams`
33:     constructor(address lpStacking, address _stargateRouter, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing @param for `data`
123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L30), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L33), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

21:     event OpenPosition(MintParams p, uint256 tokenId);

22:     event DecreasePosition(DecreaseLiquidityParams p);

23:     event IncreasePosition(IncreaseLiquidityParams p);

24:     event CollectFees(uint256 tokenId);

/// @audit missing @param for `_positionManager`
/// @audit missing @param for `_factory`
/// @audit missing @param for `baseConnectorParams`
27:     constructor(address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)
            BaseConnector(baseConnectorParams)
        {

/// @audit missing @param for `tokenId`
122:     function _collectFees(uint256 tokenId) internal returns (uint256 amount0, uint256 amount1) {

/// @audit missing @param for `p`
/// @audit missing @param for `base`
127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit missing @param for `data`
152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L24), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L27), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L122), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/governance/Keepers.sol

18:     event Execute(address indexed destination, bytes data, uint256 gasLimit, address executor, uint256 deadline);

19:     event UpdateOwners(address[] owners, bool[] addOrRemove);

20:     event UpdateThreshold(uint8 threshold);

/// @audit missing @param for `deadline`
84:     function execute(
            address destination,
            bytes calldata data,
            uint256 gasLimit,
            address executor,
            bytes32[] memory sigR,
            bytes32[] memory sigS,
            uint8[] memory sigV,
            uint256 deadline
        ) public {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L20), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L84)]


```solidity
File: ./contracts/governance/TimeLock.sol

/// @audit missing @param for `minDelay`
/// @audit missing @param for `proposers`
/// @audit missing @param for `executors`
/// @audit missing @param for `owner`
7:     constructor(uint256 minDelay, address[] memory proposers, address[] memory executors, address owner)
           TimelockController(minDelay, proposers, executors, owner)
       { }

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L7)]


```solidity
File: ./contracts/governance/Watchers.sol

/// @audit missing @param for `_owners`
/// @audit missing @param for `_threshold`
7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

/// @audit missing @param for `withdrawAmount`
/// @audit missing @param for `sentAmount`
/// @audit missing @param for `data`
8:     function verifyRemoveLiquidity(uint256 withdrawAmount, uint256 sentAmount, bytes memory data) external view { }

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L8)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit missing @param for `params`
33:     constructor(BaseConnectorCP memory params) NoyaGovernanceBase(params.registry, params.vaultId) {

/// @audit missing @param for `token`
/// @audit missing @param for `remove`
135:     function _updateTokenInRegistry(address token, bool remove) internal {

/// @audit missing @param for `token`
158:     function _updateTokenInRegistry(address token) internal {

/// @audit missing @param for `swapRequest`
221:     function _executeSwap(SwapRequest memory swapRequest) internal returns (uint256 amountOut) {

/// @audit missing @param for `token`
/// @audit missing @param for `baseToken`
/// @audit missing @param for `amount`
253:     function _getValue(address token, address baseToken, uint256 amount) internal view returns (uint256) {

/// @audit missing @param for `_token`
/// @audit missing @param for `_spender`
/// @audit missing @param for `_amount`
277:     function _approveOperations(address _token, address _spender, uint256 _amount) internal virtual {

/// @audit missing @param for `_token`
/// @audit missing @param for `_spender`
285:     function _revokeApproval(address _token, address _spender) internal virtual {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L33), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L135), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L158), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L221), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L253), [277](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L277), [285](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L285)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit missing @param for `_registry`
/// @audit missing @param for `_vaultId`
22:     constructor(address _registry, uint256 _vaultId) {

/// @audit missing @param for `token`
/// @audit missing @param for `amount`
/// @audit missing @param for `caller`
/// @audit missing @param for `data`
27:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)
            external
            returns (uint256)
        {

/// @audit missing @param for `tokens`
/// @audit missing @param for `amounts`
/// @audit missing @param for `data`
40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

/// @audit missing @param for `_positionId`
/// @audit missing @param for `data`
/// @audit missing @param for `remove`
51:     function updatePositionToRegistryUsingType(bytes32 _positionId, bytes memory data, bool remove) external {

/// @audit missing @param for `_positionType`
/// @audit missing @param for `data`
59:     function addPositionToRegistryUsingType(uint256 _positionType, bytes memory data) external {

/// @audit missing @param for `data`
65:     function addPositionToRegistry(bytes memory data) external {

/// @audit missing @param for `p`
/// @audit missing @param for `baseToken`
71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

/// @audit missing @param for `positionTypeId`
/// @audit missing @param for `data`
75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

/// @audit missing @param for `token`
/// @audit missing @param for `remove`
79:     function _updateTokenInRegistry(address token, bool remove) internal {

/// @audit missing @param for `token`
91:     function _updateTokenInRegistry(address token) internal {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L22), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L27), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L51), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L59), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L65), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L79), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L91)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit missing @param for `_endpoint`
/// @audit missing @param for `_owner`
29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

/// @audit missing @param for `amount`
40:     function _payNative(uint256 amount) internal override returns (uint256) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L40)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

24:     event UpdateChainInfo(uint256 chainId, address destinationAddress);

25:     event UpdateBridgeTransactionApproval(bytes32 transactionHash, uint256 timestamp);

26:     event StartBridgeTransaction(BridgeRequest bridgeRequest, bytes32 transactionHash);

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L26)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit missing @param for `_lzHelper`
/// @audit missing @param for `baseConnectorParams`
11:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)
            OmnichainLogic(_lzHelper, baseConnectorParams)
        { }

/// @audit missing @param for `position`
/// @audit missing @param for `base`
33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L11), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

19:     event SetValueOracle(address _valueOracle);

20:     event SetSlippageTolerance(address _inputToken, address _outputToken, uint256 _slippageTolerance);

21:     event AddEligibleUser(address _user);

22:     event BridgeExecutionCompleted(BridgeRequest _bridgeRequest);

29:     modifier onlyExistingRoute(uint256 _routeId) {

/// @audit missing @param for `usersAddresses`
/// @audit missing @param for `_valueOracle`
/// @audit missing @param for `_registry`
/// @audit missing @param for `_vaultId`
34:     constructor(address[] memory usersAddresses, address _valueOracle, PositionRegistry _registry, uint256 _vaultId)
            NoyaGovernanceBase(_registry, _vaultId)
        {

/// @audit missing @param for `_routeId`
/// @audit missing @param for `enable`
158:     function setEnableRoute(uint256 _routeId, bool enable) external onlyMaintainerOrEmergency {

/// @audit missing @param for `_routeId`
/// @audit missing @param for `addr`
164:     function verifyRoute(uint256 _routeId, address addr) external view onlyExistingRoute(_routeId) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L22), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L29), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L34), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L158), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L164)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

20:     event AddedHandler(address _handler, bool state);

21:     event AddedChain(uint256 _chainId, bool state);

22:     event AddedBridgeBlacklist(string bridgeName, bool state);

23:     event Bridged(address bridge, address token, uint256 amount, bytes data);

24:     event Rescued(address token, address userAddress, uint256 amount);

/// @audit missing @param for `swapHandler`
/// @audit missing @param for `_lifi`
27:     constructor(address swapHandler, address _lifi) Ownable2Step() Ownable(msg.sender) {

/// @audit missing @param for `token`
/// @audit missing @param for `from`
/// @audit missing @param for `amount`
/// @audit missing @param for `caller`
/// @audit missing @param for `data`
/// @audit missing @param for `routeId`
165:     function _forward(IERC20 token, address from, uint256 amount, address caller, bytes calldata data, uint256 routeId)
             internal
             virtual
             nonReentrant
         {

/// @audit missing @param for `token`
/// @audit missing @param for `spender`
/// @audit missing @param for `amount`
185:     function _setAllowance(IERC20 token, address spender, uint256 amount) internal {

/// @audit missing @param for `token`
189:     function _isNative(IERC20 token) internal pure returns (bool isNative) {

/// @audit missing @param for `token`
/// @audit missing @param for `userAddress`
/// @audit missing @param for `amount`
193:     function rescueFunds(address token, address userAddress, uint256 amount) external onlyOwner {

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L24), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L27), [165](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L165), [185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L185), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L189), [193](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L193)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

20:     event UpdatedDefaultPriceSource(address[] baseCurrencies, INoyaValueOracle[] oracles);

21:     event UpdatedAssetPriceSource(address[] asset, address[] baseToken, address[] oracle);

22:     event UpdatedPriceRoute(address asset, address baseToken, address[] s);

/// @audit missing @param for `_registry`
29:     constructor(PositionRegistry _registry) {

/// @audit missing @param for `asset`
/// @audit missing @param for `base`
/// @audit missing @param for `s`
61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {

/// @audit missing @param for `asset`
/// @audit missing @param for `baseToken`
/// @audit missing @param for `amount`
/// @audit missing @param for `sources`
81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)
            internal
            view
            returns (uint256 value)
        {

/// @audit missing @param for `quotingToken`
/// @audit missing @param for `baseToken`
/// @audit missing @param for `amount`
95:     function _getValue(address quotingToken, address baseToken, uint256 amount) internal view returns (uint256) {

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L22), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L29), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L95)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

31:     event AssetSourceUpdated(address indexed asset, address indexed baseToken, address indexed source);

32:     event ChainlinkPriceAgeThresholdUpdated(uint256 newThreshold);

/// @audit missing @param for `_reg`
46:     constructor(address _reg) {

/// @audit missing @param for `_chainlinkPriceAgeThreshold`
56:     function updateChainlinkPriceAgeThreshold(uint256 _chainlinkPriceAgeThreshold) external onlyMaintainer {

/// @audit missing @param for `assets`
/// @audit missing @param for `baseTokens`
/// @audit missing @param for `sources`
70:     function setAssetSources(address[] calldata assets, address[] calldata baseTokens, address[] calldata sources)
            external
            onlyMaintainer
        {

/// @audit missing @param for `asset`
/// @audit missing @param for `baseToken`
/// @audit missing @param for `amount`
89:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

/// @audit missing @param for `source`
/// @audit missing @param for `amountIn`
/// @audit missing @param for `sourceTokenUnit`
/// @audit missing @param for `isInverse`
115:     function getValueFromChainlinkFeed(
             AggregatorV3Interface source,
             uint256 amountIn,
             uint256 sourceTokenUnit,
             bool isInverse
         ) public view returns (uint256) {

/// @audit missing @param for `token`
138:     function getTokenDecimals(address token) public view returns (uint256) {

/// @audit missing @param for `asset`
/// @audit missing @param for `baseToken`
143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L32), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L46), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L56), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L70), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L89), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L115), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L138), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

21:     event NewPeriod(uint32 period);

22:     event PoolsForAsset(address indexed asset, address indexed base, address indexed pool);

/// @audit missing @param for `_registry`
31:     constructor(address _factory, PositionRegistry _registry) {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L22), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L31)]


</details>


<a name="NC-60"></a> 
### [NC-60] Missing NatSpec `@return` from function declaration
Some function definitions have an incomplete NatSpec: add a `@return` notation to improve the code documentation.

<details>
<summary>
There are <b>89</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

150:     function sendTokensToTrustedAddress(address token, uint256 amount, address _caller, bytes calldata _data)
             external
             returns (uint256)
         {

505:     function collectManagementFees() public onlyManager nonReentrant returns (uint256, uint256) {

582:     function getProfit() public view returns (uint256) {

591:     function totalAssets() public view override returns (uint256) {

596:     function getQueueItems(bool depositOrWithdraw, uint256[] memory items)
             public
             view
             returns (DepositRequest[] memory depositData, WithdrawRequest[] memory withdrawData)
         {

616:     function neededAssetsForWithdraw() public view returns (uint256) {

627:     function TVL() public view returns (uint256) {

632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

642:     function _getValue(address token, address base, uint256 amount) internal view returns (uint256) {

649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L150), [505](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L505), [582](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L582), [591](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L591), [596](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L596), [616](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L616), [627](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L627), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [642](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L642), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/accountingManager/Registry.sol

224:     function getPositionBP(uint256 vaultId, bytes32 _positionId) public view returns (PositionBP memory) {

293:     function updateHoldingPosition(
             Vault storage vault,
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata d,
             bytes calldata AD,
             uint256 index,
             bytes32 holdingPositionId
         ) internal returns (uint256) {

335:     function updateHoldingPosition(
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata _data,
             bytes calldata additionalData,
             bool removePosition
         ) public vaultExists(vaultId) returns (uint256) {

394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)
             public
             view
             returns (uint256)
         {

408:     function getHoldingPosition(uint256 vaultId, uint256 i) public view returns (HoldingPI memory) {

416:     function getHoldingPositions(uint256 vaultId) public view returns (HoldingPI[] memory) {

436:     function isPositionTrustedForConnector(uint256 vaultId, bytes32 _positionId, address connector)
             public
             view
             returns (bool)
         {

449:     function getGovernanceAddresses(uint256 vaultId)
             public
             view
             returns (address, address, address, address, address, address)
         {

470:     function isTokenTrusted(uint256 vaultId, address token, address connector) public view returns (bool) {

499:     function isAnActiveConnector(uint256 vaultId, address connectorAddress) public view returns (bool) {

508:     function isPositionDebt(uint256 vaultId, bytes32 _positionId) public view returns (bool) {

516:     function getVaultAddresses(uint256 vaultId) public view returns (address, address) {

525:     function isAddressTrusted(uint256 vaultId, address addr) public view returns (bool) {

```
*Github:* [[224](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L224), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L335), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394), [408](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L408), [416](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L416), [436](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L436), [449](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L449), [470](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L470), [499](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L499), [508](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L508), [516](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L516), [525](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L525)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

175:     function totalLpBalanceOf(PoolInfo memory pool) public view returns (uint256) {

184:     function totalLpBalanceOf(bytes32 poolId) public view returns (uint256) {

189:     function _getPoolInfo(bytes32 pooId) internal view returns (PoolInfo memory, bytes32) {

```
*Github:* [[162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162), [175](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L175), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L184), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L189)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

74:     function getAccountHealthFactor(IComet comet) public view returns (uint256) {

84:     function getBorrowBalanceInBase(IComet comet) public view returns (uint256 borrowBalanceInVirtualBase) {

95:     function getCollBlanace(IComet comet, bool riskAdjusted) public view returns (uint256 CollValue) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

141:     function isInAsset(uint16 assetsIn, uint8 assetOffset) public pure returns (bool) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L74), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L84), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L95), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L141)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

258:     function _getPoolInfo(address pool) internal view returns (PoolInfo memory) {

265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[258](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L258), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

108:     function getHealthFactor(Id _id, Market memory _market) public view returns (uint256) {

118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

137:     function convertCToL(uint256 amount, address marketOracle, address collateral) public view returns (uint256) {

141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L108), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L137), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

71:     function getData(address siloToken)
            public
            view
            returns (uint256 userLTV, uint256 LiquidationThreshold, bool isSolvent)
        {

109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

130:     function isSiloEmpty(ISilo silo) public view returns (bool) {

143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L71), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L130), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

116:     function getCurrentLiquidity(uint256 tokenId) public view returns (uint128, address, address) {

122:     function _collectFees(uint256 tokenId) internal returns (uint256 amount0, uint256 amount1) {

127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L116), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L122), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

221:     function _executeSwap(SwapRequest memory swapRequest) internal returns (uint256 amountOut) {

253:     function _getValue(address token, address baseToken, uint256 amount) internal view returns (uint256) {

263:     function _getUnderlyingTokens(uint256, bytes memory) public view virtual returns (address[] memory) {

267:     function _addLiquidity(address[] memory, uint256[] memory, bytes memory) internal virtual returns (bool) {

271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

```
*Github:* [[221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L221), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L253), [263](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L263), [267](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L267), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

27:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)
            external
            returns (uint256)
        {

71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L27), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

40:     function _payNative(uint256 amount) internal override returns (uint256) {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L40)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

189:     function _isNative(IERC20 token) internal pure returns (bool isNative) {

```
*Github:* [[189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L189)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)
            internal
            view
            returns (uint256 value)
        {

95:     function _getValue(address quotingToken, address baseToken, uint256 amount) internal view returns (uint256) {

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L95)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

89:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

115:     function getValueFromChainlinkFeed(
             AggregatorV3Interface source,
             uint256 amountIn,
             uint256 sourceTokenUnit,
             bool isInverse
         ) public view returns (uint256) {

138:     function getTokenDecimals(address token) public view returns (uint256) {

143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L89), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L115), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L138), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

5:     function latestRoundData()
           external
           view
           returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)
       {

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L5)]


</details>


<a name="NC-61"></a> 
### [NC-61] Missing NatSpec `@title` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@title` notation to improve the code documentation.

<details>
<summary>
There are <b>38</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7)]


```solidity
File: ./contracts/accountingManager/Registry.sol

12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

11: contract AaveConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

27: contract AerodromeConnector is BaseConnector {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

26: contract BalancerConnector is BaseConnector {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

30: contract CamelotConnector is BaseConnector {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

7: contract CompoundConnector is BaseConnector {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

24: contract CurveConnector is BaseConnector {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/Dolomite.sol

9: contract DolomiteConnector is BaseConnector {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

18: contract FraxConnector is BaseConnector {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

8: contract Gearboxv3 is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

8: contract MorphoBlueConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

8: contract PancakeswapConnector is UNIv3Connector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

12: contract PendleConnector is BaseConnector {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

11: contract PrismaConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

8: contract SiloConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

19: contract StargateConnector is BaseConnector {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19)]


```solidity
File: ./contracts/governance/Keepers.sol

9: contract Keepers is EIP712, Ownable2Step {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

6: contract NoyaGovernanceBase {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L6)]


```solidity
File: ./contracts/governance/TimeLock.sol

6: contract NoyaTimeLock is TimelockController {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6)]


```solidity
File: ./contracts/governance/Watchers.sol

6: contract Watchers is Keepers {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

14: contract ConnectorMock2 {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L14)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

18: contract LZHelperReceiver is OAppReceiver {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

19: contract LZHelperSender is OAppSender {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

14: abstract contract OmnichainLogic is BaseConnector {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L14)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

8: contract OmnichainManagerBaseChain is OmnichainLogic {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

10: contract OmnichainManagerNormalChain is OmnichainLogic {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

7: library TVLHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L7)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

10: contract ChainlinkOracleConnector is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

4: contract WETH_Oracle {

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4)]


</details>


<a name="NC-62"></a> 
### [NC-62] There is no need to initialize variables with 0
Since the variables are automatically set to 0 when created, it is redundant to initialize it with 0 again.

<details>
<summary>
There are <b>58</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

228:         uint64 i = 0;

264:         uint64 i = 0;

265:         uint256 processedBaseTokenAmount = 0;

330:         uint64 i = 0;

331:         uint256 processedShares = 0;

332:         uint256 assetsNeededForWithdraw = 0;

400:         uint64 i = 0;

403:         uint256 withdrawFeeAmount = 0;

404:         uint256 processedBaseTokenAmount = 0;

549:         uint256 amountAskedForWithdraw_temp = 0;

551:         for (uint256 i = 0; i < retrieveData.length; i++) {

603:             for (uint256 i = 0; i < items.length; i++) {

608:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[228](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L228), [264](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L264), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L265), [330](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L330), [331](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L331), [332](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L332), [400](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L400), [403](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L403), [404](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L404), [549](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L549), [551](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L551), [603](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L603), [608](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L608)]


```solidity
File: ./contracts/accountingManager/Registry.sol

138:         for (uint256 i = 0; i < _trustedTokens.length; i++) {

194:         for (uint256 i = 0; i < _connectorAddresses.length; i++) {

214:         for (uint256 i = 0; i < _tokens.length; i++) {

253:             for (uint256 i = 0; i < usingTokens.length; i++) {

274:         for (uint256 i = 0; i < length; i++) {

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L138), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L194), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L214), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L253), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L274)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

54:         for (uint256 i = 0; i < rewardsPools.length; i++) {

77:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L54), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L77)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

74:             for (uint256 i = 0; i < tokens.length; i++) {

79:             for (uint256 i = 0; i < destinationConnector.length; i++) {

84:             for (uint256 i = 0; i < tokens.length; i++) {

89:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L84), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L89)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

222:         for (uint256 i = 0; i < gauges.length; i++) {

234:         for (uint256 i = 0; i < pools.length; i++) {

248:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L222), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L234), [248](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L248)]


```solidity
File: ./contracts/connectors/Dolomite.sol

111:         uint256 totalDebt = 0;

112:         uint256 totalCollateral = 0;

113:         for (uint256 i = 0; i < markets.length; i++) {

```
*Github:* [[111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L111), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L112), [113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L113)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

69:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L69)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

140:         for (uint256 i = 0; i < earnedInfo.length; i++) {

```
*Github:* [[140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L140)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

244:         for (uint256 i = 0; i < rewardTokens.length; i++) {

260:             uint256 underlyingBalance = 0;

```
*Github:* [[244](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L244), [260](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L260)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

114:         uint256 totalDepositAmount = 0;

115:         uint256 totalBAmount = 0;

116:         for (uint256 i = 0; i < assets.length; i++) {

132:         for (uint256 i = 0; i < assetsS.length; i++) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L114), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L115), [116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L116), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L132)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/governance/Keepers.sol

29:         for (uint256 i = 0; i < _owners.length; i++) {

44:         for (uint256 i = 0; i < _owners.length; i++) {

104:             for (uint256 i = 0; i < threshold;) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L29), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L44), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L104)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

178:         for (uint256 i = 0; i < tokens.length; i++) {

189:         for (uint256 i = 0; i < tokens.length; i++) {

211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L189), [211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

17:     uint256 public vaultId = 0;

41:         for (uint256 i = 0; i < tokens.length; i++) {

46:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L17), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L46)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

37:         for (uint256 i = 0; i < usersAddresses.length; i++) {

148:         for (uint256 i = 0; i < _routes.length;) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L37), [148](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L148)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

85:         uint256 balanceOut0 = 0;

92:         uint256 balanceOut1 = 0;

```
*Github:* [[85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L85), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L92)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

18:         for (uint256 i = 0; i < positions.length; i++) {

44:         for (uint256 i = 0; i < positions.length; i++) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L18), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L44)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

41:         for (uint256 i = 0; i < baseCurrencies.length; i++) {

55:         for (uint256 i = 0; i < oracle.length; i++) {

88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L41), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L55), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

74:         for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L74)]


</details>


<a name="NC-63"></a> 
### [NC-63] Off-by-one timestamp error
In Solidity, using `>=` or `<=` to compare against `block.timestamp` (alias now) may introduce off-by-one errors due to the fact that `block.timestamp` is only updated once per block and its value remains constant throughout the block's execution. If an operation happens at the exact second when `block.timestamp` changes, it could result in unexpected behavior. To avoid this, it's safer to use strict inequality operators (`>` or `<`). For instance, if a condition should only be met after a certain time, use `block.timestamp > time` rather than `block.timestamp >= time`. This way, potential off-by-one errors due to the exact timing of block mining are mitigated, leading to safer, more predictable contract behavior.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

269:                 && depositQueue.queue[firstTemp].calculationTime + depositWaitingTime <= block.timestamp && i < maxI

408:                 && withdrawQueue.queue[firstTemp].calculationTime + withdrawWaitingTime <= block.timestamp

```
*Github:* [[269](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L269), [408](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L408)]



<a name="NC-64"></a> 
### [NC-64] Put all system-wide constants in one file
Putting all the system-wide constants in a single file improves code readability, makes it easier to understand the basic configuration and limitations of the system, and makes maintenance easier.

<details>
<summary>
There are <b>31</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

52:     uint256 public constant FEE_PRECISION = 1e6;

53:     uint256 public constant WITHDRAWAL_MAX_FEE = 5e4;

54:     uint256 public constant MANAGEMENT_MAX_FEE = 5e5;

55:     uint256 public constant PERFORMANCE_MAX_FEE = 1e5;

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L53), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L54), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L55)]


```solidity
File: ./contracts/accountingManager/Registry.sol

15:     bytes32 public constant MAINTAINER_ROLE = keccak256("MAINTAINER_ROLE");

17:     bytes32 public constant GOVERNER_ROLE = keccak256("GOVERNER_ROLE");

19:     bytes32 public constant EMERGENCY_ROLE = keccak256("EMERGENCY_ROLE");

21:     uint256 public constant MAX_NUM_HOLDING_POSITIONS = 40;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L17), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L19), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L21)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

24:     uint256 public constant AAVE_POSITION_ID = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

31:     uint256 public constant AERODROME_POSITION_TYPE = 1;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L31)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

34:     uint256 public constant CAMELOT_POSITION_ID = 1;

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L34)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

31:     uint256 public constant CURVE_LP_POSITION = 4;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L31)]


```solidity
File: ./contracts/connectors/Dolomite.sol

16:     uint256 public constant DOL_POSITION_ID = 1;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L16)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

9:     uint256 public constant GEARBOX_POSITION_ID = 3;

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L9)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

14:     uint256 constant ORACLE_PRICE_SCALE = 1e36;

15:     uint256 public constant MORPHO_POSITION_ID = 1;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L15)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

26:     uint256 public constant PENDLE_POSITION_ID = 11;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L26)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

14:     uint256 public constant PRISMA_POSITION_ID = 10;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L14)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

16:     uint256 public constant SNX_POSITION_ID = 1;

17:     uint256 public constant SNX_POOL_POSITION_ID = 2;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L17)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

10:     uint256 public constant SILO_LP_ID = 11;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L10)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

26:     uint256 public constant STARGATE_LP_POSITION_TYPE = 1;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L26)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

19:     uint256 public constant UNI_LP_POSITION_TYPE = 5;

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L19)]


```solidity
File: ./contracts/governance/Keepers.sol

11:     bytes32 public constant TXTYPE_HASH = keccak256(

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L11)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

20:     uint256 public constant positionType = 1;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L20)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

24:     uint32 constant TVL_UPDATE = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L24)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

19:     uint256 public constant BRIDGE_TXN_WAITING_TIME = 30 minutes;

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

11:     uint256 public constant OMNICHAIN_POSITION_ID = 13;

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L11)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

18:     bytes4 public constant LI_FI_GENERIC_SWAP_SELECTOR = 0x4630a0d8;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L18)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

25:     address public constant ETH = address(0);

26:     address public constant USD = address(840);

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L26)]


</details>


<a name="NC-65"></a> 
### [NC-65] Redundant `return` statement in a function with named return variables
Because the return variable (or its default value) has been assigned, explicit return at the end of the function is unnecessary, as it is returned automatically.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: ./contracts/connectors/AaveConnector.sol

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

84:     function getBorrowBalanceInBase(IComet comet) public view returns (uint256 borrowBalanceInVirtualBase) {

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L84)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

257:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L257)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

145:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L145)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

```
*Github:* [[271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

189:     function _isNative(IERC20 token) internal pure returns (bool isNative) {

```
*Github:* [[189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L189)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81)]


</details>


<a name="NC-66"></a> 
### [NC-66] Setters should prevent re-setting the same value
Not only is wasteful in terms of gas, but this is especially problematic when an event is emitted and the old and new values set are the same, as listeners might not expect this kind of scenario.

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

126:         valueOracle = _valueOracle;

668:         depositLimitPerTransaction = _depositLimitPerTransaction;

669:         depositLimitTotalAmount = _depositTotalAmount;

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L126), [668](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L668), [669](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L669)]


```solidity
File: ./contracts/accountingManager/Registry.sol

81:         maxNumHoldingPositions = _maxNumHoldingPositions;

86:         flashLoan = _flashLoan;

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L81), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L86)]


```solidity
File: ./contracts/governance/Keepers.sol

65:         threshold = _threshold;

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L65)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

49:         minimumHealthFactor = _minimumHealthFactor;

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L49)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

37:         messageSetting = _messageSetting;

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L37)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

48:         destChainAddress[chainId] = destinationAddress;

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L48)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

58:         genericSlippageTolerance = _slippageTolerance;

```
*Github:* [[58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L58)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

60:         chainlinkPriceAgeThreshold = _chainlinkPriceAgeThreshold;

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L60)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

40:         period = _period;

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L40)]


</details>


<a name="NC-67"></a> 
### [NC-67] State variables should include comments
Consider adding some comments on critical state variables to explain what they are supposed to do: this will help for future code reviews.

<details>
<summary>
There are <b>50</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

8:     address public receiver;

9:     address public accountingManager;

10:     address public baseToken;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L8), [9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L9), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L10)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

18:     address immutable pool;

22:     address immutable poolBaseToken;

24:     uint256 public constant AAVE_POSITION_ID = 1;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L18), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L22), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

31:     uint256 public constant AERODROME_POSITION_TYPE = 1;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L31)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

27:     address internal balancerVault;

29:     address public BAL;

30:     address public AURA;

32:     uint256 public BALANCER_LP_POSITION = 1;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L27), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L30), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L32)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

17:     address caller;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L17)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

34:     uint256 public constant CAMELOT_POSITION_ID = 1;

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L34)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

8:     uint256 public COMPOUND_LP = 2;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L8)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

27:     address public CVX;

28:     address public CRV;

29:     address public PRISMA;

31:     uint256 public constant CURVE_LP_POSITION = 4;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L29), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L31)]


```solidity
File: ./contracts/connectors/Dolomite.sol

16:     uint256 public constant DOL_POSITION_ID = 1;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L16)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

22:     uint256 public COLLATERAL_AND_DEBT_POSITION_TYPE = 1;

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L22)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

9:     uint256 public constant GEARBOX_POSITION_ID = 3;

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L9)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

8:     address public lido;

9:     address public lidoWithdrawal;

10:     address public steth;

11:     address public weth;

13:     uint256 public LIDO_WITHDRAWAL_REQUEST_ID = 10;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L8), [9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L9), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L11), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L13)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

30:     address mav;

31:     address veMav;

32:     address maverickRouter;

35:     uint256 public MAVERICK_LP = 10;

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L30), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L32), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L35)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

14:     uint256 constant ORACLE_PRICE_SCALE = 1e36;

15:     uint256 public constant MORPHO_POSITION_ID = 1;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L15)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

26:     uint256 public constant PENDLE_POSITION_ID = 11;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L26)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

14:     uint256 public constant PRISMA_POSITION_ID = 10;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L14)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

16:     uint256 public constant SNX_POSITION_ID = 1;

17:     uint256 public constant SNX_POOL_POSITION_ID = 2;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L17)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

10:     uint256 public constant SILO_LP_ID = 11;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L10)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

24:     address rewardToken;

26:     uint256 public constant STARGATE_LP_POSITION_TYPE = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L24), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L26)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

19:     uint256 public constant UNI_LP_POSITION_TYPE = 5;

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L19)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

8:     uint256 public vaultId;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L8)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

28:     uint256 public MINIMUM_HEALTH_FACTOR = 15e17;

29:     uint256 public minimumHealthFactor;

31:     uint256 public DUST_LEVEL = 1;

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L29), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L31)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

17:     uint256 public vaultId = 0;

20:     uint256 public constant positionType = 1;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L17), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L20)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

17:     address payable public lzHelper;

19:     uint256 public constant BRIDGE_TXN_WAITING_TIME = 30 minutes;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L17), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

11:     uint256 public constant OMNICHAIN_POSITION_ID = 13;

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L11)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

14:     uint256 public chainlinkPriceAgeThreshold = 2 hours;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L14)]


</details>


<a name="NC-68"></a> 
### [NC-68] The `nonReentrant` modifier should occur before all other modifiers
This is a best-practice to protect against reentrancy in other modifiers.

<details>
<summary>
There are <b>92</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

226:     function calculateDepositShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

257:     function executeDeposit(uint256 maxI, address connector, bytes memory addLPdata)
             public
             onlyManager
             whenNotPaused
             nonReentrant

328:     function calculateWithdrawShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

360:     function startCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

370:     function fulfillCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

396:     function executeWithdraw(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

475:     function recordProfitForFee() public onlyManager nonReentrant {

505:     function collectManagementFees() public onlyManager nonReentrant returns (uint256, uint256) {

526:     function collectPerformanceFees() public onlyManager nonReentrant {

548:     function retrieveTokensForWithdraw(RetrieveData[] calldata retrieveData) public onlyManager nonReentrant {

683:     function rescue(address token, uint256 amount) public onlyEmergency nonReentrant {

```
*Github:* [[226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L226), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L257), [328](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L328), [360](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L360), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L370), [396](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L396), [475](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L475), [505](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L505), [526](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L526), [548](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L548), [683](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L683)]


```solidity
File: ./contracts/accountingManager/Registry.sol

238:     function addTrustedPosition(
             uint256 vaultId,
             uint256 _positionTypeId,
             address calculatorConnector,
             bool onlyOwner,
             bool _isDebt,
             bytes calldata _data,
             bytes calldata _additionalData
         ) external onlyVaultMaintainerWithoutTimeLock(vaultId) vaultExists(vaultId) nonReentrant {

```
*Github:* [[238](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L238)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

46:     function supply(address supplyToken, uint256 amount) external onlyManager nonReentrant {

62:     function borrow(uint256 _amount, uint256 _interestRateMode, address _borrowAsset)
            external
            onlyManager
            nonReentrant

81:     function repay(address asset, uint256 amount, uint256 i) external onlyManager nonReentrant {

100:     function withdrawCollateral(uint256 _collateralAmount, address _collateral) external onlyManager nonReentrant {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L46), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L62), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L81), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L100)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

53:     function supply(DepositData memory data) public onlyManager nonReentrant {

79:     function withdraw(WithdrawData memory data) public onlyManager nonReentrant {

100:     function stake(address pool, uint256 liquidity) public onlyManager nonReentrant {

106:     function unstake(address pool, uint256 liquidity) public onlyManager nonReentrant {

111:     function claim(address pool) public onlyManager nonReentrant {

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L53), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L79), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L100), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L106), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L111)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

64:     function openPosition(
            bytes32 poolId,
            uint256[] memory amounts,
            uint256[] memory amountsWithoutBPT,
            uint256 minBPT,
            uint256 auraAmount
        ) public onlyManager nonReentrant {

109:     function depositIntoAuraBooster(bytes32 poolId, uint256 _amount) public onlyManager nonReentrant {

115:     function decreasePosition(DecreasePositionParams memory p) public onlyManager nonReentrant {

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L64), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L109), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L115)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

43:     function addLiquidityInCamelotPool(CamelotAddLiquidityParams calldata p) external onlyManager nonReentrant {

65:     function removeLiquidityFromCamelotPool(CamelotRemoveLiquidityParams calldata p)
            external
            onlyManager
            nonReentrant

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L43), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L65)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

29:     function supply(address market, address asset, uint256 amount) external onlyManager nonReentrant {

48:     function withdrawOrBorrow(address _market, address asset, uint256 amount) external onlyManager nonReentrant {

63:     function claimRewards(address rewardContract, address market) external onlyManager nonReentrant {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L29), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L48), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L63)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

68:     function depositIntoGauge(address pool, uint256 amount) public onlyManager nonReentrant {

81:     function depositIntoPrisma(address pool, uint256 amount, bool curveOrConvex) public onlyManager nonReentrant {

117:     function openCurvePosition(address pool, uint256 depositIndex, uint256 amount, uint256 minAmount)
             public
             onlyManager
             nonReentrant

160:     function decreaseCurvePosition(address pool, uint256 withdrawIndex, uint256 amount, uint256 minAmount)
             public
             onlyManager
             nonReentrant

221:     function harvestRewards(address[] calldata gauges) public onlyManager nonReentrant {

233:     function harvestPrismaRewards(address[] calldata pools) public onlyManager nonReentrant {

247:     function harvestConvexRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L81), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L117), [160](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L160), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L221), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L233), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L247)]


```solidity
File: ./contracts/connectors/Dolomite.sol

30:     function deposit(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

43:     function withdraw(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

58:     function openBorrowPosition(uint256 marketId, uint256 _amountWei, uint256 accountId)
            public
            onlyManager
            nonReentrant

77:     function transferBetweenAccounts(uint256 accountId, uint256 marketId, uint256 _amountWei, bool borrowOrRepay)
            public
            onlyManager
            nonReentrant

98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L30), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L43), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L58), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L77), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

38:     function borrowAndSupply(IFraxPair pool, uint256 borrowAmount, uint256 collateralAmount)
            external
            onlyManager
            nonReentrant

68:     function withdraw(IFraxPair pool, uint256 withdrawAmount) public onlyManager nonReentrant {

87:     function repay(IFraxPair pool, uint256 sharesToRepay) public onlyManager nonReentrant {

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L38), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L68), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L87)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

41:     function closeAccount(address facade, address creditAccount) public onlyManager nonReentrant {

62:     function executeCommands(
            address facade,
            address creditAccount,
            MultiCall[] calldata calls,
            address approvalToken,
            uint256 amount
        ) public onlyManager nonReentrant {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L41), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L62)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

37:     function deposit(uint256 amountIn) external onlyManager nonReentrant {

51:     function requestWithdrawals(uint256 amount) public onlyManager nonReentrant {

69:     function claimWithdrawal(uint256 requestId) public onlyManager nonReentrant {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L51), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L69)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

64:     function stake(uint256 amount, uint256 duration, bool doDelegation) external onlyManager nonReentrant {

78:     function unstake(uint256 lockupId) external onlyManager nonReentrant {

91:     function addLiquidityInMaverickPool(MavericAddLiquidityParams calldata p) external onlyManager nonReentrant {

115:     function removeLiquidityFromMaverickPool(MavericRemoveLiquidityParams calldata p)
             external
             onlyManager
             nonReentrant

137:     function claimBoostedPositionRewards(IMaverickReward rewardContract) external onlyManager nonReentrant {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L64), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L78), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L91), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L115), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L137)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

35:     function supply(uint256 amount, Id id, bool sOrC) external onlyManager nonReentrant {

58:     function withdraw(uint256 amount, Id id, bool sOrC) external onlyManager nonReentrant {

80:     function borrow(uint256 amount, Id id) external onlyManager nonReentrant {

95:     function repay(uint256 amount, Id id) public onlyManager nonReentrant {

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L35), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L58), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L80), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L95)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

31:     function sendPositionToMasterChef(uint256 tokenId) external onlyManager nonReentrant {

40:     function updatePosition(uint256 tokenId) public onlyManager nonReentrant {

50:     function withdraw(uint256 tokenId) public onlyManager nonReentrant {

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L31), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L40), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L50)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

78:     function supply(address market, uint256 amount) external onlyManager nonReentrant {

97:     function mintPTAndYT(address market, uint256 syAmount) external onlyManager nonReentrant {

112:     function depositIntoMarket(IPMarket market, uint256 SYamount, uint256 PTamount) external onlyManager nonReentrant {

126:     function depositIntoPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

137:     function withdrawFromPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

183:     function swapExactPTForSY(IPMarket market, uint256 exactPTIn, bytes calldata swapData, uint256 minSY)
             external
             onlyManager
             nonReentrant

203:     function burnLP(IPMarket market, uint256 amount) external onlyManager nonReentrant {

216:     function decreasePosition(IPMarket market, uint256 _amount, bool closePosition) external onlyManager nonReentrant {

241:     function claimRewards(IPMarket market) external onlyManager nonReentrant {

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L78), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L97), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L112), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L126), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L137), [183](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L183), [203](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L203), [216](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L216), [241](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L241)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

33:     function approveZap(IStakeNTroveZap zap, address tm, bool approve) public onlyManager nonReentrant {

52:     function openTrove(IStakeNTroveZap zap, address tm, uint256 maxFee, uint256 dAmount, uint256 bAmount)
            public
            onlyManager
            nonReentrant

75:     function addColl(IStakeNTroveZap zapContract, address tm, uint256 amountIn) public onlyManager nonReentrant {

97:     function adjustTrove(
            IStakeNTroveZap zapContract,
            address tm,
            uint256 mFee,
            uint256 wAmount,
            uint256 bAmount,
            bool isBorrowing
        ) public onlyManager nonReentrant {

129:     function closeTrove(IStakeNTroveZap zapContract, address troveManager) public onlyManager nonReentrant {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L33), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L52), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L75), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L97), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L129)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

33:     function deposit(address siloToken, address dToken, uint256 amount, bool oC) external onlyManager nonReentrant {

52:     function withdraw(address siloToken, address wToken, uint256 amount, bool oC, bool closePosition)
            external
            onlyManager
            nonReentrant

85:     function borrow(address siloToken, address bToken, uint256 amount) external onlyManager nonReentrant {

98:     function repay(address siloToken, address rToken, uint256 amount) external onlyManager nonReentrant {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L33), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L52), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L85), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L98)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

49:     function depositIntoStargatePool(StargateRequest calldata depositRequest) external onlyManager nonReentrant {

76:     function withdrawFromStargatePool(StargateRequest calldata withdrawRequest) external onlyManager nonReentrant {

103:     function claimStargateRewards(uint256 poolId) external onlyManager nonReentrant {

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L49), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L76), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L103)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

40:     function openPosition(MintParams memory p) external onlyManager nonReentrant returns (uint256 tokenId) {

63:     function decreasePosition(DecreaseLiquidityParams memory p) external onlyManager nonReentrant {

87:     function increasePosition(IncreaseLiquidityParams memory p) external onlyManager nonReentrant {

101:     function collectAllFees(uint256[] memory tokenIds) public onlyManager nonReentrant {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L40), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L63), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L87), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L101)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

122:     function transferPositionToAnotherConnector(
             address[] memory tokens,
             uint256[] memory amounts,
             bytes memory data,
             address connector
         ) external onlyManager nonReentrant {

204:     function swapHoldings(
             address[] memory tokensIn,
             address[] memory tokensOut,
             uint256[] memory amountsIn,
             bytes[] memory swapData,
             uint256[] memory routeIds
         ) external onlyManager nonReentrant {

```
*Github:* [[122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L122), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L204)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

68:     function startBridgeTransaction(BridgeRequest memory bridgeRequest) public onlyManager nonReentrant {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L68)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

90:     function executeSwap(SwapRequest memory _swapRequest)
            external
            payable
            onlyEligibleUser
            onlyExistingRoute(_swapRequest.routeId)
            nonReentrant

126:     function executeBridge(BridgeRequest calldata _bridgeRequest)
             external
             payable
             onlyEligibleUser
             onlyExistingRoute(_bridgeRequest.routeId)
             nonReentrant

```
*Github:* [[90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L90), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L126)]


</details>


<a name="NC-69"></a> 
### [NC-69] Lines are too long
The [solidity style guide](https://docs.soliditylang.org/en/v0.8.17/style-guide.html#maximum-line-length) recommends a maximum line length of 120 characters. Lines of code that are longer than 120 should be wrapped.

*There are <b>7</b> instances of this issue:*
```solidity
File: ./contracts/connectors/AerodromeConnector.sol

54:         bytes32 positionId = registry.calculatePositionId(address(this), AERODROME_POSITION_TYPE, abi.encode(data.pool));

80:         bytes32 positionId = registry.calculatePositionId(address(this), AERODROME_POSITION_TYPE, abi.encode(data.pool));

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L54), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L80)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

114:         borrowerOps.adjustTrove(tm, address(this), mFee, 0, wAmount, bAmount, isBorrowing, address(this), address(this));

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L114)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

114:         uint256 lpAmount = LPStaking.userInfo(poolId, address(this)).amount + IERC20(lpAddress).balanceOf(address(this));

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L114)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

187:         _addLiquidity(tokens, amounts, data); // call the specific implementation if the connector needs to do something after the liquidity is added

```
*Github:* [[187](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L187)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

80:         _lzSend(lzChainId, data, messageSetting, MessagingFee(address(this).balance, 0), payable(address(this))); // TODO: send event here

```
*Github:* [[80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L80)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

171:             ITokenTransferCallBack(from).sendTokensToTrustedAddress(address(token), amount, caller, abi.encode(routeId));

```
*Github:* [[171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L171)]



<a name="NC-70"></a> 
### [NC-70] Typos

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `statndard`
183:     /// @notice _update is an internal function that is used to update the balances of the users in ERC20 statndard

/// @audit `desposit`
224:     * @dev this function is used to calculate the users desposit shares that has been deposited before the oldest update time of the vault

```
*Github:* [[183](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L183), [224](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L224)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `recieved`
39:         // deposit recieved eth into Lido

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L39)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `claculate`
113:     * @dev The Chainlink price is the price of a token based on another token(or currency) so if we need to claculate the price of the later based on the first, we should put isInverse to true

```
*Github:* [[113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L113)]



<a name="NC-71"></a> 
### [NC-71] Unnecessary cast
The variable is being cast to its own type.

<details>
<summary>
There are <b>243</b> instances (click to show):
</summary>

```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit no need to cast `gauge` into address
102:         IERC20(pool).forceApprove(address(gauge), liquidity);

/// @audit no need to cast `gauge` into address
102:         IERC20(pool).forceApprove(address(gauge), liquidity);

/// @audit no need to cast `gauge` into address
102:         IERC20(pool).forceApprove(address(gauge), liquidity);

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L102), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L102), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L102)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit no need to cast `AURA` into address
58:         _updateTokenInRegistry(address(AURA));

```
*Github:* [[58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L58)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit no need to cast `pool` into address
47:             _approveOperations(address(token), address(pool), collateralAmount);

/// @audit no need to cast `pool` into address
47:             _approveOperations(address(token), address(pool), collateralAmount);

/// @audit no need to cast `pool` into address
47:             _approveOperations(address(token), address(pool), collateralAmount);

/// @audit no need to cast `pool` into address
47:             _approveOperations(address(token), address(pool), collateralAmount);

/// @audit no need to cast `pool` into address
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit no need to cast `pool` into address
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit no need to cast `pool` into address
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit no need to cast `pool` into address
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit no need to cast `pool` into address
79:         emit Withdraw(address(pool), withdrawAmount);

/// @audit no need to cast `pool` into address
79:         emit Withdraw(address(pool), withdrawAmount);

/// @audit no need to cast `pool` into address
79:         emit Withdraw(address(pool), withdrawAmount);

/// @audit no need to cast `pool` into address
79:         emit Withdraw(address(pool), withdrawAmount);

/// @audit no need to cast `pool` into address
94:         _approveOperations(asset, address(pool), repayTokenAmount);

/// @audit no need to cast `pool` into address
94:         _approveOperations(asset, address(pool), repayTokenAmount);

/// @audit no need to cast `pool` into address
94:         _approveOperations(asset, address(pool), repayTokenAmount);

/// @audit no need to cast `pool` into address
94:         _approveOperations(asset, address(pool), repayTokenAmount);

/// @audit no need to cast `pool` into address
97:         emit Repay(address(pool), sharesToRepay);

/// @audit no need to cast `pool` into address
97:         emit Repay(address(pool), sharesToRepay);

/// @audit no need to cast `pool` into address
97:         emit Repay(address(pool), sharesToRepay);

/// @audit no need to cast `pool` into address
97:         emit Repay(address(pool), sharesToRepay);

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L47), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L47), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L47), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L47), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L94), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L94), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L94), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L94), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit no need to cast `accountingManager` into address
96:             IERC20(token).safeTransfer(address(accountingManager), newAmount);

/// @audit no need to cast `accountingManager` into address
96:             IERC20(token).safeTransfer(address(accountingManager), newAmount);

```
*Github:* [[96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L96), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L96)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit no need to cast `token` into address
171:             ITokenTransferCallBack(from).sendTokensToTrustedAddress(address(token), amount, caller, abi.encode(routeId));

/// @audit no need to cast `token` into address
171:             ITokenTransferCallBack(from).sendTokensToTrustedAddress(address(token), amount, caller, abi.encode(routeId));

/// @audit no need to cast `token` into address
171:             ITokenTransferCallBack(from).sendTokensToTrustedAddress(address(token), amount, caller, abi.encode(routeId));

/// @audit no need to cast `token` into address
182:         emit Forwarded(lifi, address(token), amount, data);

/// @audit no need to cast `token` into address
182:         emit Forwarded(lifi, address(token), amount, data);

/// @audit no need to cast `token` into address
182:         emit Forwarded(lifi, address(token), amount, data);

/// @audit no need to cast `token` into address
190:         return address(token) == address(0);

/// @audit no need to cast `token` into address
190:         return address(token) == address(0);

/// @audit no need to cast `token` into address
190:         return address(token) == address(0);

```
*Github:* [[171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L171), [171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L171), [171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L171), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [190](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L190), [190](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L190), [190](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L190)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit no need to cast `price` into int256
124:         uint256 uintprice = uint256(price);

/// @audit no need to cast `source` into address
129:             revert NoyaChainlinkOracle_PRICE_ORACLE_UNAVAILABLE(address(source), address(0), address(0));

/// @audit no need to cast `source` into address
129:             revert NoyaChainlinkOracle_PRICE_ORACLE_UNAVAILABLE(address(source), address(0), address(0));

/// @audit no need to cast `source` into address
129:             revert NoyaChainlinkOracle_PRICE_ORACLE_UNAVAILABLE(address(source), address(0), address(0));

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L124), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L129), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L129), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L129)]


</details>


<a name="NC-72"></a> 
### [NC-72] Unsafe conversion from unsigned to signed values
Solidity follows [two's complement](https://en.wikipedia.org/wiki/Two%27s_complement) rules for its integers, meaning that the most significant bit for signed integers is used to denote the sign, and converting between the two requires inverting all of the bits and adding one. Because of this, casting an unsigned integer to a signed one may result in a change of the sign and or magnitude of the value. For example, `int8(type(uint8).max)` is not equal to `type(int8).max`, but is equal to `-1`. `type(uint8).max` in binary is `11111111`, which if cast to a signed value, means the first binary `1` indicates a negative value, and the binary `1`s, invert to all zeroes, and when one is added, it becomes one, but negative, and therefore the decimal value of binary `11111111` is `-1`.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit uint128 -> int128
169:         ICurveSwap(poolInfo.pool).remove_liquidity_one_coin(amount, int128(uint128(withdrawIndex)), minAmount);

/// @audit uint128 -> int128
302:         int128 tokenIndex = int128(uint128(index));

```
*Github:* [[169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L169), [302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L302)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit uint32 -> int32
81:         int24 timeWeightedAverageTick = int24(tickCumulativesDelta / int56(int32(period)));

/// @audit uint32 -> int32
82:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % int56(int32(period)) != 0)) {

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L81), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L82)]



<a name="NC-73"></a> 
### [NC-73] Unsafe solidity low-level call can cause gas grief attack
Using the low-level calls of a solidity address can leave the contract open to gas grief attacks. These attacks occur when the called contract returns a large amount of data. So when calling an external contract, it is necessary to check the length of the return data before reading/copying it (using `returndatasize()`).

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

685:             (bool success,) = payable(msg.sender).call{ value: amount }("");

```
*Github:* [[685](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L685)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

81:                 (bool success,) = destinationConnector[i].call{ value: 0, gas: gas[i] }(callingData[i]);

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L81)]


```solidity
File: ./contracts/governance/Keepers.sol

116:         (bool success,) = destination.call{ gas: gasLimit }(data);

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L116)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

176:         (bool success, bytes memory err) = lifi.call{ value: msg.value }(data);

195:             (bool success,) = payable(userAddress).call{ value: amount }("");

```
*Github:* [[176](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L176), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L195)]



<a name="NC-74"></a> 
### [NC-74] Unused `error` definition
The following `error`s are defined but not used. It is recommended to check the code for logical omissions that cause them not to be used. If it's determined that they are not needed anywhere, it's best to remove them from the codebase to improve code clarity and minimize confusion. Note that there may be cases where an error appears to be used because it has multiple definitions in different files. In such cases, the definitions should be moved to a separate file.

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

22:     error InvalidPayload();

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L22)]



<a name="NC-75"></a> 
### [NC-75] Unused `event` definition
Note that there may be cases where an event superficially appears to be used, but this is only because there are multiple definitions of the event in different files. In such cases, the event definition should be moved into a separate file. The instances below are the unused definitions.

*There is one instance of this issue:*
```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

12:     event ManagementFeeReceived(address indexed token, uint256 amount);

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L12)]



<a name="NC-76"></a> 
### [NC-76] Unused arguments should be removed or implemented
Some arguments are never used: if this is intentional, consider removing these arguments from the function. Otherwise, implement the missing logic accordingly.

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `shares`
/// @audit `receiver`
693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

/// @audit `assets`
/// @audit `receiver`
/// @audit `owner`
697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

/// @audit `shares`
/// @audit `receiver`
/// @audit `shareOwner`
701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

/// @audit `assets`
/// @audit `receiver`
705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `data`
134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit `collateral`
137:     function convertCToL(uint256 amount, address marketOracle, address collateral) public view returns (uint256) {

```
*Github:* [[137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L137)]


```solidity
File: ./contracts/governance/Watchers.sol

/// @audit `withdrawAmount`
/// @audit `sentAmount`
/// @audit `data`
8:     function verifyRemoveLiquidity(uint256 withdrawAmount, uint256 sentAmount, bytes memory data) external view { }

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L8)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `caller`
27:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)

/// @audit `data`
40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

/// @audit `baseToken`
71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

/// @audit `positionTypeId`
/// @audit `data`
75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L27), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75)]


</details>


<a name="NC-77"></a> 
### [NC-77] Unused import
The identifier is imported but never used within the file.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `PositionBP`
6: import { PositionRegistry, PositionBP } from "../accountingManager/Registry.sol";

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L6)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

/// @audit `PositionBP`
4: import { PositionRegistry, PositionBP } from "../accountingManager/Registry.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L4)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `PositionBP`
6: import { PositionRegistry, PositionBP } from "../accountingManager/Registry.sol";

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L6)]



<a name="NC-78"></a> 
### [NC-78] Unused named return
Declaring named returns, but not using them, is confusing to the reader. Consider either completely removing them (by declaring just the type without a name), or remove the return statement and do a variable assignment. This would improve the readability of the code, and it may also help reduce regressions during future code refactors.

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `tvl` not used
114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit `tvl` not used
88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `tvl` not used
265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit `tvl` not used
106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit `tvl` not used
93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `tvl` not used
91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `tvl` not used
153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit `tvl` not used
145:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L145)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `userLTV` not used
/// @audit `LiquidationThreshold` not used
/// @audit `isSolvent` not used
71:     function getData(address siloToken)
            public
            view
            returns (uint256 userLTV, uint256 LiquidationThreshold, bool isSolvent)
        {

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L71)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit `tvl` not used
110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `tvl` not used
271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

```
*Github:* [[271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `isNative` not used
189:     function _isNative(IERC20 token) internal pure returns (bool isNative) {

```
*Github:* [[189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L189)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `source` not used
/// @audit `isInverse` not used
143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

/// @audit `roundId` not used
/// @audit `answer` not used
/// @audit `startedAt` not used
/// @audit `updatedAt` not used
/// @audit `answeredInRound` not used
5:     function latestRoundData()
           external
           view
           returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)
       {

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L5)]


</details>


<a name="NC-79"></a> 
### [NC-79] Unused contract variables
The following state variables are defined but not used. It is recommended to check the code for logical omissions that cause them not to be used. If it's determined that they are not needed anywhere, it's best to remove them from the codebase to improve code clarity and minimize confusion.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/connectors/SNXConnector.sol

17:     uint256 public constant SNX_POOL_POSITION_ID = 2;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L17)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

24:     uint32 constant TVL_UPDATE = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L24)]



<a name="NC-80"></a> 
### [NC-80] Consider using `delete` rather than assigning zero/false to clear values
The `delete` keyword more closely matches the semantics of what is being done, and draws more attention to the changing of state, which may lead to a more thorough audit of its associated logic.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

360:             vault.isPositionUsed[holdingPositionId] = 0;

```
*Github:* [[360](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L360)]


```solidity
File: ./contracts/governance/Keepers.sol

49:                 isOwner[_owners[i]] = false;

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L49)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

81:         approvedBridgeTXN[txn] = 0;

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L81)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

71:         secondsAgos[1] = 0;

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L71)]



<a name="NC-81"></a> 
### [NC-81] Expressions for constant values should use `immutable` rather than `constant`
While it doesn't save any gas because the compiler knows that developers often make this mistake, it's still best to use the right tool for the task at hand. There is a difference between `constant` variables and `immutable` variables, and they should each be used in their appropriate contexts. `constants` should be used for literal values written into the code, and `immutable` variables should be used for expressions, or values calculated in, or passed into the constructor.

<details>
<summary>
There are <b>31</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

52:     uint256 public constant FEE_PRECISION = 1e6;

53:     uint256 public constant WITHDRAWAL_MAX_FEE = 5e4;

54:     uint256 public constant MANAGEMENT_MAX_FEE = 5e5;

55:     uint256 public constant PERFORMANCE_MAX_FEE = 1e5;

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L53), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L54), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L55)]


```solidity
File: ./contracts/accountingManager/Registry.sol

15:     bytes32 public constant MAINTAINER_ROLE = keccak256("MAINTAINER_ROLE");

17:     bytes32 public constant GOVERNER_ROLE = keccak256("GOVERNER_ROLE");

19:     bytes32 public constant EMERGENCY_ROLE = keccak256("EMERGENCY_ROLE");

21:     uint256 public constant MAX_NUM_HOLDING_POSITIONS = 40;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L17), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L19), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L21)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

24:     uint256 public constant AAVE_POSITION_ID = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

31:     uint256 public constant AERODROME_POSITION_TYPE = 1;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L31)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

34:     uint256 public constant CAMELOT_POSITION_ID = 1;

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L34)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

31:     uint256 public constant CURVE_LP_POSITION = 4;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L31)]


```solidity
File: ./contracts/connectors/Dolomite.sol

16:     uint256 public constant DOL_POSITION_ID = 1;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L16)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

9:     uint256 public constant GEARBOX_POSITION_ID = 3;

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L9)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

14:     uint256 constant ORACLE_PRICE_SCALE = 1e36;

15:     uint256 public constant MORPHO_POSITION_ID = 1;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L15)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

26:     uint256 public constant PENDLE_POSITION_ID = 11;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L26)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

14:     uint256 public constant PRISMA_POSITION_ID = 10;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L14)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

16:     uint256 public constant SNX_POSITION_ID = 1;

17:     uint256 public constant SNX_POOL_POSITION_ID = 2;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L17)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

10:     uint256 public constant SILO_LP_ID = 11;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L10)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

26:     uint256 public constant STARGATE_LP_POSITION_TYPE = 1;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L26)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

19:     uint256 public constant UNI_LP_POSITION_TYPE = 5;

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L19)]


```solidity
File: ./contracts/governance/Keepers.sol

11:     bytes32 public constant TXTYPE_HASH = keccak256(

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L11)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

20:     uint256 public constant positionType = 1;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L20)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

24:     uint32 constant TVL_UPDATE = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L24)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

19:     uint256 public constant BRIDGE_TXN_WAITING_TIME = 30 minutes;

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

11:     uint256 public constant OMNICHAIN_POSITION_ID = 13;

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L11)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

18:     bytes4 public constant LI_FI_GENERIC_SWAP_SELECTOR = 0x4630a0d8;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L18)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

25:     address public constant ETH = address(0);

26:     address public constant USD = address(840);

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L26)]


</details>


<a name="NC-82"></a> 
### [NC-82] Use `@inheritdoc` for overridden functions

<details>
<summary>
There are <b>44</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

185:     function _update(address from, address to, uint256 amount) internal override {

591:     function totalAssets() public view override returns (uint256) {

693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L185), [591](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L591), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

257:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L257), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

145:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

164:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L145), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L164)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

40:     function _payNative(uint256 amount) internal override returns (uint256) {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L40)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

51:     function _getPositionTVL(HoldingPI memory position, address) public view override returns (uint256) {

```
*Github:* [[51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L51)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

110:     function verifySwapData(SwapRequest calldata _request) public view override returns (bool) {

150:     function verifyBridgeData(BridgeRequest calldata _request) public view override returns (bool) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L110), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L150)]


</details>


<a name="NC-83"></a> 
### [NC-83] Upgrade `openzeppelin` to the latest version (`5.0.2`)
These contracts import contracts from openzeppelin contracts but they are not using the latest version. For more information, please visit: [OpenZeppelin GitHub Releases](https://github.com/OpenZeppelin/openzeppelin-contracts/releases) It is recommended to always use the latest version to take advantage of updates and security fixes.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/)]



<a name="NC-84"></a> 
### [NC-84] Use the latest solidity version for deployment (`0.8.25`)
Upgrading to a newer Solidity release can optimize gas usage, take advantage of new features and improve overall contract efficiency. Where possible, based on compatibility requirements, it is recommended to use newer/latest solidity version to take advantage of the latest optimizations and features.

<details>
<summary>
There are <b>41</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L2)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L2)]


```solidity
File: ./contracts/accountingManager/Registry.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L2)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L2)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L2)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L2)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L2)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L2)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L2)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L2)]


```solidity
File: ./contracts/connectors/Dolomite.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L2)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L2)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L2)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L2)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L2)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L2)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L2)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L2)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L2)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L2)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L2)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L2)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L2)]


```solidity
File: ./contracts/governance/Keepers.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L2)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L2)]


```solidity
File: ./contracts/governance/TimeLock.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L2)]


```solidity
File: ./contracts/governance/Watchers.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L2)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L2)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L2)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L2)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L2)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L2)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L2)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L2)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L2)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L2)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L2)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L2)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L2)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L2)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L2)]


</details>


<a name="NC-85"></a> 
### [NC-85] Use the Modern Upgradeable Contract Paradigm
Modern smart contract development often employs upgradeable contract structures, utilizing proxy patterns like OpenZeppelin’s Upgradeable Contracts. This paradigm separates logic and state, allowing developers to amend and enhance the contract's functionality without altering its state or the deployed contract address. Transitioning to this approach enhances long-term maintainability.

Resolution: Adopt a well-established proxy pattern for upgradeability, ensuring proper initialization and employing transparent proxies to mitigate potential risks. Embrace comprehensive testing and audit practices, particularly when updating contract logic, to ensure state consistency and security are preserved across upgrades. This ensures your contract remains robust and adaptable to future requirements.

<details>
<summary>
There are <b>40</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

7: contract NoyaFeeReceiver is Ownable {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7)]


```solidity
File: ./contracts/accountingManager/Registry.sol

12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

11: contract AaveConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

27: contract AerodromeConnector is BaseConnector {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

26: contract BalancerConnector is BaseConnector {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

30: contract CamelotConnector is BaseConnector {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

7: contract CompoundConnector is BaseConnector {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

24: contract CurveConnector is BaseConnector {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/Dolomite.sol

9: contract DolomiteConnector is BaseConnector {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

18: contract FraxConnector is BaseConnector {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

8: contract Gearboxv3 is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

8: contract MorphoBlueConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

8: contract PancakeswapConnector is UNIv3Connector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

12: contract PendleConnector is BaseConnector {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

11: contract PrismaConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

8: contract SiloConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

19: contract StargateConnector is BaseConnector {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

12: contract UNIv3Connector is BaseConnector, ERC721Holder {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12)]


```solidity
File: ./contracts/governance/Keepers.sol

9: contract Keepers is EIP712, Ownable2Step {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

6: contract NoyaGovernanceBase {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L6)]


```solidity
File: ./contracts/governance/TimeLock.sol

6: contract NoyaTimeLock is TimelockController {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6)]


```solidity
File: ./contracts/governance/Watchers.sol

6: contract Watchers is Keepers {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

14: contract ConnectorMock2 {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L14)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

18: contract LZHelperReceiver is OAppReceiver {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

19: contract LZHelperSender is OAppSender {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

14: abstract contract OmnichainLogic is BaseConnector {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L14)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

8: contract OmnichainManagerBaseChain is OmnichainLogic {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

10: contract OmnichainManagerNormalChain is OmnichainLogic {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

10: contract NoyaValueOracle is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

10: contract ChainlinkOracleConnector is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

12: contract UniswapValueOracle is INoyaValueOracle {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L12)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

4: contract WETH_Oracle {

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4)]


</details>


<a name="NC-86"></a> 
### [NC-86] Consider using modifiers for address control
Modifiers in Solidity can improve code readability and modularity by encapsulating repetitive checks, such as address validity checks, into a reusable construct. For example, an `onlyOwner` modifier can be used to replace repetitive `require(msg.sender == owner)` checks across several functions, reducing code redundancy and enhancing maintainability. To implement, define a modifier with the check, then apply the modifier to relevant functions.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/Registry.sol

33:         if (msg.sender != vaults[_vaultId].maintainer || hasRole(EMERGENCY_ROLE, msg.sender) == false) {

40:         if (msg.sender != vaults[_vaultId].maintainerWithoutTimeLock && hasRole(EMERGENCY_ROLE, msg.sender) == false) {

47:         if (msg.sender != vaults[_vaultId].governer && hasRole(EMERGENCY_ROLE, msg.sender) == false) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L33), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L40), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L47)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

61:         require(msg.sender == address(vault));

```
*Github:* [[61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L61)]


```solidity
File: ./contracts/governance/Keepers.sol

97:         require(executor == msg.sender, "Invalid executor");

```
*Github:* [[97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L97)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

33:         if (!(msg.sender == keeperContract || msg.sender == emergencyManager || msg.sender == registry.flashLoan())) {

45:         if (msg.sender != emergencyManager) revert NoyaGovernance_Unauthorized(msg.sender);

55:         if (msg.sender != emergencyManager && msg.sender != watcherContract) {

67:         if (msg.sender != maintainer && msg.sender != emergencyManager) revert NoyaGovernance_Unauthorized(msg.sender);

77:         if (msg.sender != maintainer) revert NoyaGovernance_Unauthorized(msg.sender);

87:         if (msg.sender != governer) revert NoyaGovernance_Unauthorized(msg.sender);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L33), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L45), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L55), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L67), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L77), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L87)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

90:         if (msg.sender == accountingManager) {

98:         } else if (registry.isAnActiveConnector(vaultId, msg.sender) || msg.sender == registry.flashLoan()) {

```
*Github:* [[90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L90), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L98)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

76:         if (msg.sender != vaultIdToVaultInfo[vaultId].omniChainManager) revert InvalidSender();

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L76)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

33:         if (msg.sender != lzHelper) revert IConnector_InvalidSender();

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L33)]


</details>


<a name="NC-87"></a> 
### [NC-87] Use of `override` is unnecessary
Starting with Solidity version [0.8.8](https://docs.soliditylang.org/en/v0.8.20/contracts.html#function-overriding), using the `override` keyword when the function solely overrides an interface function, and the function doesn't exist in multiple base contracts, is unnecessary.

<details>
<summary>
There are <b>46</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

185:     function _update(address from, address to, uint256 amount) internal override {

591:     function totalAssets() public view override returns (uint256) {

693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L185), [591](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L591), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

59:     ) external override {

```
*Github:* [[59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L59)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

257:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L257), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

145:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

164:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L145), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L164)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

67:         override

```
*Github:* [[67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L67)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

40:     function _payNative(uint256 amount) internal override returns (uint256) {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L40)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

51:     function _getPositionTVL(HoldingPI memory position, address) public view override returns (uint256) {

```
*Github:* [[51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L51)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

110:     function verifySwapData(SwapRequest calldata _request) public view override returns (bool) {

150:     function verifyBridgeData(BridgeRequest calldata _request) public view override returns (bool) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L110), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L150)]


</details>


<a name="NC-88"></a> 
### [NC-88] Returning a struct instead of a bunch of variables is better
If a function returns [too many variables](https://docs.soliditylang.org/en/v0.8.21/contracts.html#returning-multiple-values), replacing them with a struct can improve code readability, maintainability and reusability.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit 6 return variables
449:     function getGovernanceAddresses(uint256 vaultId)
             public
             view
             returns (address, address, address, address, address, address)
         {

```
*Github:* [[449](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L449)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

/// @audit 5 return variables
5:     function latestRoundData()
           external
           view
           returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)
       {

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L5)]



<a name="NC-89"></a> 
### [NC-89] Use a struct to encapsulate multiple function parameters
If a function has too many parameters, replacing them with a struct can improve code readability and maintainability, increase reusability, and reduce the likelihood of errors when passing the parameters.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit 10 parameters
106:     function addVault(
             uint256 vaultId,
             address _accountingManager,
             address _baseToken,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency,
             address[] calldata _trustedTokens
         ) external onlyRole(MAINTAINER_ROLE) {

/// @audit 7 parameters
158:     function changeVaultAddresses(
             uint256 vaultId,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency
         ) external onlyVaultGoverner(vaultId) vaultExists(vaultId) {

/// @audit 7 parameters
238:     function addTrustedPosition(
             uint256 vaultId,
             uint256 _positionTypeId,
             address calculatorConnector,
             bool onlyOwner,
             bool _isDebt,
             bytes calldata _data,
             bytes calldata _additionalData
         ) external onlyVaultMaintainerWithoutTimeLock(vaultId) vaultExists(vaultId) nonReentrant {

/// @audit 7 parameters
293:     function updateHoldingPosition(
             Vault storage vault,
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata d,
             bytes calldata AD,
             uint256 index,
             bytes32 holdingPositionId
         ) internal returns (uint256) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L158), [238](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L238), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit 8 parameters
84:     function execute(
            address destination,
            bytes calldata data,
            uint256 gasLimit,
            address executor,
            bytes32[] memory sigR,
            bytes32[] memory sigS,
            uint8[] memory sigV,
            uint256 deadline
        ) public {

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L84)]



<a name="NC-90"></a> 
### [NC-90] Variable names that consist of all capital letters should be reserved for `constant`/`immutable` variables

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: ./contracts/connectors/BalancerConnector.sol

29:     address public BAL;

30:     address public AURA;

32:     uint256 public BALANCER_LP_POSITION = 1;

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L30), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L32)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

8:     uint256 public COMPOUND_LP = 2;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L8)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

27:     address public CVX;

28:     address public CRV;

29:     address public PRISMA;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L29)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

22:     uint256 public COLLATERAL_AND_DEBT_POSITION_TYPE = 1;

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L22)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

13:     uint256 public LIDO_WITHDRAWAL_REQUEST_ID = 10;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L13)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

35:     uint256 public MAVERICK_LP = 10;

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L35)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

28:     uint256 public MINIMUM_HEALTH_FACTOR = 15e17;

31:     uint256 public DUST_LEVEL = 1;

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L28), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L31)]


</details>


<a name="NC-91"></a> 
### [NC-91] Visibility of state variables is not explicitly defined
To avoid misunderstandings and unexpected state accesses, it is recommended to explicitly define the visibility of each state variable.

*There are <b>10</b> instances of this issue:*
```solidity
File: ./contracts/connectors/AaveConnector.sol

18:     address immutable pool;

22:     address immutable poolBaseToken;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L18), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L22)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

17:     address caller;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L17)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

30:     address mav;

31:     address veMav;

32:     address maverickRouter;

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L30), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L32)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

14:     uint256 constant ORACLE_PRICE_SCALE = 1e36;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L14)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

24:     address rewardToken;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L24)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

24:     uint32 constant TVL_UPDATE = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L24)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

23:     bytes messageSetting;

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L23)]



<a name="NC-92"></a> 
### [NC-92] Common functions should be refactored to a common base contract
The functions below have the same implementation as is seen in other files. The functions should be refactored into functions of a common base contract.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit seen in ./contracts/connectors/SNXConnector.sol
120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit seen in ./contracts/connectors/AaveConnector.sol
128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]



<a name="NC-93"></a> 
### [NC-93] Empty body - Consider commenting why

<details>
<summary>
There are <b>13</b> instances (click to show):
</summary>

```solidity
File: ./contracts/connectors/CompoundConnector.sol

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L17)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

29:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L29)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L17)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

89:     receive() external payable { }

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L89)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

56:     receive() external payable { }

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L56)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

25:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L25)]


```solidity
File: ./contracts/governance/TimeLock.sol

9:     { }

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L9)]


```solidity
File: ./contracts/governance/Watchers.sol

7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

8:     function verifyRemoveLiquidity(uint256 withdrawAmount, uint256 sentAmount, bytes memory data) external view { }

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L8)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

31:     constructor(address _endpoint, address _owner) OAppReceiver() OAppCore(_endpoint, _owner) { }

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L31)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

27:     receive() external payable { }

29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L27), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

13:     { }

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L13)]


</details>


<a name="NC-94"></a> 
### [NC-94] Names of `private`/`internal` functions should be prefixed with an underscore
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#underscore-prefix-for-non-external-functions-and-variables)

*There is one instance of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

293:     function updateHoldingPosition(
             Vault storage vault,
             uint256 vaultId,
             bytes32 _positionId,
             bytes calldata d,
             bytes calldata AD,
             uint256 index,
             bytes32 holdingPositionId
         ) internal returns (uint256) {

```
*Github:* [[293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293)]



<a name="NC-95"></a> 
### [NC-95] Names of `private`/`internal` state variables should be prefixed with an underscore
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#underscore-prefix-for-non-external-functions-and-variables)

<details>
<summary>
There are <b>18</b> instances (click to show):
</summary>

```solidity
File: ./contracts/connectors/AaveConnector.sol

18:     address immutable pool;

22:     address immutable poolBaseToken;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L18), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L22)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

33:     IRouter aerodromeRouter;

34:     IVoter voter;

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L33), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L34)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

27:     address internal balancerVault;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L27)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

15:     IBalancerVault internal vault;

17:     address caller;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L17)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

30:     address mav;

31:     address veMav;

32:     address maverickRouter;

33:     IPositionInspector positionInspector;

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L30), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L32), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L33)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

14:     uint256 constant ORACLE_PRICE_SCALE = 1e36;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L14)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

22:     IStargateLPStaking LPStaking;

23:     IStargateRouter stargateRouter;

24:     address rewardToken;

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L24)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

24:     uint32 constant TVL_UPDATE = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L24)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

23:     bytes messageSetting;

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L23)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

20:     mapping(address => mapping(address => address)) private assetsSources;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L20)]


</details>


<a name="NC-96"></a> 
### [NC-96] Internal function calls within for loops
Making function calls or external calls within loops in Solidity can lead to inefficient gas usage, potential bottlenecks, and increased vulnerability to attacks. Each function call or external call consumes gas, and when executed within a loop, the gas cost multiplies, potentially causing the transaction to run out of gas or exceed block gas limits. This can result in transaction failure or unpredictable behavior.

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `isTokenTrusted`
274:         for (uint256 i = 0; i < length; i++) {

```
*Github:* [[274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L274)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `isInAsset`
107:         for (uint8 i; i < numberOfAssets; ++i) {

```
*Github:* [[107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L107)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `getCurrentLiquidity`
/// @audit `_collectFees`
102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `_updateTokenInRegistry`
/// @audit `_executeSwap`
/// @audit `_updateTokenInRegistry`
/// @audit `_updateTokenInRegistry`
211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `_updateTokenInRegistry`
46:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L46)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit `_getValue`
88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]



<a name="NC-97"></a> 
### [NC-97] `onlyOwner` is not used anywhere
These contracts import an ownable library, but there aren't any functions reserved to `onlyOwner`. If this is an error, fix the access control for the appropriate functions; otherwise, remove this import.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

4: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L4)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

7: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L7)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

6: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L6)]



<a name="NC-98"></a> 
### [NC-98]  `require()` / `revert()` statements should have descriptive reason strings

<details>
<summary>
There are <b>74</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

106:         require(p._baseTokenAddress != address(0));

107:         require(p._valueOracle != address(0));

108:         require(p._withdrawFeeReceiver != address(0));

109:         require(p._performanceFeeReceiver != address(0));

110:         require(p._managementFeeReceiver != address(0));

125:         require(address(_valueOracle) != address(0));

140:         require(_withdrawFeeReceiver != address(0));

141:         require(_performanceFeeReceiver != address(0));

142:         require(_managementFeeReceiver != address(0));

361:         require(currentWithdrawGroup.isStarted == false && currentWithdrawGroup.isFullfilled == false);

371:         require(currentWithdrawGroup.isStarted == true && currentWithdrawGroup.isFullfilled == false);

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L106), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L107), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L108), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L109), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L110), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L125), [140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L140), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L141), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L142), [361](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L361), [371](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L371)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

15:         require(_accountingManager != address(0));

16:         require(_baseToken != address(0));

17:         require(_receiver != address(0));

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L17)]


```solidity
File: ./contracts/accountingManager/Registry.sol

67:         require(_governer != address(0));

68:         require(_maintainer != address(0));

69:         require(_emergency != address(0));

80:         require(_maxNumHoldingPositions <= MAX_NUM_HOLDING_POSITIONS);

120:         require(_governer != address(0));

121:         require(_accountingManager != address(0));

122:         require(_baseToken != address(0));

123:         require(_maintainer != address(0));

124:         require(_keeperContract != address(0));

125:         require(_watcher != address(0));

167:         require(_governer != address(0));

168:         require(_maintainer != address(0));

169:         require(_keeperContract != address(0));

170:         require(_watcher != address(0));

```
*Github:* [[67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L67), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L68), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L69), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L80), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L120), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L121), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L122), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L123), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L125), [167](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L167), [168](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L168), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L169), [170](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L170)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

36:         require(_pool != address(0));

37:         require(_poolBaseToken != address(0));

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L37)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

43:         require(_router != address(0));

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L43)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

45:         require(_balancerVault != address(0));

46:         require(bal != address(0));

47:         require(aura != address(0));

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L45), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L46), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L47)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

25:         require(_balancerVault != address(0));

26:         require(address(_registry) != address(0));

61:         require(msg.sender == address(vault));

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L26), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L61)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

37:         require(_router != address(0));

38:         require(_factory != address(0));

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L38)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

52:         require(_convexBooster != address(0));

53:         require(cvx != address(0));

54:         require(crv != address(0));

55:         require(prisma != address(0));

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L53), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L54), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L55)]


```solidity
File: ./contracts/connectors/Dolomite.sol

24:         require(_depositWithdrawalProxy != address(0));

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L24)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

23:         require(_lido != address(0));

24:         require(_lidoW != address(0));

25:         require(_steth != address(0));

26:         require(w != address(0));

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L26)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

46:         require(_mav != address(0));

47:         require(_veMav != address(0));

48:         require(mr != address(0));

49:         require(pi != address(0));

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L46), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L47), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L48), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L49)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

24:         require(MB != address(0));

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L24)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

22:         require(MC != address(0));

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L22)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

60:         require(_pendleMarketDepositHelper != address(0));

61:         require(_pendleRouter != address(0));

62:         require(SR != address(0));

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L60), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L61), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L62)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

21:         require(_SNXCoreProxy != address(0));

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L21)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

18:         require(SR != address(0));

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L18)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

36:         require(lpStacking != address(0));

37:         require(_stargateRouter != address(0));

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L37)]


```solidity
File: ./contracts/governance/Keepers.sol

28:         require(_owners.length <= 10 && _threshold <= _owners.length && _threshold > 1);

53:         require(numOwnersTemp <= 10 && threshold <= numOwnersTemp && threshold > 1);

64:         require(_threshold <= numOwners && _threshold > 1);

106:                 require(recovered > lastAdd && isOwner[recovered]);

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L28), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L64), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L106)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

22:         require(address(_registry) != address(0));

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L22)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

41:         require(lzHelperAddress != address(0));

53:         require(omniChainManager != address(0));

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L41), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L53)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

52:         require(lzHelperAddress != address(0));

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L52)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

37:         require(_lzHelper != address(0));

47:         require(destinationAddress != address(0));

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L37), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L47)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

41:         require(_valueOracle != address(0));

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L41)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

30:         require(address(_registry) != address(0));

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L30)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

47:         require(_reg != address(0));

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L47)]


</details>


<a name="NC-99"></a> 
### [NC-99] Variables should be named in mixedCase style
As the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html#naming-styles) suggests: `arguments`, `local variables` and `mutable state variables` should be named in mixedCase style.

<details>
<summary>
There are <b>34</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `AD`
293:     function updateHoldingPosition(

/// @audit `AD`
298:         bytes calldata AD,

```
*Github:* [[293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L293), [298](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L298)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `BAL`
29:     address public BAL;

/// @audit `AURA`
30:     address public AURA;

/// @audit `BALANCER_LP_POSITION`
32:     uint256 public BALANCER_LP_POSITION = 1;

/// @audit `PTI`
163:         PositionBP memory PTI = registry.getPositionBP(vaultId, p.positionId);

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L30), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L32), [163](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L163)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `COMPOUND_LP`
8:     uint256 public COMPOUND_LP = 2;

/// @audit `CollValue`
95:     function getCollBlanace(IComet comet, bool riskAdjusted) public view returns (uint256 CollValue) {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L8), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L95)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `CVX`
27:     address public CVX;

/// @audit `CRV`
28:     address public CRV;

/// @audit `PRISMA`
29:     address public PRISMA;

/// @audit `PTI`
266:         PositionBP memory PTI = registry.getPositionBP(vaultId, p.positionId);

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L29), [266](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L266)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `COLLATERAL_AND_DEBT_POSITION_TYPE`
22:     uint256 public COLLATERAL_AND_DEBT_POSITION_TYPE = 1;

/// @audit `LTV_PRECISION`
127:         (uint256 LTV_PRECISION,,,, uint256 EXCHANGE_PRECISION,,,) = _fraxlendPair.getConstants();

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L22), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L127)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `LIDO_WITHDRAWAL_REQUEST_ID`
13:     uint256 public LIDO_WITHDRAWAL_REQUEST_ID = 10;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L13)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `MAVERICK_LP`
35:     uint256 public MAVERICK_LP = 10;

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L35)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit `MB`
23:     constructor(address MB, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L23)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

/// @audit `MC`
19:     constructor(address MC, address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L19)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit `SYamount`
37:     event DepositIntoMarket(address market, uint256 SYamount, uint256 PTamount);

/// @audit `SR`
57:     constructor(address _pendleMarketDepositHelper, address _pendleRouter, address SR, BaseConnectorCP memory baseCP)

/// @audit `SYamount`
/// @audit `PTamount`
112:     function depositIntoMarket(IPMarket market, uint256 SYamount, uint256 PTamount) external onlyManager nonReentrant {

/// @audit `SY`
217:         (IPStandardizedYield SY,,) = market.readTokens();

/// @audit `SYAmount`
265:             uint256 SYAmount = _SY.balanceOf(address(this));

/// @audit `PTAmount`
274:             uint256 PTAmount = _PT.balanceOf(address(this));

/// @audit `YTBalance`
277:             uint256 YTBalance = _YT.balanceOf(address(this));

/// @audit `SY`
313:         (IPStandardizedYield SY,,) = IPMarket(market).readTokens();

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L37), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L57), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L112), [217](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L217), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L265), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L274), [277](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L277), [313](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L313)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit `SNXCoreProxy`
14:     IV3CoreProxy public SNXCoreProxy;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L14)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `SR`
17:     constructor(address SR, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

/// @audit `LiquidationThreshold`
74:         returns (uint256 userLTV, uint256 LiquidationThreshold, bool isSolvent)

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L17), [74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L74)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit `LPStakingAmount`
16:     uint256 LPStakingAmount;

/// @audit `LPStaking`
22:     IStargateLPStaking LPStaking;

/// @audit `LPAmount`
88:         uint256 LPAmount = LPStaking.userInfo(withdrawRequest.poolId, address(this)).amount;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L16), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L22), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L88)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `MINIMUM_HEALTH_FACTOR`
28:     uint256 public MINIMUM_HEALTH_FACTOR = 15e17;

/// @audit `DUST_LEVEL`
31:     uint256 public DUST_LEVEL = 1;

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L28), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L31)]


</details>


<a name="NC-100"></a> 
### [NC-100] `TODO`s left in the code
TODOs may signal that a feature is missing or not ready for audit, consider resolving the issue and removing the TODO comment.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/connectors/MaverickConnector.sol

93:         _approveOperations(p.pool.tokenA(), maverickRouter, p.tokenARequiredAllowance); // TODO: check token A is eth

```
*Github:* [[93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L93)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

80:         _lzSend(lzChainId, data, messageSetting, MessagingFee(address(this).balance, 0), payable(address(this))); // TODO: send event here

```
*Github:* [[80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L80)]



<a name="NC-101"></a> 
### [NC-101] Event is missing `indexed` fields
Index event fields make the field more quickly accessible to off-chain tools that parse events. However, note that each index field costs extra gas during emission, so it's not necessarily best to index the maximum allowed per event (three fields). Each event should use three indexed fields if there are three or more fields, and gas usage is not particularly of concern for the events in question. If there are fewer than three fields, all of the fields should be indexed.

<details>
<summary>
There are <b>91</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

12:     event ManagementFeeReceived(address indexed token, uint256 amount);

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L12)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

26:     event Supply(address supplyToken, uint256 amount);

27:     event Borrow(address borrowToken, uint256 amount);

28:     event Repay(address repayToken, uint256 amount, uint256 i);

29:     event RepayWithCollateral(address repayToken, uint256 amount, uint256 i);

30:     event WithdrawCollateral(address collateral, uint256 amount);

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L26), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L30)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

36:     event Supply(address pool, uint256 amount0, uint256 amount1);

37:     event Withdraw(address pool, uint256 amountLiquidity);

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L37)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

34:     event OpenPosition(

37:     event DecreasePosition(DecreasePositionParams p);

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L34), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L37)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

21:     event MakeFlashLoan(IERC20[] tokens, uint256[] amounts);

22:     event ReceiveFlashLoan(IERC20[] tokens, uint256[] amounts, uint256[] feeAmounts, bytes userData);

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L22)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

10:     event Supply(address market, address asset, uint256 amount);

11:     event WithdrawOrBorrow(address market, address asset, uint256 amount);

12:     event ClaimRewards(address rewardContract, address market);

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L12)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

33:     event OpenCurvePosition(address pool, uint256 depositIndex, uint256 amount, uint256 minAmount);

34:     event DecreaseCurvePosition(address pool, uint256 withdrawIndex, uint256 amount, uint256 minAmount);

35:     event WithdrawFromConvexBooster(uint256 pid, uint256 amount);

36:     event WithdrawFromConvexRewardPool(address pool, uint256 amount);

37:     event WithdrawFromGauge(address pool, uint256 amount);

38:     event WithdrawFromPrisma(address depostiToken, uint256 amount);

39:     event HarvestRewards(address[] gauges);

40:     event HarvestPrismaRewards(address[] pools);

41:     event HarvestConvexRewards(address[] rewardsPools);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L33), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L34), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L41)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

24:     event BorrowAndSupply(address pool, uint256 borrowAmount, uint256 collateralAmount);

25:     event Withdraw(address pool, uint256 withdrawAmount);

26:     event Repay(address pool, uint256 sharesToRepay);

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L26)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

11:     event OpenAccount(address facade, uint256 ref);

12:     event CloseAccount(address facade, address creditAccount);

13:     event ExecuteCommands(

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L11), [12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L13)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

15:     event Deposit(uint256 amountIn);

16:     event RequestWithdrawals(uint256 amount);

17:     event ClaimWithdrawal(uint256 requestId);

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L17)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

37:     event Stake(uint256 amount, uint256 duration, bool doDelegation);

38:     event Unstake(uint256 lockupId);

39:     event AddLiquidityInMaverickPool(MavericAddLiquidityParams p);

40:     event RemoveLiquidityFromMaverickPool(MavericRemoveLiquidityParams p);

41:     event ClaimBoostedPositionRewards(IMaverickReward rewardContract);

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L41)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

17:     event Supply(uint256 amount, Id id, bool sOrC);

18:     event Withdraw(uint256 amount, Id id, bool sOrC);

19:     event Borrow(uint256 amount, Id id);

20:     event Repay(uint256 amount, Id id);

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L20)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

14:     event SendPositionToMasterChef(uint256 tokenId);

15:     event UpdatePosition(uint256 tokenId);

16:     event Withdraw(uint256 tokenId);

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L16)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

35:     event Supply(address market, uint256 amount);

36:     event MintPTAndYT(address market, uint256 syAmount);

37:     event DepositIntoMarket(address market, uint256 SYamount, uint256 PTamount);

38:     event DepositIntoPenpie(address market, uint256 amount);

39:     event WithdrawFromPenpie(address market, uint256 amount);

40:     event SwapYTForPT(address market, uint256 exactYTIn, uint256 min, ApproxParams guess);

41:     event SwapYTForSY(address market, uint256 exactYTIn, uint256 min, LimitOrderData orderData);

42:     event SwapExactPTForSY(address market, uint256 exactPTIn, bytes swapData, uint256 minSY);

43:     event BurnLP(address market, uint256 amount);

44:     event DecreasePosition(address market, uint256 amount, bool closePosition);

45:     event ClaimRewards(address market);

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L41), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L42), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L43), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L44), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L45)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

16:     event OpenTrove(address zap, address tm, uint256 maxFee, uint256 dAmount, uint256 bAmount);

17:     event AddColl(address zap, address tm, uint256 amountIn);

18:     event AdjustTrove(address zap, address tm, uint256 mFee, uint256 wAmount, uint256 bAmount, bool isBorrowing);

19:     event CloseTrove(address zap, address troveManager);

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L19)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

12:     event Deposit(address siloToken, address dToken, uint256 amount, bool oC);

13:     event Withdraw(address siloToken, address wToken, uint256 amount, bool oC, bool closePosition);

14:     event Borrow(address siloToken, address bToken, uint256 amount);

15:     event Repay(address siloToken, address rToken, uint256 amount);

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L15)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

28:     event DepositIntoStargatePool(StargateRequest depositRequest);

29:     event WithdrawFromStargatePool(StargateRequest withdrawRequest);

30:     event ClaimStargateRewards(uint256 poolId);

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L30)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

21:     event OpenPosition(MintParams p, uint256 tokenId);

22:     event DecreasePosition(DecreaseLiquidityParams p);

23:     event IncreasePosition(IncreaseLiquidityParams p);

24:     event CollectFees(uint256 tokenId);

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L24)]


```solidity
File: ./contracts/governance/Keepers.sol

18:     event Execute(address indexed destination, bytes data, uint256 gasLimit, address executor, uint256 deadline);

19:     event UpdateOwners(address[] owners, bool[] addOrRemove);

20:     event UpdateThreshold(uint8 threshold);

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L20)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

24:     event UpdateChainInfo(uint256 chainId, address destinationAddress);

25:     event UpdateBridgeTransactionApproval(bytes32 transactionHash, uint256 timestamp);

26:     event StartBridgeTransaction(BridgeRequest bridgeRequest, bytes32 transactionHash);

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L26)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

19:     event SetValueOracle(address _valueOracle);

20:     event SetSlippageTolerance(address _inputToken, address _outputToken, uint256 _slippageTolerance);

21:     event AddEligibleUser(address _user);

22:     event BridgeExecutionCompleted(BridgeRequest _bridgeRequest);

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L22)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

20:     event AddedHandler(address _handler, bool state);

21:     event AddedChain(uint256 _chainId, bool state);

22:     event AddedBridgeBlacklist(string bridgeName, bool state);

23:     event Bridged(address bridge, address token, uint256 amount, bytes data);

24:     event Rescued(address token, address userAddress, uint256 amount);

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L24)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

20:     event UpdatedDefaultPriceSource(address[] baseCurrencies, INoyaValueOracle[] oracles);

21:     event UpdatedAssetPriceSource(address[] asset, address[] baseToken, address[] oracle);

22:     event UpdatedPriceRoute(address asset, address baseToken, address[] s);

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L21), [22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L22)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

32:     event ChainlinkPriceAgeThresholdUpdated(uint256 newThreshold);

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L32)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

21:     event NewPeriod(uint32 period);

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L21)]


</details>


<a name="NC-102"></a> 
### [NC-102] Functions not used internally could be marked `external`

<details>
<summary>
There are <b>151</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

124:     function updateValueOracle(INoyaValueOracle _valueOracle) public onlyMaintainer {

135:     function setFeeReceivers(

170:     function setFees(uint256 _withdrawFee, uint256 _performanceFee, uint256 _managementFee) public onlyMaintainer {

200:     function deposit(address receiver, uint256 amount, address referrer) public nonReentrant whenNotPaused {

226:     function calculateDepositShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

257:     function executeDeposit(uint256 maxI, address connector, bytes memory addLPdata)

304:     function withdraw(uint256 share, address receiver) public nonReentrant whenNotPaused {

328:     function calculateWithdrawShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

360:     function startCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

370:     function fulfillCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

396:     function executeWithdraw(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

453:     function resetMiddle(uint256 newMiddle, bool depositOrWithdraw) public onlyManager {

475:     function recordProfitForFee() public onlyManager nonReentrant {

493:     function checkIfTVLHasDroped() public nonReentrant {

505:     function collectManagementFees() public onlyManager nonReentrant returns (uint256, uint256) {

526:     function collectPerformanceFees() public onlyManager nonReentrant {

543:     function burnShares(uint256 amount) public {

548:     function retrieveTokensForWithdraw(RetrieveData[] calldata retrieveData) public onlyManager nonReentrant {

591:     function totalAssets() public view override returns (uint256) {

596:     function getQueueItems(bool depositOrWithdraw, uint256[] memory items)

632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

659:     function emergencyStop() public whenNotPaused onlyEmergency {

663:     function unpause() public whenPaused onlyEmergency {

667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {

673:     function changeDepositWaitingTime(uint256 _depositWaitingTime) public onlyMaintainer {

678:     function changeWithdrawWaitingTime(uint256 _withdrawWaitingTime) public onlyMaintainer {

683:     function rescue(address token, uint256 amount) public onlyEmergency nonReentrant {

693:     function mint(uint256 shares, address receiver) public override returns (uint256) {

697:     function withdraw(uint256 assets, address receiver, address owner) public override returns (uint256) {

701:     function redeem(uint256 shares, address receiver, address shareOwner) public override returns (uint256) {

705:     function deposit(uint256 assets, address receiver) public override returns (uint256) {

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L124), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L135), [170](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L170), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L200), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L226), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L257), [304](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L304), [328](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L328), [360](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L360), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L370), [396](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L396), [453](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L453), [475](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L475), [493](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L493), [505](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L505), [526](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L526), [543](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L543), [548](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L548), [591](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L591), [596](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L596), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649), [659](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L659), [663](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L663), [667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667), [673](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L673), [678](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L678), [683](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L683), [693](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L693), [697](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L697), [701](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L701), [705](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L705)]


```solidity
File: ./contracts/accountingManager/Registry.sol

224:     function getPositionBP(uint256 vaultId, bytes32 _positionId) public view returns (PositionBP memory) {

394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)

408:     function getHoldingPosition(uint256 vaultId, uint256 i) public view returns (HoldingPI memory) {

416:     function getHoldingPositions(uint256 vaultId) public view returns (HoldingPI[] memory) {

426:     function isPositionTrusted(uint256 vaultId, bytes32 _positionId) public view returns (bool) {

449:     function getGovernanceAddresses(uint256 vaultId)

508:     function isPositionDebt(uint256 vaultId, bytes32 _positionId) public view returns (bool) {

516:     function getVaultAddresses(uint256 vaultId) public view returns (address, address) {

525:     function isAddressTrusted(uint256 vaultId, address addr) public view returns (bool) {

```
*Github:* [[224](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L224), [394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394), [408](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L408), [416](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L416), [426](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L426), [449](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L449), [508](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L508), [516](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L516), [525](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L525)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

53:     function supply(DepositData memory data) public onlyManager nonReentrant {

79:     function withdraw(WithdrawData memory data) public onlyManager nonReentrant {

100:     function stake(address pool, uint256 liquidity) public onlyManager nonReentrant {

106:     function unstake(address pool, uint256 liquidity) public onlyManager nonReentrant {

111:     function claim(address pool) public onlyManager nonReentrant {

117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L53), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L79), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L100), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L106), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L111), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

64:     function openPosition(

109:     function depositIntoAuraBooster(bytes32 poolId, uint256 _amount) public onlyManager nonReentrant {

115:     function decreasePosition(DecreasePositionParams memory p) public onlyManager nonReentrant {

162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L64), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L109), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L115), [162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

68:     function depositIntoGauge(address pool, uint256 amount) public onlyManager nonReentrant {

81:     function depositIntoPrisma(address pool, uint256 amount, bool curveOrConvex) public onlyManager nonReentrant {

103:     function depositIntoConvexBooster(address pool, uint256 pid, uint256 amount, bool stake) public onlyManager {

117:     function openCurvePosition(address pool, uint256 depositIndex, uint256 amount, uint256 minAmount)

160:     function decreaseCurvePosition(address pool, uint256 withdrawIndex, uint256 amount, uint256 minAmount)

182:     function withdrawFromConvexBooster(uint256 pid, uint256 amount) public onlyManager {

192:     function withdrawFromConvexRewardPool(address pool, uint256 amount) public onlyManager {

202:     function withdrawFromGauge(address pool, uint256 amount) public onlyManager {

212:     function withdrawFromPrisma(address depostiToken, uint256 amount) public onlyManager {

221:     function harvestRewards(address[] calldata gauges) public onlyManager nonReentrant {

233:     function harvestPrismaRewards(address[] calldata pools) public onlyManager nonReentrant {

247:     function harvestConvexRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L81), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L103), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L117), [160](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L160), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L182), [192](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L192), [202](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L202), [212](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L212), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L221), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L233), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L247), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

30:     function deposit(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

43:     function withdraw(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

58:     function openBorrowPosition(uint256 marketId, uint256 _amountWei, uint256 accountId)

77:     function transferBetweenAccounts(uint256 accountId, uint256 marketId, uint256 _amountWei, bool borrowOrRepay)

98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L30), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L43), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L58), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L77), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

68:     function withdraw(IFraxPair pool, uint256 withdrawAmount) public onlyManager nonReentrant {

87:     function repay(IFraxPair pool, uint256 sharesToRepay) public onlyManager nonReentrant {

142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L68), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L87), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

24:     function openAccount(address facade, uint256 ref) public onlyManager {

41:     function closeAccount(address facade, address creditAccount) public onlyManager nonReentrant {

62:     function executeCommands(

93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L24), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L41), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L62), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

51:     function requestWithdrawals(uint256 amount) public onlyManager nonReentrant {

69:     function claimWithdrawal(uint256 requestId) public onlyManager nonReentrant {

91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L51), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L69), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

95:     function repay(uint256 amount, Id id) public onlyManager nonReentrant {

118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L95), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

40:     function updatePosition(uint256 tokenId) public onlyManager nonReentrant {

50:     function withdraw(uint256 tokenId) public onlyManager nonReentrant {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L40), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L50)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

126:     function depositIntoPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

137:     function withdrawFromPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

166:     function swapYTForSY(address market, uint256 exactYTIn, uint256 min, LimitOrderData memory orderData)

257:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L126), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L137), [166](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L166), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L257), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

33:     function approveZap(IStakeNTroveZap zap, address tm, bool approve) public onlyManager nonReentrant {

52:     function openTrove(IStakeNTroveZap zap, address tm, uint256 maxFee, uint256 dAmount, uint256 bAmount)

75:     function addColl(IStakeNTroveZap zapContract, address tm, uint256 amountIn) public onlyManager nonReentrant {

97:     function adjustTrove(

129:     function closeTrove(IStakeNTroveZap zapContract, address troveManager) public onlyManager nonReentrant {

145:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

164:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L33), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L52), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L75), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L97), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L129), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L145), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L164)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

25:     function createAccount() public onlyManager {

30:     function deposit(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

46:     function withdraw(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

68:     function delegateIntoPreferredPool(

81:     function delegateIntoApprovedPool(

94:     function claimRewards(uint128 accountId, uint128 poolId, address collateralType, address distributor)

102:     function mintOrBurnSUSD(

121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L25), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L30), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L46), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L81), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L94), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L102), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

71:     function getData(address siloToken)

109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L71), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

101:     function collectAllFees(uint256[] memory tokenIds) public onlyManager nonReentrant {

127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L101), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/governance/Keepers.sol

42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {

63:     function setThreshold(uint8 _threshold) public onlyOwner {

84:     function execute(

124:     function domainSeparatorV4() public view returns (bytes32) {

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L63), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L84), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L124)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

153:     function updateTokenInRegistry(address token) public onlyManager {

232:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

249:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

```
*Github:* [[153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L153), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L232), [249](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L249)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

40:     function setChainInfo(uint256 chainId, uint32 lzChainId, address lzHelperAddress) public onlyOwner {

52:     function addVaultInfo(uint256 vaultId, uint256 baseChainId, address omniChainManager) public onlyOwner {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L40), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L52)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

36:     function updateMessageSetting(bytes memory _messageSetting) public onlyOwner {

51:     function setChainInfo(uint256 chainId, uint32 lzChainId, address lzHelperAddress) public onlyOwner {

63:     function addVaultInfo(uint256 vaultId, uint256 baseChainId, address omniChainManager) public onlyOwner {

75:     function updateTVL(uint256 vaultId, uint256 tvl, uint256 updateTime) public {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L36), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L51), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L63), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L75)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

57:     function updateBridgeTransactionApproval(bytes32 transactionHash) public onlyManager {

68:     function startBridgeTransaction(BridgeRequest memory bridgeRequest) public onlyManager nonReentrant {

```
*Github:* [[57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L57), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L68)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

51:     function _getPositionTVL(HoldingPI memory position, address) public view override returns (uint256) {

```
*Github:* [[51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L51)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

147:     function addRoutes(RouteData[] memory _routes) public onlyMaintainer {

```
*Github:* [[147](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L147)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

14:     function getTVL(uint256 vaultId, PositionRegistry registry, address baseToken) public view returns (uint256) {

41:     function getLatestUpdateTime(uint256 vaultId, PositionRegistry registry) public view returns (uint256) {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L14), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L41)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

37:     function updateDefaultPriceSource(address[] calldata baseCurrencies, INoyaValueOracle[] calldata oracles)

71:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L37), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L71)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

89:     function getValue(address asset, address baseToken, uint256 amount) public view returns (uint256) {

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L89)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

60:     function getValue(address tokenIn, address baseToken, uint256 amount) public view returns (uint256 _amountOut) {

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L60)]


</details>


<a name="NC-103"></a> 
### [NC-103] Avoid commenting out unused code in production
Commenting out lines of code or entire functions in production code can lead to confusion and misinterpretation. This is because it becomes unclear if the commented-out code is intended for future use, is deprecated, or is just an artifact of previous development stages. Such practices can lead to codebase clutter and make it harder for other developers to understand and maintain the code. Furthermore, commented-out code could contain security vulnerabilities that might be overlooked because it is not active. The resolution is to always clean up your code before deploying it to production. Remove any non-essential comments, debug lines, and unused functions. If there is a need to preserve certain stages of your code, use version control systems like Git, which are designed to track and revert to previous versions of the code when needed.

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/ConnectorMock2.sol

55:     // function addPositionToRegistryUsingType(bytes32 _positionId, bytes memory data) external {

```
*Github:* [[55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L55)]



<a name="NC-104"></a> 
### [NC-104] Contracts with only unimplemented functions can be labeled as `abstract`
In Solidity, a contract that's not meant to be deployed on its own but is intended to be inherited by other contracts should be marked `abstract`. This ensures that developers recognize the contract's incomplete or intended-to-be-extended nature. If a contract has unimplemented functions or is designed with the intention that another contract should extend its functionality, it should be explicitly labeled as abstract. This helps prevent inadvertent deployments and clearly communicates the contract's purpose to other developers. Resolution: Review the contract, and if it's not supposed to function standalone, mark it as abstract to make the intention clear.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/governance/TimeLock.sol

6: contract NoyaTimeLock is TimelockController {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L6)]


```solidity
File: ./contracts/governance/Watchers.sol

6: contract Watchers is Keepers {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6)]



<a name="NC-105"></a> 
### [NC-105] Default address(0) can be returned
Allowing a function in Solidity to return the default address (address(0)) can be problematic as it can represent uninitialized or invalid addresses. If such an address is utilized in transfer operations or other sensitive actions, it could lead to loss of funds or unpredicted behavior. It's prudent to include checks in your functions to prevent the return of the zero address, enhancing contract security.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `address `
/// @audit `address `
/// @audit `address `
/// @audit `address `
/// @audit `address `
/// @audit `address `
449:     function getGovernanceAddresses(uint256 vaultId)
             public
             view
             returns (address, address, address, address, address, address)
         {

/// @audit `address `
/// @audit `address `
516:     function getVaultAddresses(uint256 vaultId) public view returns (address, address) {

```
*Github:* [[449](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L449), [516](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L516)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `address `
279:     function LPToUnder(PoolInfo memory info, uint256 balance) public view returns (uint256, address) {

```
*Github:* [[279](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L279)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `address `
/// @audit `address `
116:     function getCurrentLiquidity(uint256 tokenId) public view returns (uint128, address, address) {

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L116)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `address source`
143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]



<a name="NC-106"></a> 
### [NC-106] Consider moving duplicated strings to constants

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

686:             require(success, "Transfer failed.");

```
*Github:* [[686](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L686)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

196:             require(success, "Transfer failed.");

```
*Github:* [[196](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L196)]



<a name="NC-107"></a> 
### [NC-107] Don't only depend on Solidity's arithmetic ordering
Relying on Solidity's default arithmetic operator precedence can lead to misunderstood or overlooked nuances in code execution. Misinterpretation risks can be significant, especially when different developers or auditors review the code. To ensure clarity and minimize potential errors, it's recommended to use parentheses. These not only override the default precedence when needed but also emphasize the intended order of operations. By deliberately showing the intended calculation sequence using parentheses, developers make the code's logic explicit, reducing the risk of unintended behaviors and making the codebase more maintainable and understandable for all stakeholders.

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

243:                 middleTemp, data.receiver, block.timestamp, shares, data.amount, shares * 1e18 / data.amount

275:                 firstTemp, data.receiver, block.timestamp, data.shares, data.amount, data.shares * 1e18 / data.amount

416:                 data.amount * currentWithdrawGroup.totalABAmount / currentWithdrawGroup.totalCBAmountFullfilled;

423:                 uint256 feeAmount = baseTokenAmount * withdrawFee / FEE_PRECISION;

585:             return tvl + totalWithdrawnAmount - totalDepositedAmount;

```
*Github:* [[243](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L243), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L275), [416](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L416), [423](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L423), [585](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L585)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

131:         uint256 amount0 = balance * reserve0 / totalSupply;

132:         uint256 amount1 = balance * reserve1 / totalSupply;

```
*Github:* [[131](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L131), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L132)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

118:                     collateralBalance * collateralPriceInVirtualBase * baseScale / info.scale / basePrice;

```
*Github:* [[118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L118)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

317:         return lpBalance + rewardBalance + convexRewardBalance + prismaBalance + prismaConvexBalance;

```
*Github:* [[317](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L317)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

124:             totalDepositAmount += depositAmount * price / 1e18;

125:             totalBAmount += borrowAmount * price / 1e18;

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L125)]


</details>


<a name="NC-108"></a> 
### [NC-108] Incorrect comparison against a max value
Comparing a value using `>= MAX_VALUE` is conceptually incorrect when `MAX_VALUE` is defined as the upper limit that a variable can take. According to the definition of a maximum value, the condition should only revert if the variable is greater than `MAX_VALUE`, not equal to it. Using `>=` can introduce unintended behavior, as the condition will trigger a revert even when the variable reaches its legitimate upper bound. This can lead to bugs and vulnerabilities, as well as hamper the contract's intended functionality. The resolution is to strictly use `>` when making comparisons against a defined `MAX_VALUE` to align with its conceptual definition and to prevent unintended reverts or vulnerabilities.

*There is one instance of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

308:             if (vault.holdingPositions.length >= maxNumHoldingPositions) {

```
*Github:* [[308](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L308)]



<a name="NC-109"></a> 
### [NC-109] Payable functions which do not interact with the native token should not be payable
In Ethereum, a function marked `payable` can accept Ether. If a function is intended to work with Ether but isn't marked payable, it will reject any Ether sent to it, leading to failed transactions. Conversely, if a function doesn't involve Ether transactions but is mistakenly marked payable, it can inadvertently accept Ether, potentially locking it in the contract. Thus, functions that should handle Ether transfers must be correctly marked payable, and those that shouldn't must be non-payable. Proper function designation ensures the intended flow of Ether and guards against unintended Ether reception or loss.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

90:     function executeSwap(SwapRequest memory _swapRequest)
            external
            payable
            onlyEligibleUser
            onlyExistingRoute(_swapRequest.routeId)
            nonReentrant
            returns (uint256 _amountOut)
        {

126:     function executeBridge(BridgeRequest calldata _bridgeRequest)
             external
             payable
             onlyEligibleUser
             onlyExistingRoute(_bridgeRequest.routeId)
             nonReentrant
         {

```
*Github:* [[90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L90), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L126)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

77:     function performSwapAction(address caller, SwapRequest calldata _request)
            external
            payable
            override
            onlyHandler
            returns (uint256)
        {

133:     function performBridgeAction(address caller, BridgeRequest calldata _request)
             external
             payable
             override
             onlyHandler
         {

```
*Github:* [[77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L77), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L133)]



<a name="NC-110"></a> 
### [NC-110] Struct fields should be mixedCase
In programming, particularly in Solidity, struct fields should use mixedCase (camelCase) naming. This convention starts with a lowercase letter, capitalizing subsequent word beginnings, ensuring readability and coding standard conformity.

*There is one instance of this issue:*
```solidity
File: ./contracts/connectors/StargateConnector.sol

16:     uint256 LPStakingAmount;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L16)]



<a name="NC-111"></a> 
### [NC-111] Use `using` keyword when using specific imports rather than calling the specific import directly
In Solidity, the `using` keyword can streamline the use of library functions for specific types. Instead of calling library functions directly with their full import paths, you can declare a library once with `using` for a specific type. This approach makes your code more readable and concise. For example, instead of `LibraryName.functionName(variable)`, you would first declare `using LibraryName for TypeName;` at the contract level. After this, you can call library functions directly on variables of `TypeName` like `variable.functionName()`. This method not only enhances code clarity but also promotes cleaner and more organized code, especially when multiple functions from the same library are used frequently.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `TVLHelper`
230:         uint256 oldestUpdateTime = TVLHelper.getLatestUpdateTime(vaultId, registry);

/// @audit `TVLHelper`
333:         uint256 oldestUpdateTime = TVLHelper.getLatestUpdateTime(vaultId, registry);

/// @audit `TVLHelper`
628:         return TVLHelper.getTVL(vaultId, registry, address(baseToken)) + baseToken.balanceOf(address(this))

```
*Github:* [[230](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L230), [333](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L333), [628](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L628)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit `TVLHelper`
21:         return TVLHelper.getTVL(vaultId, registry, baseToken);

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L21)]




## Gas Optimizations

<a name="GAS-1"></a> 
### [GAS-1] Assigning to structs can be more efficient
By changing the pattern of assigning value to the structure, gas savings of ~130 per instance are achieved. In addition, this use will provide significant savings in distribution costs. Instead of:
```solidity
MyStruct memory myStruct = MyStruct(_a, _b, _c);
```
write:
```solidity
MyStruct memory myStruct;
myStruct.a = _a;
myStruct.b = _b;
myStruct.c = _c;
```

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

215:         depositQueue.queue[depositQueue.last] = DepositRequest(receiver, block.timestamp, 0, amount, 0);

313:         withdrawQueue.queue[withdrawQueue.last] = WithdrawRequest(msg.sender, receiver, block.timestamp, 0, share, 0);

```
*Github:* [[215](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L215), [313](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L313)]


```solidity
File: ./contracts/accountingManager/Registry.sol

141:         vault.holdingPositions.push(HoldingPI(address(0), address(0), bytes32(0), "", "", type(uint256).max));

260:                 PositionBP(calculatorConnector, _positionTypeId, onlyOwner, true, _isDebt, _data, _additionalData);

313:                 HoldingPI(
                         vaults[vaultId].trustedPositionsBP[_positionId].calculatorConnector,
                         msg.sender,
                         _positionId,
                         d,
                         AD,
                         type(uint256).max

```
*Github:* [[141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L141), [260](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L260), [313](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L313)]


```solidity
File: ./contracts/connectors/Dolomite.sol

50:         (uint256[] memory markets,,,) = dolomiteMargin.getAccountBalances(Info(address(this), 0));

110:             dolomiteMargin.getAccountBalances(Info(address(this), accountId));

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L50), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L110)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

123:         CollectParams memory params = CollectParams(tokenId, address(this), type(uint128).max, type(uint128).max);

```
*Github:* [[123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L123)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

213:                 SwapRequest(address(this), routeIds[i], amountsIn[i], tokensIn[i], tokensOut[i], swapData[i], true, 0)

```
*Github:* [[213](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L213)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

42:         chainInfo[lzChainId] = ChainInfo(chainId, lzHelperAddress);

54:         vaultIdToVaultInfo[vaultId] = VaultInfo(baseChainId, omniChainManager);

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L42), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L54)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

53:         chainInfo[chainId] = ChainInfo(lzChainId, lzHelperAddress);

64:         vaultIdToVaultInfo[vaultId] = VaultInfo(baseChainId, omniChainManager);

80:         _lzSend(lzChainId, data, messageSetting, MessagingFee(address(this).balance, 0), payable(address(this))); // TODO: send event here

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L64), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L80)]


</details>


<a name="GAS-2"></a> 
### [GAS-2] Optimize gas by using do-while loops
Using `do-while` loops instead of `for` loops can be more gas-efficient. Even if you add an `if` condition to account for the case where the loop doesn't execute at all, a `do-while` loop can still be cheaper in terms of gas.

<details>
<summary>
There are <b>41</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

551:         for (uint256 i = 0; i < retrieveData.length; i++) {

603:             for (uint256 i = 0; i < items.length; i++) {

608:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[551](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L551), [603](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L603), [608](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L608)]


```solidity
File: ./contracts/accountingManager/Registry.sol

138:         for (uint256 i = 0; i < _trustedTokens.length; i++) {

194:         for (uint256 i = 0; i < _connectorAddresses.length; i++) {

214:         for (uint256 i = 0; i < _tokens.length; i++) {

253:             for (uint256 i = 0; i < usingTokens.length; i++) {

274:         for (uint256 i = 0; i < length; i++) {

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L138), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L194), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L214), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L253), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L274)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

54:         for (uint256 i = 0; i < rewardsPools.length; i++) {

77:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L54), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L77)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

74:             for (uint256 i = 0; i < tokens.length; i++) {

79:             for (uint256 i = 0; i < destinationConnector.length; i++) {

84:             for (uint256 i = 0; i < tokens.length; i++) {

89:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L84), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L89)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

107:         for (uint8 i; i < numberOfAssets; ++i) {

```
*Github:* [[107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L107)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

222:         for (uint256 i = 0; i < gauges.length; i++) {

234:         for (uint256 i = 0; i < pools.length; i++) {

248:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L222), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L234), [248](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L248)]


```solidity
File: ./contracts/connectors/Dolomite.sol

113:         for (uint256 i = 0; i < markets.length; i++) {

```
*Github:* [[113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L113)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

69:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L69)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

140:         for (uint256 i = 0; i < earnedInfo.length; i++) {

```
*Github:* [[140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L140)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

244:         for (uint256 i = 0; i < rewardTokens.length; i++) {

```
*Github:* [[244](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L244)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

116:         for (uint256 i = 0; i < assets.length; i++) {

132:         for (uint256 i = 0; i < assetsS.length; i++) {

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L116), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L132)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/governance/Keepers.sol

29:         for (uint256 i = 0; i < _owners.length; i++) {

44:         for (uint256 i = 0; i < _owners.length; i++) {

104:             for (uint256 i = 0; i < threshold;) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L29), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L44), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L104)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

178:         for (uint256 i = 0; i < tokens.length; i++) {

189:         for (uint256 i = 0; i < tokens.length; i++) {

211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L189), [211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

41:         for (uint256 i = 0; i < tokens.length; i++) {

46:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L46)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

37:         for (uint256 i = 0; i < usersAddresses.length; i++) {

148:         for (uint256 i = 0; i < _routes.length;) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L37), [148](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L148)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

18:         for (uint256 i = 0; i < positions.length; i++) {

44:         for (uint256 i = 0; i < positions.length; i++) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L18), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L44)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

41:         for (uint256 i = 0; i < baseCurrencies.length; i++) {

55:         for (uint256 i = 0; i < oracle.length; i++) {

88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L41), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L55), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

74:         for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L74)]


</details>


<a name="GAS-3"></a> 
### [GAS-3] Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, where appropriate
Saves a storage slot for the mapping. Depending on the circumstances and sizes of types, can avoid a Gsset (20000 gas) per mapping combined. Reads and subsequent writes can also be cheaper when a function requires both values and they both fit in the same storage slot. Finally, if both fields are accessed in the same function, can save ~42 gas per access due to not having to [recalculate the key's keccak256 hash](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0) (Gkeccak256 - 30 gas) and that calculation's associated stack operations.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

15:     mapping(address => mapping(address => uint256)) public slippageTolerance;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L15)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

14:     mapping(address => mapping(address => address[])) public priceRoutes;

16:     mapping(address => mapping(address => INoyaValueOracle)) public priceSource;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L14), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L16)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

20:     mapping(address => mapping(address => address)) private assetsSources;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L20)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

14:     mapping(address => mapping(address => address)) public assetToBaseToPool;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L14)]



<a name="GAS-4"></a> 
### [GAS-4] Consider activating via-ir for deploying
By using `--via-ir` or `{"viaIR": true}`, the compiler is able to use more advanced [multi-function optimizations](https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html#solidity-ir-based-codegen-changes), for extra gas savings.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/)]



<a name="GAS-5"></a> 
### [GAS-5] Counting down in for statements is more gas efficient
Looping downwards in Solidity is more gas efficient due to how the EVM compares variables. In a 'for' loop that counts down, the end condition is usually to compare with zero, which is cheaper than comparing with another number. As such, restructure your loops to count downwards where possible.

<details>
<summary>
There are <b>38</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

551:         for (uint256 i = 0; i < retrieveData.length; i++) {

603:             for (uint256 i = 0; i < items.length; i++) {

608:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[551](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L551), [603](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L603), [608](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L608)]


```solidity
File: ./contracts/accountingManager/Registry.sol

138:         for (uint256 i = 0; i < _trustedTokens.length; i++) {

194:         for (uint256 i = 0; i < _connectorAddresses.length; i++) {

214:         for (uint256 i = 0; i < _tokens.length; i++) {

253:             for (uint256 i = 0; i < usingTokens.length; i++) {

274:         for (uint256 i = 0; i < length; i++) {

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L138), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L194), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L214), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L253), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L274)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

54:         for (uint256 i = 0; i < rewardsPools.length; i++) {

77:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L54), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L77)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

74:             for (uint256 i = 0; i < tokens.length; i++) {

79:             for (uint256 i = 0; i < destinationConnector.length; i++) {

84:             for (uint256 i = 0; i < tokens.length; i++) {

89:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L84), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L89)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

222:         for (uint256 i = 0; i < gauges.length; i++) {

234:         for (uint256 i = 0; i < pools.length; i++) {

248:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L222), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L234), [248](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L248)]


```solidity
File: ./contracts/connectors/Dolomite.sol

113:         for (uint256 i = 0; i < markets.length; i++) {

```
*Github:* [[113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L113)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

69:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L69)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

140:         for (uint256 i = 0; i < earnedInfo.length; i++) {

```
*Github:* [[140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L140)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

244:         for (uint256 i = 0; i < rewardTokens.length; i++) {

```
*Github:* [[244](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L244)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

116:         for (uint256 i = 0; i < assets.length; i++) {

132:         for (uint256 i = 0; i < assetsS.length; i++) {

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L116), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L132)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/governance/Keepers.sol

29:         for (uint256 i = 0; i < _owners.length; i++) {

44:         for (uint256 i = 0; i < _owners.length; i++) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L29), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L44)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

178:         for (uint256 i = 0; i < tokens.length; i++) {

189:         for (uint256 i = 0; i < tokens.length; i++) {

211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L189), [211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

41:         for (uint256 i = 0; i < tokens.length; i++) {

46:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L46)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

37:         for (uint256 i = 0; i < usersAddresses.length; i++) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L37)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

18:         for (uint256 i = 0; i < positions.length; i++) {

44:         for (uint256 i = 0; i < positions.length; i++) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L18), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L44)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

41:         for (uint256 i = 0; i < baseCurrencies.length; i++) {

55:         for (uint256 i = 0; i < oracle.length; i++) {

88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L41), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L55), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

74:         for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L74)]


</details>


<a name="GAS-6"></a> 
### [GAS-6] Divisions can be `unchecked` to save gas
The expression `type(int).min/(-1)` is the only case where division causes an overflow. Therefore, uncheck can be used to [save gas](https://gist.github.com/DadeKuma/3bc597338ae774b8b3bd43280d55271f) in scenarios where it is certain that such an overflow will not occur.

<details>
<summary>
There are <b>31</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

243:                 middleTemp, data.receiver, block.timestamp, shares, data.amount, shares * 1e18 / data.amount

275:                 firstTemp, data.receiver, block.timestamp, data.shares, data.amount, data.shares * 1e18 / data.amount

416:                 data.amount * currentWithdrawGroup.totalABAmount / currentWithdrawGroup.totalCBAmountFullfilled;

423:                 uint256 feeAmount = baseTokenAmount * withdrawFee / FEE_PRECISION;

484:             previewDeposit(((storedProfitForFee - totalProfitCalculated) * performanceFee) / FEE_PRECISION);

518:             (timePassed * managementFee * (totalShares - currentFeeShares)) / FEE_PRECISION / 365 days;

518:             (timePassed * managementFee * (totalShares - currentFeeShares)) / FEE_PRECISION / 365 days;

```
*Github:* [[243](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L243), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L275), [416](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L416), [423](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L423), [484](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L484), [518](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L518), [518](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L518)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

131:         uint256 amount0 = balance * reserve0 / totalSupply;

132:         uint256 amount1 = balance * reserve1 / totalSupply;

```
*Github:* [[131](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L131), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L132)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

172:         return (((1e18 * token1bal * lpBalance) / _weight) / _totalSupply);

172:         return (((1e18 * token1bal * lpBalance) / _weight) / _totalSupply);

```
*Github:* [[172](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L172), [172](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L172)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

96:         return balanceThis * (_getValue(tokenA, base, reserves0) + _getValue(tokenB, base, reserves1)) / totalSupply;

```
*Github:* [[96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L96)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

78:         return getCollBlanace(comet, true) * 1e18 / borrowBalanceInBase;

89:         borrowBalanceInVirtualBase = (borrowBalanceInBase * basePriceInVirtualBase) / comet.baseScale();

118:                     collateralBalance * collateralPriceInVirtualBase * baseScale / info.scale / basePrice;

118:                     collateralBalance * collateralPriceInVirtualBase * baseScale / info.scale / basePrice;

119:                 if (riskAdjusted) CollValue += collateralValueInVirtualBase * info.liquidateCollateralFactor / 1e18;

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L78), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L89), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L118), [119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L119)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

129:             (((_borrowerAmount * _exchangeRate) * LTV_PRECISION) / EXCHANGE_PRECISION) / _collateralAmount;

129:             (((_borrowerAmount * _exchangeRate) * LTV_PRECISION) / EXCHANGE_PRECISION) / _collateralAmount;

136:         uint256 currentHF = (fraxlendPairMaxLTV * 1e18) / currentPositionLTV;

```
*Github:* [[129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L129), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L129), [136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L136)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

115:         return market.lltv * convertCToL(p.collateral, market.oracle, market.collateralToken) / borrowAmount;

138:         return amount * IOracle(marketOracle).price() / ORACLE_PRICE_SCALE;

```
*Github:* [[115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L115), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L138)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

271:                 SYAmount += lpBalance * IPMarket(market).getLpToAssetRate(10) / 1e18;

275:             if (PTAmount > 0) SYAmount += PTAmount * IPMarket(market).getPtToAssetRate(10) / 1e18;

280:             if (SYAmount > 0) underlyingBalance += SYAmount * _SY.exchangeRate() / 1e18;

```
*Github:* [[271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L271), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L275), [280](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L280)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

124:             totalDepositAmount += depositAmount * price / 1e18;

125:             totalBAmount += borrowAmount * price / 1e18;

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L125)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

112:             _swapRequest.minAmount = (((1e6 - _slippageTolerance) * _outputTokenValue) / 1e6);

```
*Github:* [[112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L112)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

132:             return (amountIn * sourceTokenUnit) / uintprice;

134:         return (amountIn * uintprice) / (sourceTokenUnit);

```
*Github:* [[132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L132), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L134)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

81:         int24 timeWeightedAverageTick = int24(tickCumulativesDelta / int56(int32(period)));

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L81)]


</details>


<a name="GAS-7"></a> 
### [GAS-7] Operator `+=` costs more gas than `<x> = <x> + <y>` for state variables

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `totalDepositedAmount +=`
286:         totalDepositedAmount += processedBaseTokenAmount;

/// @audit `totalWithdrawnAmount +=`
436:         totalWithdrawnAmount += processedBaseTokenAmount;

/// @audit `amountAskedForWithdraw +=`
569:         amountAskedForWithdraw += amountAskedForWithdraw_temp;

```
*Github:* [[286](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L286), [436](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L436), [569](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L569)]



<a name="GAS-8"></a> 
### [GAS-8] Duplicated `require()`/`revert()` checks should be refactored to a modifier or function to save gas
Saves deployment costs.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit duplicated on line 175
116:             revert NoyaAccounting_INVALID_FEE();

/// @audit duplicated on line 458
202:             revert NoyaAccounting_INVALID_AMOUNT();

/// @audit duplicated on line 398
336:             revert NoyaAccounting_ThereIsAnActiveWithdrawGroup();

/// @audit duplicated on line 465
571:             revert NoyaAccounting_INVALID_AMOUNT();

/// @audit duplicated on line 698
694:         revert NoyaAccounting_NOT_ALLOWED();

/// @audit duplicated on line 706
702:         revert NoyaAccounting_NOT_ALLOWED();

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L116), [202](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L202), [336](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L336), [571](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L571), [694](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L694), [702](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L702)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit duplicated on line 41
34:             revert UnauthorizedAccess();

/// @audit duplicated on line 120
67:         require(_governer != address(0));

/// @audit duplicated on line 123
68:         require(_maintainer != address(0));

/// @audit duplicated on line 169
124:         require(_keeperContract != address(0));

/// @audit duplicated on line 170
125:         require(_watcher != address(0));

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L34), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L67), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L68), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L125)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit duplicated on line 85
66:             revert IConnector_UntrustedToken(token);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L66)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit duplicated on line 38
80:             revert IConnector_InvalidPosition(positionId);

```
*Github:* [[80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L80)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit duplicated on line 104
66:             revert IConnector_LowHealthFactor(0);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L66)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

/// @audit duplicated on line 56
34:             revert NoyaGovernance_Unauthorized(msg.sender);

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L34)]


</details>


<a name="GAS-9"></a> 
### [GAS-9] Events should be emitted outside of loops
Emitting an event has an overhead of 375 gas, which will be incurred on every iteration of the loop. It is cheaper to emit only once after the loop has finished.

*There are <b>10</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

242:             emit CalculateDeposit(

274:             emit ExecuteDeposit(

349:             emit CalculateWithdraw(middleTemp, data.owner, data.receiver, data.shares, assets, block.timestamp);

429:             emit ExecuteWithdraw(

562:             emit RetrieveTokensForWithdraw(

```
*Github:* [[242](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L242), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L274), [349](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L349), [429](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L429), [562](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L562)]


```solidity
File: ./contracts/accountingManager/Registry.sol

196:             emit ConnectorAdded(vaultId, _connectorAddresses[i]);

```
*Github:* [[196](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L196)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

107:             emit CollectFees(tokenIds[i]);

```
*Github:* [[107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L107)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

217:             emit SwapHoldings(tokensIn[i], tokensOut[i], amountsIn[i], swapData[i]);

```
*Github:* [[217](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L217)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

150:             emit NewRouteAdded(i, _routes[i].route, _routes[i].isEnabled, _routes[i].isBridge);

```
*Github:* [[150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L150)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

76:             emit AssetSourceUpdated(assets[i], baseTokens[i], sources[i]);

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L76)]



<a name="GAS-10"></a> 
### [GAS-10] Increments can be `unchecked` to save gas
Using `unchecked` increments can save gas by bypassing the built-in overflow checks. This can save 30-40 gas per iteration. So it is recommended to use unchecked increments when overflow is not possible.

<details>
<summary>
There are <b>39</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

551:         for (uint256 i = 0; i < retrieveData.length; i++) {

603:             for (uint256 i = 0; i < items.length; i++) {

608:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[551](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L551), [603](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L603), [608](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L608)]


```solidity
File: ./contracts/accountingManager/Registry.sol

138:         for (uint256 i = 0; i < _trustedTokens.length; i++) {

194:         for (uint256 i = 0; i < _connectorAddresses.length; i++) {

214:         for (uint256 i = 0; i < _tokens.length; i++) {

253:             for (uint256 i = 0; i < usingTokens.length; i++) {

274:         for (uint256 i = 0; i < length; i++) {

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L138), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L194), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L214), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L253), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L274)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

54:         for (uint256 i = 0; i < rewardsPools.length; i++) {

77:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L54), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L77)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

74:             for (uint256 i = 0; i < tokens.length; i++) {

79:             for (uint256 i = 0; i < destinationConnector.length; i++) {

84:             for (uint256 i = 0; i < tokens.length; i++) {

89:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L84), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L89)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

107:         for (uint8 i; i < numberOfAssets; ++i) {

```
*Github:* [[107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L107)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

222:         for (uint256 i = 0; i < gauges.length; i++) {

234:         for (uint256 i = 0; i < pools.length; i++) {

248:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L222), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L234), [248](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L248)]


```solidity
File: ./contracts/connectors/Dolomite.sol

113:         for (uint256 i = 0; i < markets.length; i++) {

```
*Github:* [[113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L113)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

69:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L69)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

140:         for (uint256 i = 0; i < earnedInfo.length; i++) {

```
*Github:* [[140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L140)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

244:         for (uint256 i = 0; i < rewardTokens.length; i++) {

```
*Github:* [[244](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L244)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

116:         for (uint256 i = 0; i < assets.length; i++) {

132:         for (uint256 i = 0; i < assetsS.length; i++) {

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L116), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L132)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/governance/Keepers.sol

29:         for (uint256 i = 0; i < _owners.length; i++) {

44:         for (uint256 i = 0; i < _owners.length; i++) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L29), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L44)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

178:         for (uint256 i = 0; i < tokens.length; i++) {

189:         for (uint256 i = 0; i < tokens.length; i++) {

211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L189), [211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

41:         for (uint256 i = 0; i < tokens.length; i++) {

46:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L46)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

37:         for (uint256 i = 0; i < usersAddresses.length; i++) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L37)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

18:         for (uint256 i = 0; i < positions.length; i++) {

44:         for (uint256 i = 0; i < positions.length; i++) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L18), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L44)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

41:         for (uint256 i = 0; i < baseCurrencies.length; i++) {

55:         for (uint256 i = 0; i < oracle.length; i++) {

88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L41), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L55), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

74:         for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L74)]


</details>


<a name="GAS-11"></a> 
### [GAS-11] Inline `modifier`s that are only used once, to save gas

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

39:     modifier onlyVaultMaintainerWithoutTimeLock(uint256 _vaultId) {

46:     modifier onlyVaultGoverner(uint256 _vaultId) {

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L39), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L46)]



<a name="GAS-12"></a> 
### [GAS-12] `internal` functions only called once can be inlined to save gas
If an `internal` function is only used once, there is no need to modularize it, unless the function calling it would otherwise be too long and complex. Not inlining costs 20 to 40 gas because of two extra JUMP instructions and additional stack operations needed for function calls.

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `_getHealthFactor` is used only once
120:     function _getHealthFactor(IFraxPair _fraxlendPair, uint256 _exchangeRate) internal view virtual returns (uint256) {

```
*Github:* [[120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L120)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `_executeSwap` is used only once
221:     function _executeSwap(SwapRequest memory swapRequest) internal returns (uint256 amountOut) {

/// @audit `_addLiquidity` is used only once
267:     function _addLiquidity(address[] memory, uint256[] memory, bytes memory) internal virtual returns (bool) {

/// @audit `_revokeApproval` is used only once
285:     function _revokeApproval(address _token, address _spender) internal virtual {

```
*Github:* [[221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L221), [267](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L267), [285](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L285)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `_setAllowance` is used only once
185:     function _setAllowance(IERC20 token, address spender, uint256 amount) internal {

/// @audit `_isNative` is used only once
189:     function _isNative(IERC20 token) internal pure returns (bool isNative) {

```
*Github:* [[185](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L185), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L189)]



<a name="GAS-13"></a> 
### [GAS-13] `keccak256()` hash of literals should only be computed once
The result of the hash should be stored in an immutable variable, and the variable should be used instead. If the hash is being used as a part of a function selector, the cast to `bytes4` should also only be done once.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

15:     bytes32 public constant MAINTAINER_ROLE = keccak256("MAINTAINER_ROLE");

17:     bytes32 public constant GOVERNER_ROLE = keccak256("GOVERNER_ROLE");

19:     bytes32 public constant EMERGENCY_ROLE = keccak256("EMERGENCY_ROLE");

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L17), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L19)]



<a name="GAS-14"></a> 
### [GAS-14] Low level `call` can be optimized with assembly
When using low-level calls, the `returnData` is copied to memory even if the variable is not utilized. The proper way to handle this is through a low level assembly call.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

685:             (bool success,) = payable(msg.sender).call{ value: amount }("");

```
*Github:* [[685](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L685)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

81:                 (bool success,) = destinationConnector[i].call{ value: 0, gas: gas[i] }(callingData[i]);

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L81)]


```solidity
File: ./contracts/governance/Keepers.sol

116:         (bool success,) = destination.call{ gas: gasLimit }(data);

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L116)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

176:         (bool success, bytes memory err) = lifi.call{ value: msg.value }(data);

195:             (bool success,) = payable(userAddress).call{ value: amount }("");

```
*Github:* [[176](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L176), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L195)]



<a name="GAS-15"></a> 
### [GAS-15] Multiple accesses of the same mapping/array key/index should be cached
The instances below point to the second+ access of a value inside a mapping/array, within a function. Caching a mapping's value in a local `storage` or `calldata` variable when the value is accessed [multiple times](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0), saves ~42 gas per access due to not having to recalculate the key's keccak256 hash (Gkeccak256 - 30 gas) and that calculation's associated stack operations. Caching an array's struct avoids recalculating the array offsets into memory/calldata

<details>
<summary>
There are <b>21</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `withdrawRequestsByAddress[from]` is also accessed on line 186
187:             revert NoyaAccounting_INSUFFICIENT_FUNDS(balanceOf(from), amount, withdrawRequestsByAddress[from]);

/// @audit `withdrawRequestsByAddress[msg.sender]` is also accessed on line 305
307:                 balanceOf(msg.sender), share, withdrawRequestsByAddress[msg.sender]

/// @audit `withdrawRequestsByAddress[msg.sender]` is also accessed on line 305
310:         withdrawRequestsByAddress[msg.sender] += share;

```
*Github:* [[187](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L187), [307](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L307), [310](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L310)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `vaults[vaultId]` is also accessed on line 118
119:         Vault storage vault = vaults[vaultId];

/// @audit `vaults[vaultId]` is also accessed on line 172
173:         vaults[vaultId].maintainer = _maintainer;

/// @audit `vaults[vaultId]` is also accessed on line 172
174:         vaults[vaultId].maintainerWithoutTimeLock = _maintainerWithoutTimelock;

/// @audit `vaults[vaultId]` is also accessed on line 172
175:         vaults[vaultId].keeperContract = _keeperContract;

/// @audit `vaults[vaultId]` is also accessed on line 172
176:         vaults[vaultId].watcherContract = _watcher;

/// @audit `vaults[vaultId]` is also accessed on line 172
177:         vaults[vaultId].emergency = _emergency;

```
*Github:* [[119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L119), [173](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L173), [174](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L174), [175](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L175), [176](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L176), [177](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L177)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit `isOwner[_owners[i]` is also accessed on line 45
46:                 isOwner[_owners[i]] = true;

/// @audit `isOwner[_owners[i]` is also accessed on line 45
46:                 isOwner[_owners[i]] = true;

/// @audit ` && ` is also accessed on line 45
48:             } else if (!addOrRemove[i] && isOwner[_owners[i]]) {

/// @audit ` && ` is also accessed on line 45
48:             } else if (!addOrRemove[i] && isOwner[_owners[i]]) {

/// @audit `isOwner[_owners[i]` is also accessed on line 45
49:                 isOwner[_owners[i]] = false;

/// @audit `isOwner[_owners[i]` is also accessed on line 45
49:                 isOwner[_owners[i]] = false;

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L46), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L46), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L48), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L48), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L49), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L49)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit `vaultIdToVaultInfo[vaultId]` is also accessed on line 76
78:         uint32 lzChainId = chainInfo[vaultIdToVaultInfo[vaultId].baseChainId].lzChainId;

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L78)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

/// @audit `approvedBridgeTXN[transactionHash]` is also accessed on line 58
59:         else approvedBridgeTXN[transactionHash] = block.timestamp;

/// @audit `destChainAddress[bridgeRequest.destChainId]` is also accessed on line 76
77:                 || destChainAddress[bridgeRequest.destChainId] != bridgeRequest.receiverAddress

/// @audit `approvedBridgeTXN[txn]` is also accessed on line 71
81:         approvedBridgeTXN[txn] = 0;

```
*Github:* [[59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L59), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L77), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L81)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `assetsSources[asset]` is also accessed on line 144
145:             return (assetsSources[asset][baseToken], false);

/// @audit `assetsSources[baseToken]` is also accessed on line 146
147:             return (assetsSources[baseToken][asset], true);

```
*Github:* [[145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L145), [147](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L147)]


</details>


<a name="GAS-16"></a> 
### [GAS-16] Operator `>=`/`<=` costs less gas than operator `>`/`<`
The compiler uses opcodes `GT` and `ISZERO` for code that uses `>`, but only requires `LT` for `>=`. A similar behavior applies for `>`, which uses opcodes `LT` and `ISZERO`, but only requires `GT` for `<=`. It can save 3 gas for each. It should be converted to the `<=`/`>=` equivalent when comparing against integer literals.

<details>
<summary>
There are <b>115</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

113:             p._withdrawFee > WITHDRAWAL_MAX_FEE || p._performanceFee > PERFORMANCE_MAX_FEE

113:             p._withdrawFee > WITHDRAWAL_MAX_FEE || p._performanceFee > PERFORMANCE_MAX_FEE

114:                 || p._managementFee > MANAGEMENT_MAX_FEE

172:             _withdrawFee > WITHDRAWAL_MAX_FEE || _performanceFee > PERFORMANCE_MAX_FEE

172:             _withdrawFee > WITHDRAWAL_MAX_FEE || _performanceFee > PERFORMANCE_MAX_FEE

173:                 || _managementFee > MANAGEMENT_MAX_FEE

207:         if (amount > depositLimitPerTransaction) {

233:             depositQueue.last > middleTemp && depositQueue.queue[middleTemp].recordTime <= oldestUpdateTime

234:                 && i < maxIterations

268:             depositQueue.middle > firstTemp

269:                 && depositQueue.queue[firstTemp].calculationTime + depositWaitingTime <= block.timestamp && i < maxI

288:         if (registry.isAnActiveConnector(vaultId, connector) && processedBaseTokenAmount > 0) {

339:             withdrawQueue.last > middleTemp && withdrawQueue.queue[middleTemp].recordTime <= oldestUpdateTime

340:                 && i < maxIterations

407:             currentWithdrawGroup.lastId > firstTemp

409:                 && i < maxIterations

438:         if (withdrawFeeAmount > 0) {

457:             if (newMiddle > depositQueue.middle || newMiddle < depositQueue.first) {

457:             if (newMiddle > depositQueue.middle || newMiddle < depositQueue.first) {

464:             if (newMiddle > withdrawQueue.middle || newMiddle < withdrawQueue.first || currentWithdrawGroup.isStarted) {

464:             if (newMiddle > withdrawQueue.middle || newMiddle < withdrawQueue.first || currentWithdrawGroup.isStarted) {

479:         if (storedProfitForFee < totalProfitCalculated) {

495:         if (currentProfit < storedProfitForFee) {

506:         if (block.timestamp - lastFeeDistributionTime < 1 days) {

510:         if (timePassed > 10 days) {

528:             preformanceFeeSharesWaitingForDistribution == 0 || block.timestamp - profitStoredTime < 12 hours

529:                 || block.timestamp - profitStoredTime > 48 hours

551:         for (uint256 i = 0; i < retrieveData.length; i++) {

560:             if (balanceBefore + amount > balanceAfter) revert NoyaAccounting_banalceAfterIsNotEnough();

570:         if (amountAskedForWithdraw_temp > neededAssets) {

584:         if (tvl + totalWithdrawnAmount > totalDepositedAmount) {

603:             for (uint256 i = 0; i < items.length; i++) {

608:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L113), [113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L113), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L114), [172](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L172), [172](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L172), [173](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L173), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L207), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L233), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L234), [268](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L268), [269](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L269), [288](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L288), [339](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L339), [340](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L340), [407](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L407), [409](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L409), [438](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L438), [457](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L457), [457](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L457), [464](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L464), [464](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L464), [479](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L479), [495](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L495), [506](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L506), [510](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L510), [528](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L528), [529](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L529), [551](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L551), [560](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L560), [570](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L570), [584](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L584), [603](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L603), [608](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L608)]


```solidity
File: ./contracts/accountingManager/Registry.sol

138:         for (uint256 i = 0; i < _trustedTokens.length; i++) {

194:         for (uint256 i = 0; i < _connectorAddresses.length; i++) {

214:         for (uint256 i = 0; i < _tokens.length; i++) {

253:             for (uint256 i = 0; i < usingTokens.length; i++) {

274:         for (uint256 i = 0; i < length; i++) {

349:             if (positionIndex < vault.holdingPositions.length - 1) {

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L138), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L194), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L214), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L253), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L274), [349](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L349)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

73:         if (healthFactor < minimumHealthFactor) revert IConnector_LowHealthFactor(healthFactor);

104:         if (healthFactor < minimumHealthFactor) revert IConnector_LowHealthFactor(healthFactor);

```
*Github:* [[73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L73), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L104)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

54:         for (uint256 i = 0; i < rewardsPools.length; i++) {

77:         for (uint256 i = 0; i < tokens.length; i++) {

99:         if (auraAmount > 0) {

116:         if (p._auraAmount > 0) {

122:         if (p._lpAmount > 0) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L54), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L77), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L99), [116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L116), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L122)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

74:             for (uint256 i = 0; i < tokens.length; i++) {

79:             for (uint256 i = 0; i < destinationConnector.length; i++) {

84:             for (uint256 i = 0; i < tokens.length; i++) {

89:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L84), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L89)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

52:         if (healthFactor < minimumHealthFactor) revert IConnector_LowHealthFactor(healthFactor);

100:         if (userBasic.principal > 0) {

107:         for (uint8 i; i < numberOfAssets; ++i) {

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L52), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L100), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L107)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

126:         address poolAddress = (poolInfo.tokens.length > 2 && poolInfo.zap != address(0)) ? poolInfo.zap : pool;

222:         for (uint256 i = 0; i < gauges.length; i++) {

234:         for (uint256 i = 0; i < pools.length; i++) {

248:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L126), [222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L222), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L234), [248](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L248)]


```solidity
File: ./contracts/connectors/Dolomite.sol

113:         for (uint256 i = 0; i < markets.length; i++) {

```
*Github:* [[113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L113)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

46:         if (collateralAmount > 0) {

49:         if (borrowAmount > 0) {

52:         } else if (collateralAmount > 0) {

55:         if (collateralAmount > 0) {

91:         if (sharesToRepay > sharesOwed) {

109:         if (minimumHealthFactor > healthFactor) {

159:         if (collateralValue > borrowValue) {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L46), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L49), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L52), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L55), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L91), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L109), [159](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L159)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

69:         for (uint256 i = 0; i < calls.length; i++) {

100:         if (d.totalDebtUSD > d.totalValueUSD) {

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L69), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L100)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

140:         for (uint256 i = 0; i < earnedInfo.length; i++) {

```
*Github:* [[140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L140)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

191:         if (netSyOut < minSY) {

244:         for (uint256 i = 0; i < rewardTokens.length; i++) {

270:             if (lpBalance > 0) {

275:             if (PTAmount > 0) SYAmount += PTAmount * IPMarket(market).getPtToAssetRate(10) / 1e18;

278:             if (YTBalance > 0) SYAmount += getYTValue(market, YTBalance);

280:             if (SYAmount > 0) underlyingBalance += SYAmount * _SY.exchangeRate() / 1e18;

```
*Github:* [[191](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L191), [244](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L244), [270](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L270), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L275), [278](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L278), [280](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L280)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

111:         if (bAmount > 0 && !isBorrowing) {

118:         if (minimumHealthFactor > healthFactor) {

```
*Github:* [[111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L111), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L118)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

116:         for (uint256 i = 0; i < assets.length; i++) {

132:         for (uint256 i = 0; i < assetsS.length; i++) {

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L116), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L132)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

52:         if (depositRequest.routerAmount > 0) {

57:         if (depositRequest.LPStakingAmount > 0) {

79:         if (withdrawRequest.LPStakingAmount > 0) {

82:         if (withdrawRequest.routerAmount > 0) {

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L52), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L57), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L79), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L82)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

65:         if (p.liquidity > currentLiquidity) {

102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L65), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/governance/Keepers.sol

28:         require(_owners.length <= 10 && _threshold <= _owners.length && _threshold > 1);

29:         for (uint256 i = 0; i < _owners.length; i++) {

44:         for (uint256 i = 0; i < _owners.length; i++) {

53:         require(numOwnersTemp <= 10 && threshold <= numOwnersTemp && threshold > 1);

64:         require(_threshold <= numOwners && _threshold > 1);

104:             for (uint256 i = 0; i < threshold;) {

106:                 require(recovered > lastAdd && isOwner[recovered]);

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L29), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L44), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L64), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L104), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L106)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

46:         if (_minimumHealthFactor < MINIMUM_HEALTH_FACTOR) {

142:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

178:         for (uint256 i = 0; i < tokens.length; i++) {

183:             if (_balanceAfter < amounts[i] + _balance) {

189:         for (uint256 i = 0; i < tokens.length; i++) {

211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L46), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L142), [178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178), [183](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L183), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L189), [211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

41:         for (uint256 i = 0; i < tokens.length; i++) {

46:         for (uint256 i = 0; i < tokens.length; i++) {

86:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L46), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L86)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

71:         if (approvedBridgeTXN[txn] == 0 || approvedBridgeTXN[txn] + BRIDGE_TXN_WAITING_TIME > block.timestamp) {

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L71)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

37:         for (uint256 i = 0; i < usersAddresses.length; i++) {

148:         for (uint256 i = 0; i < _routes.length;) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L37), [148](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L148)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

119:         if (receivingAmount < _request.minAmount) revert InvalidMinAmount();

159:         if (bridgeData.minAmount > _request.amount) revert InvalidMinAmount();

```
*Github:* [[119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L119), [159](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L159)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

18:         for (uint256 i = 0; i < positions.length; i++) {

30:         if (totalTVL < totalDebt) {

44:         for (uint256 i = 0; i < positions.length; i++) {

45:             if (latestUpdateTime == 0 || positions[i].positionTimestamp < latestUpdateTime) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L18), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L30), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L44), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L45)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

41:         for (uint256 i = 0; i < baseCurrencies.length; i++) {

55:         for (uint256 i = 0; i < oracle.length; i++) {

88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L41), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L55), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

74:         for (uint256 i = 0; i < assets.length; i++) {

125:         if (block.timestamp - updatedAt > chainlinkPriceAgeThreshold) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L74), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L125)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

82:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % int56(int32(period)) != 0)) {

```
*Github:* [[82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L82)]


</details>


<a name="GAS-17"></a> 
### [GAS-17] Optimize Gas by splitting `if() revert` statements
Using boolean operators in a single `if() revert` statement can consume more gas than necessary. Consider splitting these statements to save gas.

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

457:             if (newMiddle > depositQueue.middle || newMiddle < depositQueue.first) {

464:             if (newMiddle > withdrawQueue.middle || newMiddle < withdrawQueue.first || currentWithdrawGroup.isStarted) {

```
*Github:* [[457](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L457), [464](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L464)]


```solidity
File: ./contracts/accountingManager/Registry.sol

33:         if (msg.sender != vaults[_vaultId].maintainer || hasRole(EMERGENCY_ROLE, msg.sender) == false) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L33)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

33:         if (!(msg.sender == keeperContract || msg.sender == emergencyManager || msg.sender == registry.flashLoan())) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L33)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

71:         if (approvedBridgeTXN[txn] == 0 || approvedBridgeTXN[txn] + BRIDGE_TXN_WAITING_TIME > block.timestamp) {

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L71)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

57:         if (_chainlinkPriceAgeThreshold <= 1 hours || _chainlinkPriceAgeThreshold >= 10 days) {

```
*Github:* [[57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L57)]



<a name="GAS-18"></a> 
### [GAS-18] Optimize names to save gas
`public`/`external` function names and `public` member variable names can be optimized to save gas. See this [link](https://gist.github.com/IllIllI000/a5d8b486a8259f9f77891a919febd1a9) for an example of how it works. Below are the interfaces/abstract contracts that can be optimized so that the most frequently-called functions use the least amount of gas possible during method lookup. Method IDs that have two leading zero bytes can save 128 gas each during deployment, and renaming functions to have lower method IDs will save 22 gas per call, [per sorted position shifted](https://medium.com/joyso/solidity-how-does-function-name-affect-gas-consumption-in-smart-contract-47d270d8ac92)

<details>
<summary>
There are <b>37</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `updateValueOracle`, `setFeeReceivers`, `sendTokensToTrustedAddress`, `setFees`, `deposit`, `calculateDepositShares`, `executeDeposit`, `withdraw`, `calculateWithdrawShares`, `startCurrentWithdrawGroup`, `fulfillCurrentWithdrawGroup`, `executeWithdraw`, `resetMiddle`, `recordProfitForFee`, `checkIfTVLHasDroped`, `collectManagementFees`, `collectPerformanceFees`, `burnShares`, `retrieveTokensForWithdraw`, `getProfit`, `totalAssets`, `getQueueItems`, `neededAssetsForWithdraw`, `TVL`, `getPositionTVL`, `getUnderlyingTokens`, `emergencyStop`, `unpause`, `setDepositLimits`, `changeDepositWaitingTime`, `changeWithdrawWaitingTime`, `rescue`, `mint`, `withdraw`, `redeem`, `deposit`
16: contract AccountingManager is IAccountingManager, ERC4626, ReentrancyGuard, Pausable, NoyaGovernanceBase {

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L16)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

/// @audit `withdrawShares`, `burnShares`
7: contract NoyaFeeReceiver is Ownable {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L7)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `setMaxNumHoldingPositions`, `setFlashLoanAddress`, `addVault`, `changeVaultAddresses`, `addConnector`, `updateConnectorTrustedTokens`, `getPositionBP`, `addTrustedPosition`, `removeTrustedPosition`, `updateHoldingPosition`, `updateHoldingPostionWithTime`, `getHoldingPositionIndex`, `getHoldingPosition`, `getHoldingPositions`, `isPositionTrusted`, `isPositionTrustedForConnector`, `getGovernanceAddresses`, `isTokenTrusted`, `calculatePositionId`, `isAnActiveConnector`, `isPositionDebt`, `getVaultAddresses`, `isAddressTrusted`
12: contract PositionRegistry is AccessControl, IPositionRegistry, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L12)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `supply`, `borrow`, `repay`, `repayWithCollateral`, `withdrawCollateral`, `_getPositionTVL`, `_getUnderlyingTokens`
11: contract AaveConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L11)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit `supply`, `withdraw`, `stake`, `unstake`, `claim`, `_getUnderlyingTokens`, `_getPositionTVL`
27: contract AerodromeConnector is BaseConnector {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L27)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `harvestAuraRewards`, `openPosition`, `depositIntoAuraBooster`, `decreasePosition`, `_getPositionTVL`, `totalLpBalanceOf`, `totalLpBalanceOf`
26: contract BalancerConnector is BaseConnector {

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L26)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `makeFlashLoan`, `receiveFlashLoan`
12: contract BalancerFlashLoan is IFlashLoanRecipient, ReentrancyGuard {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L12)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit `addLiquidityInCamelotPool`, `removeLiquidityFromCamelotPool`, `_getPositionTVL`, `_getUnderlyingTokens`
30: contract CamelotConnector is BaseConnector {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L30)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `supply`, `withdrawOrBorrow`, `claimRewards`, `getAccountHealthFactor`, `getBorrowBalanceInBase`, `getCollBlanace`, `_getPositionTVL`, `_getUnderlyingTokens`, `isInAsset`
7: contract CompoundConnector is BaseConnector {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L7)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `depositIntoGauge`, `depositIntoPrisma`, `depositIntoConvexBooster`, `openCurvePosition`, `decreaseCurvePosition`, `withdrawFromConvexBooster`, `withdrawFromConvexRewardPool`, `withdrawFromGauge`, `withdrawFromPrisma`, `harvestRewards`, `harvestPrismaRewards`, `harvestConvexRewards`, `_getPositionTVL`, `LPToUnder`, `estimateWithdrawAmount`, `totalLpBalanceOf`, `balanceOfConvexRewardPool`, `balanceOfLPToken`, `balanceOfRewardPool`, `balanceOfPrisma`
24: contract CurveConnector is BaseConnector {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit `deposit`, `withdraw`, `openBorrowPosition`, `transferBetweenAccounts`, `closeBorrowPosition`, `_getPositionTVL`
9: contract DolomiteConnector is BaseConnector {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L9)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `borrowAndSupply`, `withdraw`, `repay`, `verifyHealthFactor`, `_getUnderlyingTokens`, `_getPositionTVL`
18: contract FraxConnector is BaseConnector {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L18)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit `openAccount`, `closeAccount`, `executeCommands`, `_getPositionTVL`
8: contract Gearboxv3 is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L8)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `deposit`, `requestWithdrawals`, `claimWithdrawal`, `_getPositionTVL`
7: contract LidoConnector is BaseConnector, ERC721Holder {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L7)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `stake`, `unstake`, `addLiquidityInMaverickPool`, `removeLiquidityFromMaverickPool`, `claimBoostedPositionRewards`, `onERC721Received`, `_getPositionTVL`, `_getUnderlyingTokens`
29: contract MaverickConnector is BaseConnector, IERC721Receiver {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L29)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit `supply`, `withdraw`, `borrow`, `repay`, `getHealthFactor`, `_getPositionTVL`, `convertCToL`, `_getUnderlyingTokens`
8: contract MorphoBlueConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

/// @audit `sendPositionToMasterChef`, `updatePosition`, `withdraw`
8: contract PancakeswapConnector is UNIv3Connector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L8)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit `supply`, `mintPTAndYT`, `depositIntoMarket`, `depositIntoPenpie`, `withdrawFromPenpie`, `swapYTForPT`, `swapYTForSY`, `swapExactPTForSY`, `burnLP`, `decreasePosition`, `claimRewards`, `_getPositionTVL`, `getYTValue`, `isMarketEmpty`, `_getUnderlyingTokens`
12: contract PendleConnector is BaseConnector {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L12)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit `approveZap`, `openTrove`, `addColl`, `adjustTrove`, `closeTrove`, `_getPositionTVL`, `_getUnderlyingTokens`
11: contract PrismaConnector is BaseConnector {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L11)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit `createAccount`, `deposit`, `withdraw`, `onERC721Received`, `delegateIntoPreferredPool`, `delegateIntoApprovedPool`, `claimRewards`, `mintOrBurnSUSD`, `_getPositionTVL`, `_getUnderlyingTokens`
7: contract SNXV3Connector is BaseConnector, IERC721Receiver {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L7)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `deposit`, `withdraw`, `getData`, `borrow`, `repay`, `_getPositionTVL`, `isSiloEmpty`, `_getUnderlyingTokens`
8: contract SiloConnector is BaseConnector {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L8)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit `depositIntoStargatePool`, `withdrawFromStargatePool`, `claimStargateRewards`, `_getPositionTVL`, `_getUnderlyingTokens`
19: contract StargateConnector is BaseConnector {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L19)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `openPosition`, `decreasePosition`, `increasePosition`, `collectAllFees`, `getCurrentLiquidity`, `_getPositionTVL`, `_getUnderlyingTokens`
12: contract UNIv3Connector is BaseConnector, ERC721Holder {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L12)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit `updateOwners`, `setThreshold`, `execute`, `domainSeparatorV4`
9: contract Keepers is EIP712, Ownable2Step {

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L9)]


```solidity
File: ./contracts/governance/Watchers.sol

/// @audit `verifyRemoveLiquidity`
6: contract Watchers is Keepers {

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L6)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `updateMinimumHealthFactor`, `updateSwapHandler`, `updateValueOracle`, `sendTokensToTrustedAddress`, `transferPositionToAnotherConnector`, `updateTokenInRegistry`, `addLiquidity`, `swapHoldings`, `getUnderlyingTokens`, `getPositionTVL`, `_getUnderlyingTokens`, `_getPositionTVL`
22: contract BaseConnector is NoyaGovernanceBase, IConnector, ReentrancyGuard {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L22)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `sendTokensToTrustedAddress`, `addLiquidity`, `updatePositionToRegistryUsingType`, `addPositionToRegistryUsingType`, `addPositionToRegistry`, `getPositionTVL`, `getUnderlyingTokens`
14: contract ConnectorMock2 {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L14)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

/// @audit `setChainInfo`, `addVaultInfo`
18: contract LZHelperReceiver is OAppReceiver {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L18)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit `updateMessageSetting`, `setChainInfo`, `addVaultInfo`, `updateTVL`
19: contract LZHelperSender is OAppSender {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

/// @audit `updateTVL`, `_getPositionTVL`
8: contract OmnichainManagerBaseChain is OmnichainLogic {

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L8)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit `getTVL`, `updateTVLInfo`, `_getPositionTVL`
10: contract OmnichainManagerNormalChain is OmnichainLogic {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `setValueOracle`, `setGeneralSlippageTolerance`, `setSlippageTolerance`, `addEligibleUser`, `executeSwap`, `executeBridge`, `addRoutes`, `setEnableRoute`, `verifyRoute`
10: contract SwapAndBridgeHandler is NoyaGovernanceBase, ISwapAndBridgeHandler, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `addHandler`, `addChain`, `addBridgeBlacklist`, `performSwapAction`, `verifySwapData`, `performBridgeAction`, `verifyBridgeData`, `rescueFunds`
10: contract LifiImplementation is ISwapAndBridgeImplementation, Ownable2Step, ReentrancyGuard {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit `updateDefaultPriceSource`, `updateAssetPriceSource`, `updatePriceRoute`, `getValue`
10: contract NoyaValueOracle is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `updateChainlinkPriceAgeThreshold`, `setAssetSources`, `getValue`, `getValueFromChainlinkFeed`, `getTokenDecimals`, `getSourceOfAsset`
10: contract ChainlinkOracleConnector is INoyaValueOracle {

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L10)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `setPeriod`, `addPool`, `getValue`
12: contract UniswapValueOracle is INoyaValueOracle {

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L12)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

/// @audit `latestRoundData`
4: contract WETH_Oracle {

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L4)]


</details>


<a name="GAS-19"></a> 
### [GAS-19] Remove or replace unused state variables
Saves a storage slot. If the variable is assigned a non-zero value, saves Gsset (20000 gas). If it's assigned a zero value, saves Gsreset (2900 gas). If the variable remains unassigned, there is no gas savings unless the variable is `public`, in which case the compiler-generated non-payable getter deployment cost is saved. If the state variable is overriding an interface's public function, mark the variable as `constant` or `immutable` so that it does not use a storage slot.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/connectors/SNXConnector.sol

17:     uint256 public constant SNX_POOL_POSITION_ID = 2;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L17)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

24:     uint32 constant TVL_UPDATE = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L24)]



<a name="GAS-20"></a> 
### [GAS-20] `require()`/`revert()` strings longer than 32 bytes cost extra gas
Each extra memory word of bytes past the original 32 [incurs an MSTORE](https://gist.github.com/hrkrshnn/ee8fabd532058307229d65dcd5836ddc#consider-having-short-revert-strings) which costs 3 gas

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

84:         require(verifySwapData(_request), "LifiImplementation: INVALID_SWAP_DATA");

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L84)]



<a name="GAS-21"></a> 
### [GAS-21] The result of a function call should be cached rather than re-calling the function
The function calls in solidity are expensive. If the same result of the same function calls are to be used several times, the result should be cached to reduce the gas consumption of repeated calls.

*There are <b>7</b> instances of this issue:*
```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `balanceOfPrisma` is called 2 times
311:     function totalLpBalanceOf(PoolInfo memory info) public view returns (uint256) {

```
*Github:* [[311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L311)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `_getValue` is called 2 times
/// @audit `getValue` is called 2 times
150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit `getHealthFactor` is called 2 times
80:     function borrow(uint256 amount, Id id) external onlyManager nonReentrant {

```
*Github:* [[80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L80)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `getValue` is called 2 times
127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit `TVL` is called 2 times
28:     function updateTVLInfo() external onlyManager {

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L28)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit `getValue` is called 2 times
81:     function _getValue(address asset, address baseToken, uint256 amount, address[] memory sources)
            internal
            view
            returns (uint256 value)
        {

/// @audit `getValue` is called 2 times
95:     function _getValue(address quotingToken, address baseToken, uint256 amount) internal view returns (uint256) {

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L81), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L95)]



<a name="GAS-22"></a> 
### [GAS-22] There are comparisons to boolean literals (true and false), these can be simplified to save gas
In such instances you can simplify as follows: if ( == true) ==> if () | if ( == false) ==> if (!)

<details>
<summary>
There are <b>16</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

335:         if (currentWithdrawGroup.isFullfilled == false && currentWithdrawGroup.isStarted == true) {

335:         if (currentWithdrawGroup.isFullfilled == false && currentWithdrawGroup.isStarted == true) {

361:         require(currentWithdrawGroup.isStarted == false && currentWithdrawGroup.isFullfilled == false);

361:         require(currentWithdrawGroup.isStarted == false && currentWithdrawGroup.isFullfilled == false);

371:         require(currentWithdrawGroup.isStarted == true && currentWithdrawGroup.isFullfilled == false);

371:         require(currentWithdrawGroup.isStarted == true && currentWithdrawGroup.isFullfilled == false);

397:         if (currentWithdrawGroup.isFullfilled == false) {

619:             currentWithdrawGroup.isStarted == false || currentWithdrawGroup.isFullfilled == true

619:             currentWithdrawGroup.isStarted == false || currentWithdrawGroup.isFullfilled == true

```
*Github:* [[335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L335), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L335), [361](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L361), [361](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L361), [371](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L371), [371](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L371), [397](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L397), [619](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L619), [619](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L619)]


```solidity
File: ./contracts/accountingManager/Registry.sol

33:         if (msg.sender != vaults[_vaultId].maintainer || hasRole(EMERGENCY_ROLE, msg.sender) == false) {

40:         if (msg.sender != vaults[_vaultId].maintainerWithoutTimeLock && hasRole(EMERGENCY_ROLE, msg.sender) == false) {

47:         if (msg.sender != vaults[_vaultId].governer && hasRole(EMERGENCY_ROLE, msg.sender) == false) {

251:             if (vault.connectors[calculatorConnector].enabled == false) revert NotExist();

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L33), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L40), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L47), [251](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L251)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

35:         require(isHandler[msg.sender] == true, "LifiImplementation: INVALID_SENDER");

153:         if (isBridgeWhiteListed[bridgeData.bridge] == false) revert BridgeBlacklisted();

154:         if (isChainSupported[bridgeData.destinationChainId] == false) revert InvalidChainId();

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L35), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L153), [154](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L154)]


</details>


<a name="GAS-23"></a> 
### [GAS-23] State variables access within a loop
State variable reads and writes are more expensive than local variable reads and writes. Therefore, it is recommended to replace state variable reads and writes within loops with a local variable. Gas savings should be multiplied by the average loop length.

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `baseToken`
555:             uint256 balanceBefore = baseToken.balanceOf(address(this));

/// @audit `baseToken`
559:             uint256 balanceAfter = baseToken.balanceOf(address(this));

/// @audit `depositQueue`
604:                 depositData[i] = depositQueue.queue[items[i]];

/// @audit `withdrawQueue`
609:                 withdrawData[i] = withdrawQueue.queue[items[i]];

```
*Github:* [[555](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L555), [559](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L559), [604](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L604), [609](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L609)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `routes`
148:         for (uint256 i = 0; i < _routes.length;) {

/// @audit `routes`
149:             routes.push(_routes[i]);

```
*Github:* [[148](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L148), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L149)]



<a name="GAS-24"></a> 
### [GAS-24] State variables only set in the constructor should be declared immutable
Accessing state variables within a function involves an `SLOAD` operation, but `immutable` variables can be accessed directly without the need of it, thus reducing gas costs. As these state variables are assigned only in the constructor, consider declaring them `immutable`.

<details>
<summary>
There are <b>47</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

60:     IERC20 public baseToken;

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L60)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

8:     address public receiver;

9:     address public accountingManager;

10:     address public baseToken;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L8), [9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L9), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L10)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

33:     IRouter aerodromeRouter;

34:     IVoter voter;

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L33), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L34)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

27:     address internal balancerVault;

29:     address public BAL;

30:     address public AURA;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L27), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L30)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

15:     IBalancerVault internal vault;

16:     PositionRegistry public registry;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L16)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

31:     ICamelotRouter public router;

32:     ICamelotFactory public factory;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L32)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

26:     IBooster public convexBooster;

27:     address public CVX;

28:     address public CRV;

29:     address public PRISMA;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L26), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L29)]


```solidity
File: ./contracts/connectors/Dolomite.sol

12:     IDepositWithdrawalProxy public depositWithdrawalProxy;

13:     IDolomiteMargin public dolomiteMargin;

14:     IBorrowPositionProxyV1 public borrowPositionProxy;

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L12), [13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L14)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

8:     address public lido;

9:     address public lidoWithdrawal;

10:     address public steth;

11:     address public weth;

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L8), [9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L9), [10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L10), [11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L11)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

30:     address mav;

31:     address veMav;

32:     address maverickRouter;

33:     IPositionInspector positionInspector;

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L30), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L31), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L32), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L33)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

12:     IMasterchefV3 public masterchef;

```
*Github:* [[12](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L12)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

22:     IPendleMarketDepositHelper public pendleMarketDepositHelper;

23:     IPAllActionV3 public pendleRouter;

24:     IPendleStaticRouter public staticRouter;

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L24)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

14:     IV3CoreProxy public SNXCoreProxy;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L14)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

9:     ISiloRepository public siloRepository;

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L9)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

22:     IStargateLPStaking LPStaking;

23:     IStargateRouter stargateRouter;

24:     address rewardToken;

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L24)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

7:     PositionRegistry public registry;

8:     uint256 public vaultId;

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L8)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

17:     uint256 public vaultId = 0;

18:     PositionRegistry public registry;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L17), [18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L18)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

17:     address payable public lzHelper;

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L17)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

16:     address public lifi;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L16)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

11:     PositionRegistry public registry;

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L11)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

11:     PositionRegistry public registry;

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L11)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

16:     address public factory;

17:     PositionRegistry public registry;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L17)]


</details>


<a name="GAS-25"></a> 
### [GAS-25] Unlimited gas consumption risk due to external call recipients
When calling an external function without specifying a gas limit , the called contract may consume all the remaining gas, causing the tx to be reverted. To mitigate this, it is recommended to explicitly set a gas limit when making low level external calls.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

685:             (bool success,) = payable(msg.sender).call{ value: amount }("");

```
*Github:* [[685](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L685)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

176:         (bool success, bytes memory err) = lifi.call{ value: msg.value }(data);

195:             (bool success,) = payable(userAddress).call{ value: amount }("");

```
*Github:* [[176](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L176), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L195)]



<a name="GAS-26"></a> 
### [GAS-26] Unused named return variables without optimizer waste gas
Consider changing the variable to be an unnamed one, since the variable is never assigned, nor is it returned by name. If the optimizer is not turned on, leaving the code as it is will also waste gas for the stack variable.

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `tvl` not used
114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit `tvl` not used
88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `tvl` not used
265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit `tvl` not used
106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit `tvl` not used
93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `tvl` not used
91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `tvl` not used
153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit `tvl` not used
145:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L145)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `userLTV` not used
/// @audit `LiquidationThreshold` not used
/// @audit `isSolvent` not used
71:     function getData(address siloToken)
            public
            view
            returns (uint256 userLTV, uint256 LiquidationThreshold, bool isSolvent)
        {

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L71)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit `tvl` not used
110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `tvl` not used
271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

```
*Github:* [[271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `isNative` not used
189:     function _isNative(IERC20 token) internal pure returns (bool isNative) {

```
*Github:* [[189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L189)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit `source` not used
/// @audit `isInverse` not used
143:     function getSourceOfAsset(address asset, address baseToken) public view returns (address source, bool isInverse) {

```
*Github:* [[143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L143)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

/// @audit `roundId` not used
/// @audit `answer` not used
/// @audit `startedAt` not used
/// @audit `updatedAt` not used
/// @audit `answeredInRound` not used
5:     function latestRoundData()
           external
           view
           returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)
       {

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L5)]


</details>


<a name="GAS-27"></a> 
### [GAS-27] Optimize external calls with assembly for memory efficiency
Using interfaces to make external contract calls in Solidity is convenient but can be inefficient in terms of memory utilization. Each such call involves creating a new memory location to store the data being passed, thus incurring memory expansion costs.

Inline assembly allows for optimized memory usage by re-using already allocated memory spaces or using the scratch space for smaller datasets. This can result in notable gas savings, especially for contracts that make frequent external calls.

Additionally, using inline assembly enables important safety checks like verifying if the target address has code deployed to it using `extcodesize(addr)` before making the call, mitigating risks associated with contract interactions.

<details>
<summary>
There are <b>253</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `.safeTransfer(...)`
156:             IERC20(token).safeTransfer(address(msg.sender), amount);

/// @audit `.safeTransferFrom(...)`
205:         baseToken.safeTransferFrom(msg.sender, address(this), amount);

/// @audit `.addLiquidity(...)`
293:             IConnector(connector).addLiquidity(tokens, amounts, addLPdata);

/// @audit `.safeTransfer(...)`
428:             baseToken.safeTransfer(data.receiver, baseTokenAmount);

/// @audit `.safeTransfer(...)`
439:             baseToken.safeTransfer(withdrawFeeReceiver, withdrawFeeAmount);

/// @audit `.safeTransfer(...)`
688:             IERC20(token).safeTransfer(msg.sender, amount);

```
*Github:* [[156](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L156), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L205), [293](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L293), [428](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L428), [439](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L439), [688](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L688)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `.supply(...)`
48:         IPool(pool).supply(supplyToken, amount, address(this), 0);

/// @audit `.updateHoldingPosition(...)`
49:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
50:             vaultId, registry.calculatePositionId(address(this), AAVE_POSITION_ID, ""), "", "", false

/// @audit `.borrow(...)`
70:         IPool(pool).borrow(_borrowAsset, _amount, _interestRateMode, 0, address(this));

/// @audit `.repay(...)`
83:         IPool(pool).repay(asset, amount, i, address(this));

/// @audit `.repayWithATokens(...)`
89:         IPool(pool).repayWithATokens(_borrowAsset, _amount, i);

/// @audit `.withdraw(...)`
101:         IPool(pool).withdraw(_collateral, _collateralAmount, address(this));

/// @audit `.updateHoldingPosition(...)`
107:             registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
108:                 vaultId, registry.calculatePositionId(address(this), AAVE_POSITION_ID, ""), "", "", true

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L48), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L49), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L50), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L70), [83](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L83), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L89), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L101), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L107), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L108)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit `.token0(...)`
55:         _approveOperations(IPool(data.pool).token0(), address(aerodromeRouter), data.amount0);

/// @audit `.token1(...)`
56:         _approveOperations(IPool(data.pool).token1(), address(aerodromeRouter), data.amount1);

/// @audit `.addLiquidity(...)`
57:         aerodromeRouter.addLiquidity(

/// @audit `.token0(...)`
58:             IPool(data.pool).token0(),

/// @audit `.token1(...)`
59:             IPool(data.pool).token1(),

/// @audit `.stable(...)`
60:             IPool(data.pool).stable(),

/// @audit `.updateHoldingPosition(...)`
68:         registry.updateHoldingPosition(vaultId, positionId, "", "", false);

/// @audit `.token0(...)`
69:         _updateTokenInRegistry(IPool(data.pool).token0());

/// @audit `.token1(...)`
70:         _updateTokenInRegistry(IPool(data.pool).token1());

/// @audit `.removeLiquidity(...)`
82:         aerodromeRouter.removeLiquidity(

/// @audit `.token0(...)`
83:             IPool(data.pool).token0(),

/// @audit `.token1(...)`
84:             IPool(data.pool).token1(),

/// @audit `.stable(...)`
85:             IPool(data.pool).stable(),

/// @audit `.updateHoldingPosition(...)`
93:             registry.updateHoldingPosition(vaultId, positionId, "", "", true);

/// @audit `.token0(...)`
95:         _updateTokenInRegistry(IPool(data.pool).token0());

/// @audit `.token1(...)`
96:         _updateTokenInRegistry(IPool(data.pool).token1());

/// @audit `.forceApprove(...)`
102:         IERC20(pool).forceApprove(address(gauge), liquidity);

/// @audit `.deposit(...)`
103:         IGauge(gauge).deposit(liquidity, address(this));

/// @audit `.withdraw(...)`
108:         IGauge(gauge).withdraw(liquidity);

/// @audit `.getReward(...)`
113:         IGauge(gauge).getReward(address(this));

/// @audit `.rewardToken(...)`
114:         _updateTokenInRegistry(IGauge(gauge).rewardToken());

```
*Github:* [[55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L55), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L56), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L57), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L58), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L59), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L60), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L68), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L69), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L70), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L82), [83](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L83), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L84), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L85), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L93), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L95), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L96), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L102), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L103), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L108), [113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L113), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L114)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `.getReward(...)`
56:             baseRewardPool.getReward();

/// @audit `.joinPool(...)`
81:         IBalancerVault(balancerVault).joinPool(

/// @audit `.updateHoldingPosition(...)`
97:         registry.updateHoldingPosition(vaultId, positionId, "", "", false);

/// @audit `.deposit(...)`
104:             IRewardPool(_poolInfo.auraPoolAddress).deposit(auraAmount, address(this));

/// @audit `.deposit(...)`
112:         IRewardPool(_poolInfo.auraPoolAddress).deposit(_amount, address(this));

/// @audit `.withdrawAndUnwrap(...)`
119:             IRewardPool(_poolInfo.auraPoolAddress).withdrawAndUnwrap(p._auraAmount, true);

/// @audit `.exitPool(...)`
130:             IBalancerVault(balancerVault).exitPool(

/// @audit `.updateHoldingPosition(...)`
147:                 registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
149:                     registry.calculatePositionId(address(this), BALANCER_LP_POSITION, abi.encode(p.poolId)),

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L56), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L81), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L97), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L104), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L112), [119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L119), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L130), [147](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L147), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L149)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `.flashLoan(...)`
43:         vault.flashLoan(this, tokens, amounts, userData);

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L43)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit `.addLiquidity(...)`
46:         router.addLiquidity(

/// @audit `.updateHoldingPosition(...)`
51:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
53:             registry.calculatePositionId(address(this), CAMELOT_POSITION_ID, abi.encode(p.tokenA, p.tokenB)),

/// @audit `.removeLiquidity(...)`
72:         router.removeLiquidity(

/// @audit `.updateHoldingPosition(...)`
78:             registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
80:                 registry.calculatePositionId(address(this), CAMELOT_POSITION_ID, abi.encode(p.tokenA, p.tokenB)),

/// @audit `.getPositionBP(...)`
90:             abi.decode(registry.getPositionBP(vaultId, p.positionId).data, (address, address));

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L46), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L51), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L53), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L72), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L78), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L80), [90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L90)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `.supply(...)`
32:         IComet(market).supply(asset, amount);

/// @audit `.updateHoldingPosition(...)`
33:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
34:             vaultId, registry.calculatePositionId(address(this), COMPOUND_LP, abi.encode(market)), "", "", false

/// @audit `.withdraw(...)`
49:         IComet(_market).withdraw(asset, amount);

/// @audit `.updateHoldingPosition(...)`
54:             registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
55:                 vaultId, registry.calculatePositionId(address(this), COMPOUND_LP, abi.encode(_market)), "", "", true

/// @audit `.claim(...)`
65:         IRewards(rewardContract).claim(address(market), address(this), true);

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L32), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L33), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L34), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L49), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L54), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L55), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit `.deposit(...)`
72:         IRewardsGauge(poolInfo.gauge).deposit(amount);

/// @audit `.deposit(...)`
93:         IDepositToken(depostiToken).deposit(address(this), amount);

/// @audit `.deposit(...)`
107:         convexBooster.deposit(pid, amount, stake);

/// @audit `.add_liquidity(...)`
131:             ICurveSwap(poolAddress).add_liquidity(amounts, minAmount);

/// @audit `.add_liquidity(...)`
135:             ICurveSwap(poolAddress).add_liquidity(amounts, minAmount);

/// @audit `.add_liquidity(...)`
139:             ICurveSwap(poolAddress).add_liquidity(amounts, minAmount);

/// @audit `.add_liquidity(...)`
143:             ICurveSwap(poolAddress).add_liquidity(amounts, minAmount);

/// @audit `.add_liquidity(...)`
147:             ICurveSwap(poolAddress).add_liquidity(amounts, minAmount);

/// @audit `.updateHoldingPosition(...)`
150:         registry.updateHoldingPosition(vaultId, positionId, "", "", false);

/// @audit `.remove_liquidity_one_coin(...)`
169:         ICurveSwap(poolInfo.pool).remove_liquidity_one_coin(amount, int128(uint128(withdrawIndex)), minAmount);

/// @audit `.updateHoldingPosition(...)`
172:             registry.updateHoldingPosition(vaultId, positionId, "", "", true);

/// @audit `.withdraw(...)`
183:         convexBooster.withdraw(pid, amount);

/// @audit `.withdraw(...)`
193:         IConvexBasicRewards(pool).withdraw(amount, true);

/// @audit `.withdraw(...)`
203:         IRewardsGauge(pool).withdraw(amount);

/// @audit `.withdraw(...)`
213:         IDepositToken(depostiToken).withdraw(address(this), amount);

/// @audit `.claim_rewards(...)`
223:             IRewardsGauge(gauges[i]).claim_rewards(address(this));

/// @audit `.claimReward(...)`
235:             IDepositToken(pools[i]).claimReward(address(this));

/// @audit `.getReward(...)`
250:             baseRewardPool.getReward(address(this), true);

```
*Github:* [[72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L72), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L93), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L107), [131](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L131), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L135), [139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L139), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L143), [147](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L147), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L150), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L169), [172](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L172), [183](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L183), [193](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L193), [203](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L203), [213](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L213), [223](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L223), [235](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L235), [250](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L250)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit `.depositWeiIntoDefaultAccount(...)`
35:         depositWithdrawalProxy.depositWeiIntoDefaultAccount(marketId, _amount);

/// @audit `.updateHoldingPosition(...)`
38:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
39:             vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(0), "", false

/// @audit `.withdrawWeiFromDefaultAccount(...)`
45:         depositWithdrawalProxy.withdrawWeiFromDefaultAccount(

/// @audit `.updateHoldingPosition(...)`
52:             registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
53:                 vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(0), "", true

/// @audit `.openBorrowPosition(...)`
69:         borrowPositionProxy.openBorrowPosition(

/// @audit `.updateHoldingPosition(...)`
72:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
73:             vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(accountId), "", true

/// @audit `.transferBetweenAccounts(...)`
88:             borrowPositionProxy.transferBetweenAccounts(

/// @audit `.transferBetweenAccounts(...)`
92:             borrowPositionProxy.transferBetweenAccounts(

/// @audit `.closeBorrowPosition(...)`
100:         borrowPositionProxy.closeBorrowPosition(accountId, 0, marketIds);

/// @audit `.updateHoldingPosition(...)`
101:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
102:             vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(accountId), "", true

/// @audit `.getAccountBalances(...)`
110:             dolomiteMargin.getAccountBalances(Info(address(this), accountId));

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L35), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L39), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L45), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L53), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L69), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L72), [73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L73), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L88), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L92), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L100), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L101), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L102), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L110)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `.calculatePositionId(...)`
44:             registry.calculatePositionId(address(this), COLLATERAL_AND_DEBT_POSITION_TYPE, abi.encode(pool));

/// @audit `.borrowAsset(...)`
50:             pool.borrowAsset(borrowAmount, collateralAmount, address(this));

/// @audit `.asset(...)`
51:             _updateTokenInRegistry(pool.asset());

/// @audit `.addCollateral(...)`
53:             pool.addCollateral(collateralAmount, address(this));

/// @audit `.updateHoldingPosition(...)`
58:         registry.updateHoldingPosition(vaultId, positionId, "", "", false);

/// @audit `.calculatePositionId(...)`
72:                 registry.calculatePositionId(address(this), COLLATERAL_AND_DEBT_POSITION_TYPE, abi.encode(pool));

/// @audit `.updateHoldingPosition(...)`
74:             registry.updateHoldingPosition(vaultId, positionId, "", "", true);

/// @audit `.removeCollateral(...)`
76:         pool.removeCollateral(withdrawAmount, address(this));

/// @audit `.collateralContract(...)`
77:         _updateTokenInRegistry(pool.collateralContract());

/// @audit `.repayAsset(...)`
95:         IFraxPair(pool).repayAsset(sharesToRepay, address(this));

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L44), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L50), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L51), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L53), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L58), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L72), [74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L74), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L76), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L77), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L95)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit `.updateHoldingPosition(...)`
26:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
28:             registry.calculatePositionId(address(this), GEARBOX_POSITION_ID, abi.encode(facade)),

/// @audit `.closeCreditAccount(...)`
42:         ICreditFacadeV3(facade).closeCreditAccount(creditAccount, new MultiCall[](0));

/// @audit `.updateHoldingPosition(...)`
44:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
46:             registry.calculatePositionId(address(this), GEARBOX_POSITION_ID, abi.encode(facade)),

/// @audit `.creditManager(...)`
79:             _approveOperations(approvalToken, ICreditFacadeV3(facade).creditManager(), amount);

/// @audit `.multicall(...)`
81:         ICreditFacadeV3(facade).multicall(creditAccount, calls);

/// @audit `.creditManager(...)`
83:             _revokeApproval(approvalToken, ICreditFacadeV3(facade).creditManager());

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L26), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L28), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L42), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L44), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L46), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L79), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L81), [83](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L83)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `.withdraw(...)`
38:         IWETH(weth).withdraw(amountIn);

/// @audit `.updateHoldingPosition(...)`
59:         registry.updateHoldingPosition(vaultId, positionId, abi.encode(requestIds[0]), abi.encode(amount), false);

/// @audit `.approve(...)`
71:         ILidoWithdrawal(lidoWithdrawal).approve(lidoWithdrawal, requestId);

/// @audit `.claimWithdrawal(...)`
75:         ILidoWithdrawal(lidoWithdrawal).claimWithdrawal(requestId);

/// @audit `.updateHoldingPosition(...)`
78:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
80:             registry.calculatePositionId(address(this), LIDO_WITHDRAWAL_REQUEST_ID, ""),

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L38), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L59), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L75), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L78), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L80)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `.stake(...)`
68:         IveMAV(veMav).stake(amount, duration, doDelegation);

/// @audit `.unstake(...)`
80:         IveMAV(veMav).unstake(lockupId);

/// @audit `.tokenA(...)`
93:         _approveOperations(p.pool.tokenA(), maverickRouter, p.tokenARequiredAllowance); // TODO: check token A is eth

/// @audit `.tokenB(...)`
94:         _approveOperations(p.pool.tokenB(), maverickRouter, p.tokenBRequiredAllowance);

/// @audit `.updateHoldingPosition(...)`
102:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
103:             vaultId, registry.calculatePositionId(address(this), MAVERICK_LP, abi.encode(p.pool)), "", "", false

/// @audit `.tokenA(...)`
105:         _updateTokenInRegistry(p.pool.tokenA());

/// @audit `.tokenB(...)`
106:         _updateTokenInRegistry(p.pool.tokenB());

/// @audit `.approve(...)`
121:         position.approve(maverickRouter, p.tokenId);

/// @audit `.removeLiquidity(...)`
122:         IMaverickRouter(maverickRouter).removeLiquidity(

/// @audit `.updateHoldingPosition(...)`
125:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
126:             vaultId, registry.calculatePositionId(address(this), MAVERICK_LP, abi.encode(p.pool)), "", "", true

/// @audit `.tokenA(...)`
128:         _updateTokenInRegistry(p.pool.tokenA());

/// @audit `.tokenB(...)`
129:         _updateTokenInRegistry(p.pool.tokenB());

/// @audit `.getReward(...)`
143:                 rewardContract.getReward(address(this), tokenIndex);

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L68), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L80), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L93), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L94), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L102), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L103), [105](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L105), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L106), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L121), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L122), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L125), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L126), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L128), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L129), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L143)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit `.supply(...)`
39:             morphoBlue.supply(params, amount, 0, address(this), "");

/// @audit `.supplyCollateral(...)`
43:             morphoBlue.supplyCollateral(params, amount, address(this), "");

/// @audit `.updateHoldingPosition(...)`
46:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
47:             vaultId, registry.calculatePositionId(address(this), MORPHO_POSITION_ID, abi.encode(id)), "", "", false

/// @audit `.withdraw(...)`
61:             morphoBlue.withdraw(params, amount, 0, address(this), address(this));

/// @audit `.withdrawCollateral(...)`
63:             morphoBlue.withdrawCollateral(params, amount, address(this), address(this));

/// @audit `.updateHoldingPosition(...)`
67:             registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
68:                 vaultId, registry.calculatePositionId(address(this), MORPHO_POSITION_ID, abi.encode(id)), "", "", true

/// @audit `.borrow(...)`
82:         morphoBlue.borrow(market, amount, 0, address(this), address(this));

/// @audit `.market(...)`
84:             revert IConnector_LowHealthFactor(getHealthFactor(id, morphoBlue.market(id)));

/// @audit `.repay(...)`
98:         morphoBlue.repay(params, amount, 0, address(this), "");

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L39), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L43), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L46), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L47), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L61), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L63), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L67), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L68), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L82), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L84), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L98)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

/// @audit `.safeTransferFrom(...)`
32:         IERC721(address(positionManager)).safeTransferFrom(address(this), address(masterchef), tokenId);

/// @audit `.updateLiquidity(...)`
41:         masterchef.updateLiquidity(tokenId);

/// @audit `.CAKE(...)`
42:         _updateTokenInRegistry(masterchef.CAKE());

/// @audit `.withdraw(...)`
51:         masterchef.withdraw(tokenId, address(this));

/// @audit `.CAKE(...)`
52:         _updateTokenInRegistry(masterchef.CAKE());

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L32), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L41), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L42), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L51), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L52)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit `.updateHoldingPosition(...)`
88:         registry.updateHoldingPosition(vaultId, positionId, "", "", false);

/// @audit `.safeTransfer(...)`
99:         IERC20(address(_SY)).safeTransfer(address(_YT), syAmount);

/// @audit `.mintPY(...)`
100:         _YT.mintPY(address(this), address(this));

/// @audit `.safeTransfer(...)`
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit `.safeTransfer(...)`
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit `.mint(...)`
116:         market.mint(address(this), SYamount, PTamount);

/// @audit `.skim(...)`
117:         market.skim();

/// @audit `.pendleStaking(...)`
127:         _approveOperations(_market, pendleMarketDepositHelper.pendleStaking(), _amount);

/// @audit `.depositMarket(...)`
128:         pendleMarketDepositHelper.depositMarket(_market, _amount);

/// @audit `.withdrawMarketWithClaim(...)`
138:         pendleMarketDepositHelper.withdrawMarketWithClaim(_market, _amount, true);

/// @audit `.swapExactYtForPt(...)`
155:         pendleRouter.swapExactYtForPt(address(this), market, exactYTIn, min, guess);

/// @audit `.swapExactYtForSy(...)`
172:         pendleRouter.swapExactYtForSy(address(this), market, exactYTIn, min, orderData);

/// @audit `.safeTransfer(...)`
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit `.skim(...)`
194:         market.skim();

/// @audit `.safeTransfer(...)`
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit `.burn(...)`
205:         market.burn(address(this), address(market), amount);

/// @audit `.skim(...)`
206:         market.skim();

/// @audit `.safeTransfer(...)`
221:         IERC20(address(SY)).safeTransfer(address(SY), _amount);

/// @audit `.redeem(...)`
222:         IPStandardizedYield(address(SY)).redeem(address(this), _amount, _underlyingToken, 1, true);

/// @audit `.updateHoldingPosition(...)`
224:             registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
226:                 registry.calculatePositionId(address(this), PENDLE_POSITION_ID, abi.encode(market)),

/// @audit `.redeemRewards(...)`
242:         market.redeemRewards(address(this));

/// @audit `.balanceOf(...)`
269:                 IERC20(market).balanceOf(address(this)) + pendleMarketDepositHelper.balance(market, address(this));

/// @audit `.balance(...)`
269:                 IERC20(market).balanceOf(address(this)) + pendleMarketDepositHelper.balance(market, address(this));

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L99), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L100), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L116), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L117), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L127), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L128), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L138), [155](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L155), [172](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L172), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L194), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [206](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L206), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L221), [222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L222), [224](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L224), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L226), [242](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L242), [269](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L269), [269](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L269)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit `.setDelegateApproval(...)`
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit `.borrowerOps(...)`
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit `.openTrove(...)`
62:         zap.openTrove(tm, maxFee, dAmount, bAmount, address(this), address(this));

/// @audit `.updateHoldingPosition(...)`
63:         registry.updateHoldingPosition(vaultId, positionId, "", "", false);

/// @audit `.calculatePositionId(...)`
77:             registry.calculatePositionId(address(this), PRISMA_POSITION_ID, abi.encode(zapContract, tm));

/// @audit `.addColl(...)`
84:         zapContract.addColl(tm, amountIn, address(this), address(this));

/// @audit `.calculatePositionId(...)`
106:             registry.calculatePositionId(address(this), PRISMA_POSITION_ID, abi.encode(zapContract, tm));

/// @audit `.debtToken(...)`
112:             _approveOperations(ITroveManager(tm).debtToken(), address(borrowerOps), bAmount);

/// @audit `.adjustTrove(...)`
114:         borrowerOps.adjustTrove(tm, address(this), mFee, 0, wAmount, bAmount, isBorrowing, address(this), address(this));

/// @audit `.debtToken(...)`
115:         _updateTokenInRegistry(ITroveManager(tm).debtToken());

/// @audit `.calculatePositionId(...)`
131:             registry.calculatePositionId(address(this), PRISMA_POSITION_ID, abi.encode(zapContract, troveManager));

/// @audit `.closeTrove(...)`
133:         borrowerOperations.closeTrove(troveManager, address(this));

/// @audit `.updateHoldingPosition(...)`
134:         registry.updateHoldingPosition(vaultId, positionId, "", "", true);

/// @audit `.getTroveCollAndDebt(...)`
153:                 ITroveManager(troveManager).getTroveCollAndDebt(address(this));

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L62), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L63), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L77), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L84), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L106), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L112), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L114), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L115), [131](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L131), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L133), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L134), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L153)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit `.createAccount(...)`
27:         SNXCoreProxy.createAccount();

/// @audit `.deposit(...)`
34:         SNXCoreProxy.deposit(_accountId, _token, _amount);

/// @audit `.updateHoldingPosition(...)`
35:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
37:             registry.calculatePositionId(address(this), SNX_POSITION_ID, ""),

/// @audit `.withdraw(...)`
49:         SNXCoreProxy.withdraw(_accountId, _token, _amount);

/// @audit `.updateHoldingPosition(...)`
52:             registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
54:                 registry.calculatePositionId(address(this), SNX_POSITION_ID, ""),

/// @audit `.delegateCollateral(...)`
78:         SNXCoreProxy.delegateCollateral(_accountId, poolId, collateralType, newCollateralAmountD18, leverage);

/// @audit `.delegateCollateral(...)`
89:         SNXCoreProxy.delegateCollateral(

/// @audit `.claimRewards(...)`
98:         SNXCoreProxy.claimRewards(accountId, poolId, collateralType, distributor);

/// @audit `.mintUsd(...)`
112:             SNXCoreProxy.mintUsd(_accountId, poolId, collateralType, _amount);

/// @audit `.burnUsd(...)`
115:             SNXCoreProxy.burnUsd(_accountId, poolId, collateralType, _amount);

/// @audit `.getAccountCollateral(...)`
124:             SNXCoreProxy.getAccountCollateral(accountId, collateralType);

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L27), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L34), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L35), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L37), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L49), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L52), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L54), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L78), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L89), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L98), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L112), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L115), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L124)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `.deposit(...)`
36:         silo.deposit(dToken, amount, oC);

/// @audit `.updateHoldingPosition(...)`
38:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
39:             vaultId, registry.calculatePositionId(address(this), SILO_LP_ID, abi.encode(siloToken)), "", "", false

/// @audit `.withdraw(...)`
58:         silo.withdraw(wToken, amount, oC);

/// @audit `.updateHoldingPosition(...)`
61:             registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
62:                 vaultId, registry.calculatePositionId(address(this), SILO_LP_ID, abi.encode(siloToken)), "", "", true

/// @audit `.borrow(...)`
87:         silo.borrow(bToken, amount);

/// @audit `.repay(...)`
101:         silo.repay(rToken, amount);

/// @audit `.balanceOf(...)`
134:                 IERC20(assetsS[i].collateralToken).balanceOf(address(this))

/// @audit `.balanceOf(...)`
135:                     + IERC20(assetsS[i].collateralOnlyToken).balanceOf(address(this)) > 0

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L36), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L39), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L58), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L61), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L62), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L87), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L101), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L134), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L135)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit `.addLiquidity(...)`
54:             stargateRouter.addLiquidity(depositRequest.poolId, depositRequest.routerAmount, address(this));

/// @audit `.deposit(...)`
63:             LPStaking.deposit(depositRequest.poolId, stakingAmount);

/// @audit `.calculatePositionId(...)`
67:             registry.calculatePositionId(address(this), STARGATE_LP_POSITION_TYPE, abi.encode(depositRequest.poolId));

/// @audit `.updateHoldingPosition(...)`
68:         registry.updateHoldingPosition(vaultId, positionId, "", "", false);

/// @audit `.withdraw(...)`
80:             IStargateLPStaking(LPStaking).withdraw(withdrawRequest.poolId, withdrawRequest.LPStakingAmount);

/// @audit `.instantRedeemLocal(...)`
83:             stargateRouter.instantRedeemLocal(

/// @audit `.updateHoldingPosition(...)`
93:             registry.updateHoldingPosition(vaultId, positionId, "", "", true);

/// @audit `.deposit(...)`
104:         LPStaking.deposit(poolId, 0);

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L54), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L63), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L67), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L68), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L80), [83](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L83), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L93), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L104)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `.calculatePositionId(...)`
42:             registry.calculatePositionId(address(this), UNI_LP_POSITION_TYPE, abi.encode(p.token0, p.token1));

/// @audit `.updateHoldingPosition(...)`
51:         registry.updateHoldingPosition(

/// @audit `.decreaseLiquidity(...)`
68:         positionManager.decreaseLiquidity(p);

/// @audit `.burn(...)`
74:             positionManager.burn(p.tokenId);

/// @audit `.calculatePositionId(...)`
76:                 registry.calculatePositionId(address(this), UNI_LP_POSITION_TYPE, abi.encode(token0, token1));

/// @audit `.updateHoldingPosition(...)`
78:             registry.updateHoldingPosition(vaultId, positionId, positionData, "", true);

/// @audit `.increaseLiquidity(...)`
92:         positionManager.increaseLiquidity(p);

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L42), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L51), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L68), [74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L74), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L76), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L78), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L92)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `.safeTransfer(...)`
96:             IERC20(token).safeTransfer(address(accountingManager), newAmount);

/// @audit `.safeTransfer(...)`
99:             IERC20(token).safeTransfer(address(msg.sender), amount);

/// @audit `.verifyRoute(...)`
102:             swapHandler.verifyRoute(routeId, msg.sender);

/// @audit `.safeTransfer(...)`
104:             IERC20(token).safeTransfer(msg.sender, amount);

/// @audit `.addLiquidity(...)`
130:             IConnector(connector).addLiquidity(tokens, amounts, data);

/// @audit `.getHoldingPositionIndex(...)`
141:             registry.getHoldingPositionIndex(vaultId, positionId, address(this), abi.encode(address(this)));

/// @audit `.updateHoldingPosition(...)`
144:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

/// @audit `.sendTokensToTrustedAddress(...)`
181:             ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");

/// @audit `.forceApprove(...)`
282:         IERC20(_token).forceApprove(_spender, _amount);

/// @audit `.forceApprove(...)`
286:         IERC20(_token).forceApprove(_spender, 0);

```
*Github:* [[96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L96), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L99), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L102), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L104), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L130), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L141), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L144), [181](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L181), [282](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L282), [286](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L286)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `.safeTransfer(...)`
32:             IERC20(token).safeTransfer(msg.sender, amount);

/// @audit `.safeTransfer(...)`
36:         IERC20(token).safeTransfer(msg.sender, amountToSend);

/// @audit `.sendTokensToTrustedAddress(...)`
44:             ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");

/// @audit `.updateHoldingPosition(...)`
52:         registry.updateHoldingPosition(vaultId, _positionId, data, "", remove);

/// @audit `.updateHoldingPosition(...)`
60:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
61:             vaultId, registry.calculatePositionId(address(this), _positionType, ""), data, "", false

/// @audit `.updateHoldingPosition(...)`
66:         registry.updateHoldingPosition(

/// @audit `.calculatePositionId(...)`
67:             vaultId, registry.calculatePositionId(address(this), positionType, ""), data, "", false

/// @audit `.getHoldingPositionIndex(...)`
85:             registry.getHoldingPositionIndex(vaultId, positionId, address(this), abi.encode(address(this)));

/// @audit `.updateHoldingPosition(...)`
87:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L32), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L36), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L44), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L52), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L60), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L61), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L66), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L67), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L85), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L87)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

/// @audit `.executeBridge(...)`
82:         swapHandler.executeBridge(bridgeRequest);

```
*Github:* [[82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L82)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

/// @audit `.updateHoldingPostionWithTime(...)`
35:         registry.updateHoldingPostionWithTime(

/// @audit `.calculatePositionId(...)`
37:             registry.calculatePositionId(address(this), OMNICHAIN_POSITION_ID, abi.encode(chainId)),

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L35), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L37)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `.getValue(...)`
110:                 _priceOracle.getValue(_swapRequest.inputToken, _swapRequest.outputToken, _swapRequest.amount);

/// @audit `.performBridgeAction(...)`
137:         ISwapAndBridgeImplementation(bridgeImplInfo.route).performBridgeAction(msg.sender, _bridgeRequest);

```
*Github:* [[110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L110), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L137)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `.extractGenericSwapParameters(...)`
116:             ILiFi(lifi).extractGenericSwapParameters(_request.data);

/// @audit `.sendTokensToTrustedAddress(...)`
171:             ITokenTransferCallBack(from).sendTokensToTrustedAddress(address(token), amount, caller, abi.encode(routeId));

/// @audit `.forceApprove(...)`
186:         token.forceApprove(spender, amount);

/// @audit `.safeTransfer(...)`
198:             IERC20(token).safeTransfer(userAddress, amount);

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L116), [171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L171), [186](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L186), [198](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L198)]


</details>


<a name="GAS-28"></a> 
### [GAS-28] Use assembly in place of `abi.decode` to extract `calldata` values more efficiently
Instead of using `abi.decode`, we can use assembly to decode our desired calldata values directly. This will allow us to avoid decoding calldata values that we will not use. For more details on how to implement this, check the following [report](https://code4rena.com/reports/2023-05-juicebox#g-04-use-assembly-in-place-of-abidecode-to-extract-calldata-values-more-efficiently).

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/connectors/BalancerConnector.sol

164:         PoolInfo memory pool = abi.decode(PTI.additionalData, (PoolInfo));

```
*Github:* [[164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L164)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

124:         PoolInfo memory poolInfo = abi.decode(p.additionalData, (PoolInfo));

267:         PoolInfo memory poolInfo = abi.decode(PTI.additionalData, (PoolInfo));

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L124), [267](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L267)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

93:             (uint256 newAmount, bytes memory newData) = abi.decode(data, (uint256, bytes));

```
*Github:* [[93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L93)]



<a name="GAS-29"></a> 
### [GAS-29] Use assembly to compute hashes to save gas
If the arguments to the encode call can fit into the scratch space (two words or fewer), then it's more efficient to use assembly to generate the hash (80 gas):

`keccak256(abi.encodePacked(x, y)) -> assembly {mstore(0x00, a); mstore(0x20, b); let hash := keccak256(0x00, 0x40); }`

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/Registry.sol

15:     bytes32 public constant MAINTAINER_ROLE = keccak256("MAINTAINER_ROLE");

17:     bytes32 public constant GOVERNER_ROLE = keccak256("GOVERNER_ROLE");

19:     bytes32 public constant EMERGENCY_ROLE = keccak256("EMERGENCY_ROLE");

345:         bytes32 holdingPositionId = keccak256(abi.encode(msg.sender, _positionId, _data));

351:                 vault.isPositionUsed[keccak256(

399:         bytes32 holdingPositionId = keccak256(abi.encode(_connector, _positionId, data));

491:         return keccak256(abi.encode(calculatorConnector, positionTypeId, data));

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L17), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L19), [345](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L345), [351](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L351), [399](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L399), [491](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L491)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

136:             bytes32 key = keccak256(abi.encodePacked(positionManager, tL, tU));

```
*Github:* [[136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L136)]


```solidity
File: ./contracts/governance/Keepers.sol

11:     bytes32 public constant TXTYPE_HASH = keccak256(

101:                 keccak256(abi.encode(TXTYPE_HASH, nonce, destination, data, gasLimit, executor, deadline));

102:             bytes32 totalHash = keccak256(abi.encodePacked("\x19\x01", _domainSeparatorV4(), txInputHash));

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L11), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L101), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L102)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

69:         bytes32 txn = keccak256(abi.encode(bridgeRequest));

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L69)]


</details>


<a name="GAS-30"></a> 
### [GAS-30] Use assembly to emit events
To efficiently emit events, it's possible to utilize assembly by making use of scratch space and the free memory pointer. This approach has the advantage of potentially avoiding the costs associated with memory expansion.

However, it's important to note that in order to safely optimize this process, it is preferable to cache and restore the free memory pointer.

A good example of such practice can be seen in [Solady's](https://github.com/Vectorized/solady/blob/main/src/tokens/ERC1155.sol#L167) codebase.

<details>
<summary>
There are <b>139</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

127:         emit ValueOracleUpdated(address(_valueOracle));

146:         emit FeeRecepientsChanged(_withdrawFeeReceiver, _performanceFeeReceiver, _managementFeeReceiver);

154:         emit TransferTokensToTrustedAddress(token, amount, _caller, _data);

180:         emit FeeRatesChanged(_withdrawFee, _performanceFee, _managementFee);

216:         emit RecordDeposit(depositQueue.last, receiver, block.timestamp, amount, referrer);

242:             emit CalculateDeposit(

274:             emit ExecuteDeposit(

314:         emit RecordWithdraw(withdrawQueue.last, msg.sender, receiver, share, block.timestamp);

349:             emit CalculateWithdraw(middleTemp, data.owner, data.receiver, data.shares, assets, block.timestamp);

364:         emit WithdrawGroupStarted(currentWithdrawGroup.lastId, currentWithdrawGroup.totalCBAmount);

387:         emit WithdrawGroupFulfilled(

429:             emit ExecuteWithdraw(

455:             emit ResetMiddle(newMiddle, depositQueue.middle, depositOrWithdraw);

462:             emit ResetMiddle(newMiddle, withdrawQueue.middle, depositOrWithdraw);

485:         emit RecordProfit(

496:             emit ResetFee(currentProfit, storedProfitForFee, block.timestamp);

520:         emit CollectManagementFee(managementFeeAmount, timePassed, totalShares, currentFeeShares);

538:         emit CollectPerformanceFee(preformanceFeeSharesWaitingForDistribution);

562:             emit RetrieveTokensForWithdraw(

670:         emit SetDepositLimits(_depositLimitPerTransaction, _depositTotalAmount);

675:         emit SetDepositWaitingTime(_depositWaitingTime);

680:         emit SetWithdrawWaitingTime(_withdrawWaitingTime);

690:         emit Rescue(msg.sender, token, amount);

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L127), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L146), [154](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L154), [180](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L180), [216](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L216), [242](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L242), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L274), [314](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L314), [349](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L349), [364](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L364), [387](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L387), [429](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L429), [455](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L455), [462](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L462), [485](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L485), [496](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L496), [520](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L520), [538](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L538), [562](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L562), [670](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L670), [675](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L675), [680](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L680), [690](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L690)]


```solidity
File: ./contracts/accountingManager/Registry.sol

85:         emit updateFlashloanAddress(_flashLoan, flashLoan);

142:         emit VaultAdded(vaultId, _accountingManager, _baseToken, _trustedTokens);

143:         emit VaultAddressesChanged(

178:         emit VaultAddressesChanged(

196:             emit ConnectorAdded(vaultId, _connectorAddresses[i]);

217:         emit ConnectorTrustedTokensUpdated(vaultId, _connectorAddress, _tokens, trusted);

262:         emit TrustedPositionAdded(vaultId, positionId, calculatorConnector, _positionTypeId, onlyOwner, _isDebt, _data);

279:         emit TrustedPositionRemoved(vaultId, _positionId);

302:         emit HoldingPositionUpdated(vaultId, _positionId, d, AD, false, index);

361:             emit HoldingPositionUpdated(vaultId, _positionId, _data, additionalData, removePosition, positionIndex);

```
*Github:* [[85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L85), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L142), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L143), [178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L178), [196](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L196), [217](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L217), [262](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L262), [279](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L279), [302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L302), [361](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L361)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

53:         emit Supply(supplyToken, amount);

75:         emit Borrow(_borrowAsset, _amount);

85:         emit Repay(asset, amount, i);

90:         emit RepayWithCollateral(_borrowAsset, _amount, i);

111:         emit WithdrawCollateral(_collateral, _collateralAmount);

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L53), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L75), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L85), [90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L90), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L111)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

72:         emit Supply(data.pool, data.amount0, data.amount1);

97:         emit Withdraw(data.pool, data.amountLiquidity);

```
*Github:* [[72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L72), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L97)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

106:         emit OpenPosition(poolId, amounts, amountsWithoutBPT, minBPT, auraAmount);

159:         emit DecreasePosition(p);

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L106), [159](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L159)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

42:         emit MakeFlashLoan(tokens, amounts);

60:         emit ReceiveFlashLoan(tokens, amounts, feeAmounts, userData);

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L42), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L60)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

37:         emit Supply(market, asset, amount);

59:         emit WithdrawOrBorrow(_market, asset, amount);

67:         emit ClaimRewards(rewardContract, market);

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L37), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L59), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L67)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

149:         emit OpenCurvePosition(pool, depositIndex, amount, minAmount);

174:         emit DecreaseCurvePosition(pool, withdrawIndex, amount, minAmount);

184:         emit WithdrawFromConvexBooster(pid, amount);

194:         emit WithdrawFromConvexRewardPool(pool, amount);

204:         emit WithdrawFromGauge(pool, amount);

214:         emit WithdrawFromPrisma(depostiToken, amount);

226:         emit HarvestRewards(gauges);

240:         emit HarvestPrismaRewards(pools);

254:         emit HarvestConvexRewards(rewardsPools);

```
*Github:* [[149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L149), [174](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L174), [184](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L184), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L194), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L204), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L214), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L226), [240](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L240), [254](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L254)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

79:         emit Withdraw(address(pool), withdrawAmount);

97:         emit Repay(address(pool), sharesToRepay);

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

33:         emit OpenAccount(facade, ref);

51:         emit CloseAccount(facade, creditAccount);

85:         emit ExecuteCommands(facade, creditAccount, calls, approvalToken, amount);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L33), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L51), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L85)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

44:         emit Deposit(amountIn);

62:         emit RequestWithdrawals(amount);

86:         emit ClaimWithdrawal(requestId);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L44), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L62), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L86)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

71:         emit Stake(amount, duration, doDelegation);

83:         emit Unstake(lockupId);

107:         emit AddLiquidityInMaverickPool(p);

130:         emit RemoveLiquidityFromMaverickPool(p);

146:         emit ClaimBoostedPositionRewards(rewardContract);

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L71), [83](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L83), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L107), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L130), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L146)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

49:         emit Supply(amount, id, sOrC);

72:         emit Withdraw(amount, id, sOrC);

87:         emit Borrow(amount, id);

100:         emit Repay(amount, id);

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L49), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L72), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L87), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L100)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

33:         emit SendPositionToMasterChef(tokenId);

43:         emit UpdatePosition(tokenId);

53:         emit Withdraw(tokenId);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L33), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L43), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L53)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

89:         emit Supply(market, syMinted);

101:         emit MintPTAndYT(market, syAmount);

118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

129:         emit DepositIntoPenpie(_market, _amount);

139:         emit WithdrawFromPenpie(_market, _amount);

156:         emit SwapYTForPT(market, exactYTIn, min, guess);

173:         emit SwapYTForSY(market, exactYTIn, min, orderData);

195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

207:         emit BurnLP(address(market), amount);

232:         emit DecreasePosition(address(market), _amount, closePosition);

247:         emit ClaimRewards(address(market));

```
*Github:* [[89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L89), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L101), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L129), [139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L139), [156](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L156), [173](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L173), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

85:         emit AddColl(address(zapContract), tm, amountIn);

121:         emit AdjustTrove(address(zapContract), tm, mFee, wAmount, bAmount, isBorrowing);

135:         emit CloseTrove(address(zapContract), troveManager);

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L85), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L121), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L135)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

41:         emit Deposit(siloToken, dToken, amount, oC);

68:         emit Withdraw(siloToken, wToken, amount, oC, closePosition);

89:         emit Borrow(siloToken, bToken, amount);

106:         emit Repay(siloToken, rToken, amount);

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L41), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L68), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L89), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L106)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

69:         emit DepositIntoStargatePool(depositRequest);

96:         emit WithdrawFromStargatePool(withdrawRequest);

106:         emit ClaimStargateRewards(poolId);

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L69), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L96), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L106)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

56:         emit OpenPosition(p, tokenId);

80:         emit DecreasePosition(p);

95:         emit IncreasePosition(p);

107:             emit CollectFees(tokenIds[i]);

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L56), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L80), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L95), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L107)]


```solidity
File: ./contracts/governance/Keepers.sol

55:         emit UpdateOwners(_owners, addOrRemove);

66:         emit UpdateThreshold(_threshold);

115:         emit Execute(destination, data, gasLimit, executor, deadline);

```
*Github:* [[55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L55), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L66), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L115)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

50:         emit MinimumHealthFactorUpdated(_minimumHealthFactor);

60:         emit SwapHandlerUpdated(_swapHandler);

69:         emit ValueOracleUpdated(_valueOracle);

88:         emit TransferTokensToTrustedAddress(token, amount, caller, data);

128:         emit TransferPositionToConnector(tokens, amounts, connector, data);

143:             emit UpdateTokenInRegistry(token, remove);

192:         emit AddLiquidity(tokens, amounts, data);

217:             emit SwapHoldings(tokensIn[i], tokensOut[i], amountsIn[i], swapData[i]);

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L50), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L60), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L69), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L88), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L128), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L143), [192](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L192), [217](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L217)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

49:         emit UpdateChainInfo(chainId, destinationAddress);

60:         emit UpdateBridgeTransactionApproval(transactionHash, block.timestamp);

70:         emit StartBridgeTransaction(bridgeRequest, txn);

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L49), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L60), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L70)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

50:         emit SetValueOracle(_valueOracle);

59:         emit SetSlippageTolerance(address(0), address(0), _slippageTolerance);

73:         emit SetSlippageTolerance(_inputToken, _outputToken, _slippageTolerance);

82:         emit AddEligibleUser(_user);

117:         emit ExecutionCompleted(

139:         emit BridgeExecutionCompleted(_bridgeRequest);

150:             emit NewRouteAdded(i, _routes[i].route, _routes[i].isEnabled, _routes[i].isBridge);

160:         emit RouteUpdate(_routeId, false);

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L50), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L59), [73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L73), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L82), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L117), [139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L139), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L150), [160](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L160)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

47:         emit AddedHandler(_handler, state);

57:         emit AddedChain(_chainId, state);

67:         emit AddedBridgeBlacklist(bridgeName, state);

99:         emit Swapped(balanceOut0, balanceOut1, _request.outputToken);

141:         emit Bridged(_request.from, _request.inputToken, _request.amount, _request.data);

182:         emit Forwarded(lifi, address(token), amount, data);

200:         emit Rescued(token, userAddress, amount);

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L47), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L57), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L67), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L99), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L141), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [200](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L200)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

44:         emit UpdatedDefaultPriceSource(baseCurrencies, oracles);

58:         emit UpdatedAssetPriceSource(asset, baseToken, oracle);

63:         emit UpdatedPriceRoute(asset, base, s);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L44), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L58), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L63)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

61:         emit ChainlinkPriceAgeThresholdUpdated(_chainlinkPriceAgeThreshold);

76:             emit AssetSourceUpdated(assets[i], baseTokens[i], sources[i]);

```
*Github:* [[61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L61), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L76)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

41:         emit NewPeriod(_period);

52:         emit PoolsForAsset(tokenIn, baseToken, pool);

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L41), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L52)]


</details>


<a name="GAS-31"></a> 
### [GAS-31] Use assembly to validate `msg.sender`

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/Registry.sol

33:         if (msg.sender != vaults[_vaultId].maintainer || hasRole(EMERGENCY_ROLE, msg.sender) == false) {

40:         if (msg.sender != vaults[_vaultId].maintainerWithoutTimeLock && hasRole(EMERGENCY_ROLE, msg.sender) == false) {

47:         if (msg.sender != vaults[_vaultId].governer && hasRole(EMERGENCY_ROLE, msg.sender) == false) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L33), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L40), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L47)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

61:         require(msg.sender == address(vault));

```
*Github:* [[61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L61)]


```solidity
File: ./contracts/governance/Keepers.sol

97:         require(executor == msg.sender, "Invalid executor");

```
*Github:* [[97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L97)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

33:         if (!(msg.sender == keeperContract || msg.sender == emergencyManager || msg.sender == registry.flashLoan())) {

45:         if (msg.sender != emergencyManager) revert NoyaGovernance_Unauthorized(msg.sender);

55:         if (msg.sender != emergencyManager && msg.sender != watcherContract) {

67:         if (msg.sender != maintainer && msg.sender != emergencyManager) revert NoyaGovernance_Unauthorized(msg.sender);

77:         if (msg.sender != maintainer) revert NoyaGovernance_Unauthorized(msg.sender);

87:         if (msg.sender != governer) revert NoyaGovernance_Unauthorized(msg.sender);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L33), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L45), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L55), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L67), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L77), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L87)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

90:         if (msg.sender == accountingManager) {

98:         } else if (registry.isAnActiveConnector(vaultId, msg.sender) || msg.sender == registry.flashLoan()) {

```
*Github:* [[90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L90), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L98)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

76:         if (msg.sender != vaultIdToVaultInfo[vaultId].omniChainManager) revert InvalidSender();

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L76)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

33:         if (msg.sender != lzHelper) revert IConnector_InvalidSender();

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L33)]


</details>


<a name="GAS-32"></a> 
### [GAS-32] Use assembly to write address/contract type storage values
Using `assembly { sstore(state.slot, addr)` instead of `state = addr` can save gas.

<details>
<summary>
There are <b>65</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

100:         valueOracle = INoyaValueOracle(p._valueOracle);

102:         withdrawFeeReceiver = p._withdrawFeeReceiver;

103:         performanceFeeReceiver = p._performanceFeeReceiver;

104:         managementFeeReceiver = p._managementFeeReceiver;

126:         valueOracle = _valueOracle;

143:         withdrawFeeReceiver = _withdrawFeeReceiver;

144:         performanceFeeReceiver = _performanceFeeReceiver;

145:         managementFeeReceiver = _managementFeeReceiver;

```
*Github:* [[100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L100), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L102), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L103), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L104), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L126), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L143), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L144), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L145)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

18:         accountingManager = _accountingManager;

20:         receiver = _receiver;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L18), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L20)]


```solidity
File: ./contracts/accountingManager/Registry.sol

76:         flashLoan = _flashLoan;

86:         flashLoan = _flashLoan;

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L76), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L86)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

38:         poolBaseToken = _poolBaseToken;

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L38)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

44:         aerodromeRouter = IRouter(_router);

45:         voter = IVoter(_voter);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L44), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L45)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

48:         AURA = aura;

49:         BAL = bal;

50:         balancerVault = _balancerVault;

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L48), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L49), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L50)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

27:         vault = IBalancerVault(_balancerVault);

28:         registry = _registry;

41:         caller = msg.sender;

44:         caller = address(0);

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L28), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L41), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L44)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

39:         router = ICamelotRouter(_router);

40:         factory = ICamelotFactory(_factory);

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L40)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

56:         convexBooster = IBooster(_convexBooster);

57:         CVX = cvx;

58:         CRV = crv;

59:         PRISMA = prisma;

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L56), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L57), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L58), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L59)]


```solidity
File: ./contracts/connectors/Dolomite.sol

25:         depositWithdrawalProxy = IDepositWithdrawalProxy(_depositWithdrawalProxy);

26:         dolomiteMargin = IDolomiteMargin(_dolomiteMargin);

27:         borrowPositionProxy = IBorrowPositionProxyV1(_borrowPositionProxy);

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L26), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L27)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

27:         lido = _lido;

28:         lidoWithdrawal = _lidoW;

29:         steth = _steth;

30:         weth = w;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L30)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

50:         mav = _mav;

51:         veMav = _veMav;

52:         maverickRouter = mr;

53:         positionInspector = IPositionInspector(pi);

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L50), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L51), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L53)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

25:         morphoBlue = IMorpho(MB);

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L25)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

23:         masterchef = IMasterchefV3(MC);

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L23)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

63:         pendleMarketDepositHelper = IPendleMarketDepositHelper(_pendleMarketDepositHelper);

64:         pendleRouter = IPAllActionV3(_pendleRouter);

65:         staticRouter = IPendleStaticRouter(SR);

```
*Github:* [[63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L63), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L64), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L65)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

22:         SNXCoreProxy = IV3CoreProxy(_SNXCoreProxy);

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L22)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

20:         siloRepository = ISiloRepository(SR);

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L20)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

39:         LPStaking = IStargateLPStaking(lpStacking);

40:         stargateRouter = IStargateRouter(_stargateRouter);

41:         rewardToken = LPStaking.stargate();

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L41)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

30:         positionManager = INonfungiblePositionManager(_positionManager);

31:         factory = IUniswapV3Factory(_factory);

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L30), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L31)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

23:         registry = _registry;

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L23)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

34:         swapHandler = params.swapHandler;

35:         valueOracle = params.valueOracle;

59:         swapHandler = SwapAndBridgeHandler(_swapHandler);

68:         valueOracle = INoyaValueOracle(_valueOracle);

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L34), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L35), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L59), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L68)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

23:         registry = PositionRegistry(_registry);

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L23)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

36:         lzHelper = _lzHelper;

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L36)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

40:         valueOracle = INoyaValueOracle(_valueOracle);

49:         valueOracle = INoyaValueOracle(_valueOracle);

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L40), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L49)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

29:         lifi = _lifi;

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L29)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

31:         registry = _registry;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L31)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

48:         registry = PositionRegistry(_reg);

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L48)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

32:         factory = _factory;

33:         registry = _registry;

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L32), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L33)]


</details>


<a name="GAS-33"></a> 
### [GAS-33] Using a double `if` statement instead of a logical AND (`&&`)
Using a double `if` statement instead of a logical AND (`&&`) can provide similar short-circuiting behavior whereas double if is slightly [more gas efficient](https://gist.github.com/DadeKuma/931ce6794a050201ec6544dbcc31316c).

<details>
<summary>
There are <b>45</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

186:         if (!(from == address(0)) && balanceOf(from) < amount + withdrawRequestsByAddress[from]) {

233:             depositQueue.last > middleTemp && depositQueue.queue[middleTemp].recordTime <= oldestUpdateTime

234:                 && i < maxIterations

269:                 && depositQueue.queue[firstTemp].calculationTime + depositWaitingTime <= block.timestamp && i < maxI

269:                 && depositQueue.queue[firstTemp].calculationTime + depositWaitingTime <= block.timestamp && i < maxI

288:         if (registry.isAnActiveConnector(vaultId, connector) && processedBaseTokenAmount > 0) {

335:         if (currentWithdrawGroup.isFullfilled == false && currentWithdrawGroup.isStarted == true) {

339:             withdrawQueue.last > middleTemp && withdrawQueue.queue[middleTemp].recordTime <= oldestUpdateTime

340:                 && i < maxIterations

361:         require(currentWithdrawGroup.isStarted == false && currentWithdrawGroup.isFullfilled == false);

371:         require(currentWithdrawGroup.isStarted == true && currentWithdrawGroup.isFullfilled == false);

374:         if (neededAssets != 0 && amountAskedForWithdraw != currentWithdrawGroup.totalCBAmount) {

408:                 && withdrawQueue.queue[firstTemp].calculationTime + withdrawWaitingTime <= block.timestamp

409:                 && i < maxIterations

```
*Github:* [[186](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L186), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L233), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L234), [269](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L269), [269](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L269), [288](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L288), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L335), [339](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L339), [340](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L340), [361](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L361), [371](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L371), [374](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L374), [408](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L408), [409](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L409)]


```solidity
File: ./contracts/accountingManager/Registry.sol

40:         if (msg.sender != vaults[_vaultId].maintainerWithoutTimeLock && hasRole(EMERGENCY_ROLE, msg.sender) == false) {

47:         if (msg.sender != vaults[_vaultId].governer && hasRole(EMERGENCY_ROLE, msg.sender) == false) {

347:         if (positionIndex == 0 && removePosition) return type(uint256).max;

442:         return position.isEnabled && (!position.onlyOwner || position.calculatorConnector == connector);

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L40), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L47), [347](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L347), [442](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L442)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

126:         address poolAddress = (poolInfo.tokens.length > 2 && poolInfo.zap != address(0)) ? poolInfo.zap : pool;

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L126)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

66:         if (p.collateral == 0 && p.supplyShares == 0) {

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L66)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

223:         if (closePosition && isMarketEmpty(market)) {

306:             _SY.balanceOf(address(this)) == 0 && _PT.balanceOf(address(this)) == 0 && _YT.balanceOf(address(this)) == 0

306:             _SY.balanceOf(address(this)) == 0 && _PT.balanceOf(address(this)) == 0 && _YT.balanceOf(address(this)) == 0

307:                 && market.balanceOf(address(this)) == 0

```
*Github:* [[223](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L223), [306](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L306), [306](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L306), [307](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L307)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

111:         if (bAmount > 0 && !isBorrowing) {

```
*Github:* [[111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L111)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

60:         if (closePosition && isSiloEmpty(silo)) {

120:             if (depositAmount == 0 && borrowAmount == 0) {

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L60), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L120)]


```solidity
File: ./contracts/governance/Keepers.sol

28:         require(_owners.length <= 10 && _threshold <= _owners.length && _threshold > 1);

28:         require(_owners.length <= 10 && _threshold <= _owners.length && _threshold > 1);

45:             if (addOrRemove[i] && !isOwner[_owners[i]]) {

48:             } else if (!addOrRemove[i] && isOwner[_owners[i]]) {

53:         require(numOwnersTemp <= 10 && threshold <= numOwnersTemp && threshold > 1);

53:         require(numOwnersTemp <= 10 && threshold <= numOwnersTemp && threshold > 1);

64:         require(_threshold <= numOwners && _threshold > 1);

96:         require(sigR.length == sigS.length && sigR.length == sigV.length, "Lengths do not match");

106:                 require(recovered > lastAdd && isOwner[recovered]);

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L28), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L28), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L45), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L48), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L53), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L64), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L96), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L106)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

55:         if (msg.sender != emergencyManager && msg.sender != watcherContract) {

67:         if (msg.sender != maintainer && msg.sender != emergencyManager) revert NoyaGovernance_Unauthorized(msg.sender);

```
*Github:* [[55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L55), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L67)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

142:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

142:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

```
*Github:* [[142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L142), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L142)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

86:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

86:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

```
*Github:* [[86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L86), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L86)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

30:         if (routes[_routeId].route == address(0) && !routes[_routeId].isEnabled) revert RouteNotFound();

102:         if (_swapRequest.checkForSlippage && _swapRequest.minAmount == 0) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L30), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L102)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

82:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % int56(int32(period)) != 0)) {

```
*Github:* [[82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L82)]


</details>


<a name="GAS-34"></a> 
### [GAS-34] Consider using OZ EnumerateSet in place of nested mappings
Nested mappings and multi-dimensional arrays in Solidity operate through a process of double hashing, wherein the original storage slot and the first key are concatenated and hashed, and then this hash is again concatenated with the second key and hashed. This process can be quite gas expensive due to the double-hashing operation and subsequent storage operation (sstore).

A possible optimization involves manually concatenating the keys followed by a single hash operation and an sstore. However, this technique introduces the risk of storage collision, especially when there are other nested hash maps in the contract that use the same key types. Because Solidity is unaware of the number and structure of nested hash maps in a contract, it follows a conservative approach in computing the storage slot to avoid possible collisions.

OpenZeppelin's EnumerableSet provides a potential solution to this problem. It creates a data structure that combines the benefits of set operations with the ability to enumerate stored elements, which is not natively available in Solidity. EnumerableSet handles the element uniqueness internally and can therefore provide a more gas-efficient and collision-resistant alternative to nested mappings or multi-dimensional arrays in certain scenarios.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

15:     mapping(address => mapping(address => uint256)) public slippageTolerance;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L15)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

14:     mapping(address => mapping(address => address[])) public priceRoutes;

16:     mapping(address => mapping(address => INoyaValueOracle)) public priceSource;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L14), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L16)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

20:     mapping(address => mapping(address => address)) private assetsSources;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L20)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

14:     mapping(address => mapping(address => address)) public assetToBaseToPool;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L14)]



<a name="GAS-35"></a> 
### [GAS-35] Use local variables for emitting
Use the function/modifier's local copy of the state variable, rather than incurring an extra Gwarmaccess (100 gas). In the unlikely event that the state variable hasn't already been used by the function/modifier, consider whether it is really necessary to include it in the event, given the fact that it incurs a Gcoldsload (2100 gas), or whether it can be passed in to or back out of the functions that do use it

*There are <b>7</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `storedProfitForFee`
485:         emit RecordProfit(

/// @audit `totalProfitCalculated`
485:         emit RecordProfit(

/// @audit `preformanceFeeSharesWaitingForDistribution`
485:         emit RecordProfit(

/// @audit `storedProfitForFee`
496:             emit ResetFee(currentProfit, storedProfitForFee, block.timestamp);

/// @audit `preformanceFeeSharesWaitingForDistribution`
538:         emit CollectPerformanceFee(preformanceFeeSharesWaitingForDistribution);

```
*Github:* [[485](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L485), [485](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L485), [485](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L485), [496](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L496), [538](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L538)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `flashLoan`
85:         emit updateFlashloanAddress(_flashLoan, flashLoan);

```
*Github:* [[85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L85)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `lifi`
182:         emit Forwarded(lifi, address(token), amount, data);

```
*Github:* [[182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182)]



<a name="GAS-36"></a> 
### [GAS-36] Use a more recent version of solidity
- Use a solidity version of at least 0.8.2 to get simple compiler automatic inlining.
- Use a solidity version of at least 0.8.3 to get better struct packing and cheaper multiple storage reads.
- Use a solidity version of at least 0.8.4 to get custom errors, which are cheaper at deployment than revert()/require() strings.
- Use a solidity version of at least 0.8.10 to have external calls skip contract existence checks if the external call has a return value.

<details>
<summary>
There are <b>41</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L2)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L2)]


```solidity
File: ./contracts/accountingManager/Registry.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L2)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L2)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L2)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L2)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L2)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L2)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L2)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L2)]


```solidity
File: ./contracts/connectors/Dolomite.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L2)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L2)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L2)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L2)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L2)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L2)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L2)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L2)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L2)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L2)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L2)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L2)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L2)]


```solidity
File: ./contracts/governance/Keepers.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L2)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L2)]


```solidity
File: ./contracts/governance/TimeLock.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L2)]


```solidity
File: ./contracts/governance/Watchers.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L2)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L2)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L2)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L2)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L2)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L2)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L2)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L2)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L2)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L2)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L2)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L2)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L2)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L2)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

2: pragma solidity 0.8.20;

```
*Github:* [[2](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L2)]


</details>


<a name="GAS-37"></a> 
### [GAS-37] Use != 0 instead of > 0
Replace spotted instances with != 0 for uints as this uses less gas.

<details>
<summary>
There are <b>22</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

288:         if (registry.isAnActiveConnector(vaultId, connector) && processedBaseTokenAmount > 0) {

438:         if (withdrawFeeAmount > 0) {

```
*Github:* [[288](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L288), [438](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L438)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

78:             if (amounts[i] > 0) _approveOperations(tokens[i], balancerVault, amounts[i]);

99:         if (auraAmount > 0) {

116:         if (p._auraAmount > 0) {

122:         if (p._lpAmount > 0) {

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L78), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L99), [116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L116), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L122)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

100:         if (userBasic.principal > 0) {

```
*Github:* [[100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L100)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

46:         if (collateralAmount > 0) {

49:         if (borrowAmount > 0) {

52:         } else if (collateralAmount > 0) {

55:         if (collateralAmount > 0) {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L46), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L49), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L52), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L55)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

270:             if (lpBalance > 0) {

275:             if (PTAmount > 0) SYAmount += PTAmount * IPMarket(market).getPtToAssetRate(10) / 1e18;

278:             if (YTBalance > 0) SYAmount += getYTValue(market, YTBalance);

280:             if (SYAmount > 0) underlyingBalance += SYAmount * _SY.exchangeRate() / 1e18;

```
*Github:* [[270](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L270), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L275), [278](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L278), [280](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L280)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

111:         if (bAmount > 0 && !isBorrowing) {

```
*Github:* [[111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L111)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

52:         if (depositRequest.routerAmount > 0) {

57:         if (depositRequest.LPStakingAmount > 0) {

79:         if (withdrawRequest.LPStakingAmount > 0) {

82:         if (withdrawRequest.routerAmount > 0) {

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L52), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L57), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L79), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L82)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

142:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

```
*Github:* [[142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L142)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

86:         if ((positionIndex == 0 && !remove) || (positionIndex > 0 && remove)) {

```
*Github:* [[86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L86)]


</details>


<a name="GAS-38"></a> 
### [GAS-38] Use `selfbalance()` instead of `address(this).balance`
Use assembly when getting a contract's balance of ETH.

You can use `selfbalance()` instead of `address(this).balance` when getting your contract's balance of ETH to save gas.
Additionally, you can use `balance(address)` instead of `address.balance()` when getting an external contract's balance of ETH.

*Saves 15 gas when checking internal balance, 6 for external*

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/connectors/LidoConnector.sol

73:         uint256 beforeClaimBalance = address(this).balance;

77:         IWETH(weth).deposit{ value: address(this).balance - beforeClaimBalance }();

```
*Github:* [[73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L73), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L77)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

80:         _lzSend(lzChainId, data, messageSetting, MessagingFee(address(this).balance, 0), payable(address(this))); // TODO: send event here

```
*Github:* [[80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L80)]



<a name="GAS-39"></a> 
### [GAS-39] State variables can be packed into fewer storage slots by truncating timestamp bytes
State variables in Solidity are typically stored in 32-byte storage slots. When dealing with timestamps, which generally fit into a smaller byte size, it can be beneficial to truncate these bytes and pack them with other variables. This reduces the number of required storage slots, saving both storage space and associated gas costs. For example, a timestamp generally fits into a uint32, so it can be combined with other small variables within a single storage slot. When designing a contract, carefully structuring state variables to utilize truncation and packing can lead to a more efficient and cost-effective implementation.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

43:     uint256 public profitStoredTime;

45:     uint256 public lastFeeDistributionTime;

82:     uint256 public depositWaitingTime = 30 minutes;

84:     uint256 public withdrawWaitingTime = 6 hours;

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L43), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L45), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L82), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L84)]



<a name="GAS-40"></a> 
### [GAS-40] Consider Using Solady's Gas Optimized Lib for Math
In instances where many similar mathematical operations are performed, consider using Solday's math lib to benefit from the gas saving it can introduce.

<details>
<summary>
There are <b>27</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

243:                 middleTemp, data.receiver, block.timestamp, shares, data.amount, shares * 1e18 / data.amount

275:                 firstTemp, data.receiver, block.timestamp, data.shares, data.amount, data.shares * 1e18 / data.amount

416:                 data.amount * currentWithdrawGroup.totalABAmount / currentWithdrawGroup.totalCBAmountFullfilled;

423:                 uint256 feeAmount = baseTokenAmount * withdrawFee / FEE_PRECISION;

484:             previewDeposit(((storedProfitForFee - totalProfitCalculated) * performanceFee) / FEE_PRECISION);

518:             (timePassed * managementFee * (totalShares - currentFeeShares)) / FEE_PRECISION / 365 days;

```
*Github:* [[243](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L243), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L275), [416](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L416), [423](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L423), [484](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L484), [518](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L518)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

131:         uint256 amount0 = balance * reserve0 / totalSupply;

132:         uint256 amount1 = balance * reserve1 / totalSupply;

```
*Github:* [[131](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L131), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L132)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

172:         return (((1e18 * token1bal * lpBalance) / _weight) / _totalSupply);

```
*Github:* [[172](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L172)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

96:         return balanceThis * (_getValue(tokenA, base, reserves0) + _getValue(tokenB, base, reserves1)) / totalSupply;

```
*Github:* [[96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L96)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

78:         return getCollBlanace(comet, true) * 1e18 / borrowBalanceInBase;

89:         borrowBalanceInVirtualBase = (borrowBalanceInBase * basePriceInVirtualBase) / comet.baseScale();

118:                     collateralBalance * collateralPriceInVirtualBase * baseScale / info.scale / basePrice;

119:                 if (riskAdjusted) CollValue += collateralValueInVirtualBase * info.liquidateCollateralFactor / 1e18;

142:         return (assetsIn & (uint16(1) << assetOffset) != 0);

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L78), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L89), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L118), [119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L119), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L142)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

129:             (((_borrowerAmount * _exchangeRate) * LTV_PRECISION) / EXCHANGE_PRECISION) / _collateralAmount;

136:         uint256 currentHF = (fraxlendPairMaxLTV * 1e18) / currentPositionLTV;

```
*Github:* [[129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L129), [136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L136)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

115:         return market.lltv * convertCToL(p.collateral, market.oracle, market.collateralToken) / borrowAmount;

138:         return amount * IOracle(marketOracle).price() / ORACLE_PRICE_SCALE;

```
*Github:* [[115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L115), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L138)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

271:                 SYAmount += lpBalance * IPMarket(market).getLpToAssetRate(10) / 1e18;

275:             if (PTAmount > 0) SYAmount += PTAmount * IPMarket(market).getPtToAssetRate(10) / 1e18;

280:             if (SYAmount > 0) underlyingBalance += SYAmount * _SY.exchangeRate() / 1e18;

```
*Github:* [[271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L271), [275](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L275), [280](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L280)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

124:             totalDepositAmount += depositAmount * price / 1e18;

125:             totalBAmount += borrowAmount * price / 1e18;

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L125)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

112:             _swapRequest.minAmount = (((1e6 - _slippageTolerance) * _outputTokenValue) / 1e6);

```
*Github:* [[112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L112)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

132:             return (amountIn * sourceTokenUnit) / uintprice;

134:         return (amountIn * uintprice) / (sourceTokenUnit);

```
*Github:* [[132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L132), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L134)]


</details>


<a name="GAS-41"></a> 
### [GAS-41] Use solady library where possible to save gas
The following OpenZeppelin imports have a Solady equivalent, as such they can be used to save GAS as Solady modules have been specifically designed to be as GAS efficient as possible

<details>
<summary>
There are <b>17</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

5: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L5)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

10: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L10)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

4: import "@openzeppelin/contracts-5.0/token/ERC20/IERC20.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L4)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

4: import "@openzeppelin/contracts-5.0/token/ERC20/IERC20.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L4)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

10: import { SafeERC20 } from "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L10)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

4: import { SafeERC20 } from "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L4)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

7: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L7)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

4: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L4)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

4: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L4)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

4: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L4)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

6: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L6)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

4: import "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L4)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

7: import { SafeERC20, IERC20 } from "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L7)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

5: import { SafeERC20, IERC20 } from "@openzeppelin/contracts-5.0/token/ERC20/utils/SafeERC20.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L5)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

4: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[4](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L4)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

7: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L7)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

6: import "@openzeppelin/contracts-5.0/access/Ownable.sol";

```
*Github:* [[6](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L6)]


</details>


<a name="GAS-42"></a> 
### [GAS-42] Use `storage` instead of `memory` for structs/arrays
When fetching data from a storage location, assigning the data to a `memory` variable causes all fields of the struct/array to be read from storage, which incurs a Gcoldsload (**2100 gas**) for *each* field of the struct/array. If the fields are read from the new memory variable, they incur an additional `MLOAD` rather than a cheap stack read. Instead of declaring the variable with the `memory` keyword, declaring the variable with the `storage` keyword and caching any fields that need to be re-read in stack variables, will be much cheaper, only incurring the Gcoldsload for the fields actually read. The only time it makes sense to read the whole struct/array into a `memory` variable, is if the full struct/array is being returned by the function, is being passed to a function that requires `memory`, or if the array/struct is being read from another `memory` array/struct.

*There are <b>6</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

272:             DepositRequest memory data = depositQueue.queue[firstTemp];

412:             WithdrawRequest memory data = withdrawQueue.queue[firstTemp];

```
*Github:* [[272](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L272), [412](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L412)]


```solidity
File: ./contracts/accountingManager/Registry.sol

441:         PositionBP memory position = vaults[vaultId].trustedPositionsBP[_positionId];

```
*Github:* [[441](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L441)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

99:         RouteData memory swapImplInfo = routes[_swapRequest.routeId];

133:         RouteData memory bridgeImplInfo = routes[_bridgeRequest.routeId];

```
*Github:* [[99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L99), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L133)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

76:         address[] memory sources = priceRoutes[asset][baseToken];

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L76)]



<a name="GAS-43"></a> 
### [GAS-43] Use `uint256(1)`/`uint256(2)` instead of `true`/`false` to save gas for changes
Avoids a Gsset (20000 gas) when changing from false to true, after having been true in the past. Since most of the bools aren't changed twice in one transaction, I've counted the amount of gas as half of the full amount, for each variable.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/governance/Keepers.sol

10:     mapping(address => bool) public isOwner;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

13:     mapping(address => bool) public isEligibleToUse;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L13)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

13:     mapping(address => bool) public isHandler;

14:     mapping(string => bool) public isBridgeWhiteListed;

15:     mapping(uint256 => bool) public isChainSupported;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L15)]



<a name="GAS-44"></a> 
### [GAS-44] Use `unchecked` block for safe subtractions
If it can be confirmed that the subtraction operation will not overflow, using an unchecked block can save gas. For example, `require(x <= y); z = y - x;` can be optimized to `require(x <= y); unchecked { z = y - x; }`

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit this subtraction is checked on line 479
484:             previewDeposit(((storedProfitForFee - totalProfitCalculated) * performanceFee) / FEE_PRECISION);

```
*Github:* [[484](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L484)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit this subtraction is checked on line 159
160:             return collateralValue - borrowValue;

```
*Github:* [[160](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L160)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

/// @audit this subtraction is checked on line 30
33:         return (totalTVL - totalDebt);

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L33)]



<a name="GAS-45"></a> 
### [GAS-45] Using bitmap to store bool states can save gas
Using a bitmap instead of a bool array or a bool mapping to store boolean states can save gas fees. This is because the bitmap can store 256 boolean values in a single slot instead of 256 slots, which can save gas when writing bool values or when reading multiple bool values from the same slot.

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/governance/Keepers.sol

10:     mapping(address => bool) public isOwner;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

13:     mapping(address => bool) public isEligibleToUse;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L13)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

13:     mapping(address => bool) public isHandler;

14:     mapping(string => bool) public isBridgeWhiteListed;

15:     mapping(uint256 => bool) public isChainSupported;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L15)]



<a name="GAS-46"></a> 
### [GAS-46] Using `constant`s directly, rather than caching the value, saves gas

*There is one instance of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `FEE_PRECISION`
423:                 uint256 feeAmount = baseTokenAmount * withdrawFee / FEE_PRECISION;

```
*Github:* [[423](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L423)]



<a name="GAS-47"></a> 
### [GAS-47] Using `this` to access functions results in an external call, wasting gas
External calls have an overhead of 100 gas, which can be avoided by not referencing the function using `this`. Contracts are allowed to override their parents' functions and change the visibility from `external` to `public`, so make this change if it's required in order to call the function internally.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/connectors/LidoConnector.sol

73:         uint256 beforeClaimBalance = address(this).balance;

77:         IWETH(weth).deposit{ value: address(this).balance - beforeClaimBalance }();

```
*Github:* [[73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L73), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L77)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

80:         _lzSend(lzChainId, data, messageSetting, MessagingFee(address(this).balance, 0), payable(address(this))); // TODO: send event here

```
*Github:* [[80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L80)]



<a name="GAS-48"></a> 
### [GAS-48] `abi.encodePacked` is more gas efficient than `abi.encode`
`abi.encode` pads all elementary types to 32 bytes, whereas `abi.encodePacked` will only use the minimal required memory to encode the data. See [here](https://docs.soliditylang.org/en/v0.8.11/abi-spec.html?highlight=encodepacked#non-standard-packed-mode) for more info.

<details>
<summary>
There are <b>65</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/Registry.sol

345:         bytes32 holdingPositionId = keccak256(abi.encode(msg.sender, _positionId, _data));

352:                     abi.encode(

399:         bytes32 holdingPositionId = keccak256(abi.encode(_connector, _positionId, data));

491:         return keccak256(abi.encode(calculatorConnector, positionTypeId, data));

```
*Github:* [[345](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L345), [352](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L352), [399](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L399), [491](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L491)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

54:         bytes32 positionId = registry.calculatePositionId(address(this), AERODROME_POSITION_TYPE, abi.encode(data.pool));

80:         bytes32 positionId = registry.calculatePositionId(address(this), AERODROME_POSITION_TYPE, abi.encode(data.pool));

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L54), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L80)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

88:                 abi.encode(

96:         bytes32 positionId = registry.calculatePositionId(address(this), BALANCER_LP_POSITION, abi.encode(poolId));

137:                     abi.encode(

149:                     registry.calculatePositionId(address(this), BALANCER_LP_POSITION, abi.encode(p.poolId)),

190:         bytes32 positionId = registry.calculatePositionId(address(this), BALANCER_LP_POSITION, abi.encode(pooId));

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L88), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L96), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L137), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L149), [190](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L190)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

53:             registry.calculatePositionId(address(this), CAMELOT_POSITION_ID, abi.encode(p.tokenA, p.tokenB)),

80:                 registry.calculatePositionId(address(this), CAMELOT_POSITION_ID, abi.encode(p.tokenA, p.tokenB)),

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L53), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L80)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

34:             vaultId, registry.calculatePositionId(address(this), COMPOUND_LP, abi.encode(market)), "", "", false

55:                 vaultId, registry.calculatePositionId(address(this), COMPOUND_LP, abi.encode(_market)), "", "", true

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L34), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L55)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

122:         bytes32 positionId = registry.calculatePositionId(address(this), CURVE_LP_POSITION, abi.encode(pool));

167:         bytes32 positionId = registry.calculatePositionId(address(this), CURVE_LP_POSITION, abi.encode(pool));

259:         bytes32 positionId = registry.calculatePositionId(address(this), CURVE_LP_POSITION, abi.encode(pool));

```
*Github:* [[122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L122), [167](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L167), [259](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L259)]


```solidity
File: ./contracts/connectors/Dolomite.sol

39:             vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(0), "", false

53:                 vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(0), "", true

73:             vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(accountId), "", true

102:             vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(accountId), "", true

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L39), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L53), [73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L73), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L102)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

44:             registry.calculatePositionId(address(this), COLLATERAL_AND_DEBT_POSITION_TYPE, abi.encode(pool));

72:                 registry.calculatePositionId(address(this), COLLATERAL_AND_DEBT_POSITION_TYPE, abi.encode(pool));

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L44), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L72)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

28:             registry.calculatePositionId(address(this), GEARBOX_POSITION_ID, abi.encode(facade)),

29:             abi.encode(c),

46:             registry.calculatePositionId(address(this), GEARBOX_POSITION_ID, abi.encode(facade)),

47:             abi.encode(creditAccount),

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L29), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L46), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L47)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

59:         registry.updateHoldingPosition(vaultId, positionId, abi.encode(requestIds[0]), abi.encode(amount), false);

59:         registry.updateHoldingPosition(vaultId, positionId, abi.encode(requestIds[0]), abi.encode(amount), false);

81:             abi.encode(requestId),

```
*Github:* [[59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L59), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L59), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L81)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

103:             vaultId, registry.calculatePositionId(address(this), MAVERICK_LP, abi.encode(p.pool)), "", "", false

126:             vaultId, registry.calculatePositionId(address(this), MAVERICK_LP, abi.encode(p.pool)), "", "", true

```
*Github:* [[103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L103), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L126)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

47:             vaultId, registry.calculatePositionId(address(this), MORPHO_POSITION_ID, abi.encode(id)), "", "", false

68:                 vaultId, registry.calculatePositionId(address(this), MORPHO_POSITION_ID, abi.encode(id)), "", "", true

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L47), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L68)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

87:         bytes32 positionId = registry.calculatePositionId(address(this), PENDLE_POSITION_ID, abi.encode(market));

226:                 registry.calculatePositionId(address(this), PENDLE_POSITION_ID, abi.encode(market)),

```
*Github:* [[87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L87), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L226)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

35:             bytes32 positionId = registry.calculatePositionId(address(this), PRISMA_POSITION_ID, abi.encode(zap, tm));

57:         bytes32 positionId = registry.calculatePositionId(address(this), PRISMA_POSITION_ID, abi.encode(zap, tm));

77:             registry.calculatePositionId(address(this), PRISMA_POSITION_ID, abi.encode(zapContract, tm));

106:             registry.calculatePositionId(address(this), PRISMA_POSITION_ID, abi.encode(zapContract, tm));

131:             registry.calculatePositionId(address(this), PRISMA_POSITION_ID, abi.encode(zapContract, troveManager));

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L35), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L57), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L77), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L106), [131](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L131)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

38:             abi.encode(_accountId, _token),

55:                 abi.encode(_accountId, _token),

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L38), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L55)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

39:             vaultId, registry.calculatePositionId(address(this), SILO_LP_ID, abi.encode(siloToken)), "", "", false

62:                 vaultId, registry.calculatePositionId(address(this), SILO_LP_ID, abi.encode(siloToken)), "", "", true

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L39), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L62)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

67:             registry.calculatePositionId(address(this), STARGATE_LP_POSITION_TYPE, abi.encode(depositRequest.poolId));

91:                 address(this), STARGATE_LP_POSITION_TYPE, abi.encode(withdrawRequest.poolId)

```
*Github:* [[67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L67), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L91)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

42:             registry.calculatePositionId(address(this), UNI_LP_POSITION_TYPE, abi.encode(p.token0, p.token1));

50:         bytes memory positionData = abi.encode(tokenId);

52:             vaultId, positionId, positionData, abi.encode(p.tickLower, p.tickUpper, p.fee), false

76:                 registry.calculatePositionId(address(this), UNI_LP_POSITION_TYPE, abi.encode(token0, token1));

77:             bytes memory positionData = abi.encode(p.tokenId);

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L42), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L50), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L52), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L76), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L77)]


```solidity
File: ./contracts/governance/Keepers.sol

101:                 keccak256(abi.encode(TXTYPE_HASH, nonce, destination, data, gasLimit, executor, deadline));

```
*Github:* [[101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L101)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

138:         bytes32 positionId = registry.calculatePositionId(accountingManager, 0, abi.encode(token));

141:             registry.getHoldingPositionIndex(vaultId, positionId, address(this), abi.encode(address(this)));

144:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L138), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L141), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L144)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

82:         bytes32 positionId = registry.calculatePositionId(accountingManager, 0, abi.encode(token));

85:             registry.getHoldingPositionIndex(vaultId, positionId, address(this), abi.encode(address(this)));

87:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

```
*Github:* [[82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L82), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L85), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L87)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

79:         bytes memory data = abi.encode(vaultId, tvl, updateTime);

```
*Github:* [[79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L79)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

69:         bytes32 txn = keccak256(abi.encode(bridgeRequest));

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L69)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

37:             registry.calculatePositionId(address(this), OMNICHAIN_POSITION_ID, abi.encode(chainId)),

39:             abi.encode(tvl),

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L37), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L39)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

171:             ITokenTransferCallBack(from).sendTokensToTrustedAddress(address(token), amount, caller, abi.encode(routeId));

```
*Github:* [[171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L171)]


</details>


<a name="GAS-49"></a> 
### [GAS-49] Using bools for storage incurs overhead
Use uint256(1) and uint256(2) for true/false to avoid a Gwarmaccess (100 gas), and to avoid Gsset (20000 gas) when changing from ‘false’ to ‘true’, after having been ‘true’ in the past. See [source](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/58f635312aa21f947cae5f8578638a85aa2519f5/contracts/security/ReentrancyGuard.sol#L23-L27).

*There are <b>5</b> instances of this issue:*
```solidity
File: ./contracts/governance/Keepers.sol

10:     mapping(address => bool) public isOwner;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L10)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

13:     mapping(address => bool) public isEligibleToUse;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L13)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

13:     mapping(address => bool) public isHandler;

14:     mapping(string => bool) public isBridgeWhiteListed;

15:     mapping(uint256 => bool) public isChainSupported;

```
*Github:* [[13](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L13), [14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L14), [15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L15)]



<a name="GAS-50"></a> 
### [GAS-50] Cache array length outside of loop
If not cached, the solidity compiler will always read the length of the array during each iteration. That is, if it is a storage array, this is an extra sload operation (100 additional extra gas for each iteration except for the first) and if it is a memory array, this is an extra mload operation (3 additional gas for each iteration except for the first).

<details>
<summary>
There are <b>44</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

551:         for (uint256 i = 0; i < retrieveData.length; i++) {

603:             for (uint256 i = 0; i < items.length; i++) {

608:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[551](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L551), [603](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L603), [608](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L608)]


```solidity
File: ./contracts/accountingManager/Registry.sol

138:         for (uint256 i = 0; i < _trustedTokens.length; i++) {

194:         for (uint256 i = 0; i < _connectorAddresses.length; i++) {

214:         for (uint256 i = 0; i < _tokens.length; i++) {

253:             for (uint256 i = 0; i < usingTokens.length; i++) {

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L138), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L194), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L214), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L253)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

54:         for (uint256 i = 0; i < rewardsPools.length; i++) {

77:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L54), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L77)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

74:             for (uint256 i = 0; i < tokens.length; i++) {

79:             for (uint256 i = 0; i < destinationConnector.length; i++) {

84:             for (uint256 i = 0; i < tokens.length; i++) {

89:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L84), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L89)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

126:         address poolAddress = (poolInfo.tokens.length > 2 && poolInfo.zap != address(0)) ? poolInfo.zap : pool;

128:         if (poolInfo.tokens.length == 2) {

132:         } else if (poolInfo.tokens.length == 3) {

136:         } else if (poolInfo.tokens.length == 4) {

140:         } else if (poolInfo.tokens.length == 5) {

144:         } else if (poolInfo.tokens.length == 6) {

222:         for (uint256 i = 0; i < gauges.length; i++) {

234:         for (uint256 i = 0; i < pools.length; i++) {

248:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L126), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L128), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L132), [136](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L136), [140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L140), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L144), [222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L222), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L234), [248](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L248)]


```solidity
File: ./contracts/connectors/Dolomite.sol

113:         for (uint256 i = 0; i < markets.length; i++) {

```
*Github:* [[113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L113)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

69:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L69)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

140:         for (uint256 i = 0; i < earnedInfo.length; i++) {

```
*Github:* [[140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L140)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

244:         for (uint256 i = 0; i < rewardTokens.length; i++) {

```
*Github:* [[244](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L244)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

116:         for (uint256 i = 0; i < assets.length; i++) {

132:         for (uint256 i = 0; i < assetsS.length; i++) {

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L116), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L132)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/governance/Keepers.sol

29:         for (uint256 i = 0; i < _owners.length; i++) {

44:         for (uint256 i = 0; i < _owners.length; i++) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L29), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L44)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

178:         for (uint256 i = 0; i < tokens.length; i++) {

189:         for (uint256 i = 0; i < tokens.length; i++) {

211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L189), [211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

41:         for (uint256 i = 0; i < tokens.length; i++) {

46:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L46)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

37:         for (uint256 i = 0; i < usersAddresses.length; i++) {

148:         for (uint256 i = 0; i < _routes.length;) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L37), [148](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L148)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

18:         for (uint256 i = 0; i < positions.length; i++) {

44:         for (uint256 i = 0; i < positions.length; i++) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L18), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L44)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

41:         for (uint256 i = 0; i < baseCurrencies.length; i++) {

55:         for (uint256 i = 0; i < oracle.length; i++) {

88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L41), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L55), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

74:         for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L74)]


</details>


<a name="GAS-51"></a> 
### [GAS-51] State variables should be cached in stack variables rather than re-reading them from storage
The instances below point to the second+ access of a state variable within a function. Caching of a state variable replaces each Gwarmaccess (100 gas) with a much cheaper stack read. Other less obvious fixes/optimizations include having local memory caches of state variable structs, or having local caches of state variable contracts/addresses.

<details>
<summary>
There are <b>31</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit more than 1 read for `withdrawFeeReceiver`, line 143 and 140
143:         withdrawFeeReceiver = _withdrawFeeReceiver;

/// @audit more than 1 read for `performanceFeeReceiver`, line 144 and 141
144:         performanceFeeReceiver = _performanceFeeReceiver;

/// @audit more than 1 read for `managementFeeReceiver`, line 145 and 142
145:         managementFeeReceiver = _managementFeeReceiver;

/// @audit more than 1 read for `depositQueue`, line 237 and 227
237:             DepositRequest storage data = depositQueue.queue[middleTemp];

/// @audit more than 1 read for `depositQueue`, line 272 and 263
272:             DepositRequest memory data = depositQueue.queue[firstTemp];

/// @audit more than 1 read for `withdrawQueue`, line 343 and 329
343:             WithdrawRequest storage data = withdrawQueue.queue[middleTemp];

/// @audit more than 1 read for `amountAskedForWithdraw`, line 378 and 374
378:         amountAskedForWithdraw = 0;

/// @audit more than 1 read for `currentWithdrawGroup`, line 380 and 374
380:         if (availableAssets >= currentWithdrawGroup.totalCBAmount) {

/// @audit more than 1 read for `currentWithdrawGroup`, line 381 and 374
381:             currentWithdrawGroup.totalABAmount = currentWithdrawGroup.totalCBAmount;

/// @audit more than 1 read for `currentWithdrawGroup`, line 385 and 374
385:         currentWithdrawGroup.totalCBAmountFullfilled = currentWithdrawGroup.totalCBAmount;

/// @audit more than 1 read for `withdrawQueue`, line 412 and 401
412:             WithdrawRequest memory data = withdrawQueue.queue[firstTemp];

/// @audit more than 1 read for `baseToken`, line 425 and 423
425:                 baseTokenAmount = baseTokenAmount - feeAmount;

/// @audit more than 1 read for `preformanceFeeSharesWaitingForDistribution`, line 540 and 528
540:         preformanceFeeSharesWaitingForDistribution = 0;

/// @audit more than 1 read for `baseToken`, line 559 and 555
559:             uint256 balanceAfter = baseToken.balanceOf(address(this));

```
*Github:* [[143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L143), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L144), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L145), [237](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L237), [272](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L272), [343](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L343), [378](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L378), [380](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L380), [381](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L381), [385](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L385), [412](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L412), [425](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L425), [540](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L540), [559](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L559)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit more than 1 read for `maxNumHoldingPositions`, line 81 and 80
81:         maxNumHoldingPositions = _maxNumHoldingPositions;

/// @audit more than 1 read for `maxNumHoldingPositions`, line 81 and 80
81:         maxNumHoldingPositions = _maxNumHoldingPositions;

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L81), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L81)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit more than 1 read for `caller`, line 44 and 41
44:         caller = address(0);

/// @audit more than 1 read for `caller`, line 44 and 41
44:         caller = address(0);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L44), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L44)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit more than 1 read for `dolomiteMargin`, line 50 and 44
50:         (uint256[] memory markets,,,) = dolomiteMargin.getAccountBalances(Info(address(this), 0));

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L50)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit more than 1 read for `LPStaking`, line 88 and 77
88:         uint256 LPAmount = LPStaking.userInfo(withdrawRequest.poolId, address(this)).amount;

/// @audit more than 1 read for `LPStaking`, line 114 and 113
114:         uint256 lpAmount = LPStaking.userInfo(poolId, address(this)).amount + IERC20(lpAddress).balanceOf(address(this));

```
*Github:* [[88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L88), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L114)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit more than 1 read for `numOwners`, line 53 and 43
53:         require(numOwnersTemp <= 10 && threshold <= numOwnersTemp && threshold > 1);

/// @audit more than 1 read for `numOwners`, line 53 and 43
53:         require(numOwnersTemp <= 10 && threshold <= numOwnersTemp && threshold > 1);

/// @audit more than 1 read for `numOwners`, line 54 and 43
54:         numOwners = numOwnersTemp;

/// @audit more than 1 read for `numOwners`, line 54 and 43
54:         numOwners = numOwnersTemp;

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L53), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L53), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L54), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L54)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit more than 1 read for `registry`, line 82 and 80
82:         bytes32 positionId = registry.calculatePositionId(accountingManager, 0, abi.encode(token));

```
*Github:* [[82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L82)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit more than 1 read for `slippageTolerance`, line 105 and 104
105:             if (_slippageTolerance == 0) {

/// @audit more than 1 read for `slippageTolerance`, line 106 and 104
106:                 _slippageTolerance = genericSlippageTolerance;

```
*Github:* [[105](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L105), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L106)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit more than 1 read for `chainlinkPriceAgeThreshold`, line 60 and 57
60:         chainlinkPriceAgeThreshold = _chainlinkPriceAgeThreshold;

/// @audit more than 1 read for `chainlinkPriceAgeThreshold`, line 60 and 57
60:         chainlinkPriceAgeThreshold = _chainlinkPriceAgeThreshold;

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L60), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L60)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit more than 1 read for `assetToBaseToPool`, line 64 and 62
64:             pool = assetToBaseToPool[baseToken][tokenIn];

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L64)]


</details>


<a name="GAS-52"></a> 
### [GAS-52] Use `calldata` instead of `memory` for function arguments that do not get mutated
Mark data types as `calldata` instead of `memory` where possible. This makes it so that the data is not automatically loaded into memory. If the data passed into the function does not need to be changed (like updating values in an array), it can be passed in as `calldata`. The one exception to this is if the argument must later be passed into another function that takes an argument that specifies `memory` storage.

<details>
<summary>
There are <b>128</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit make `p` as a calldata
94:     constructor(AccountingManagerConstructorParams memory p)

/// @audit make `addLPdata` as a calldata
257:     function executeDeposit(uint256 maxI, address connector, bytes memory addLPdata)

/// @audit make `items` as a calldata
596:     function getQueueItems(bool depositOrWithdraw, uint256[] memory items)

/// @audit make `position` as a calldata
632:     function getPositionTVL(HoldingPI memory position, address base) public view returns (uint256) {

/// @audit make `data` as a calldata
649:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

```
*Github:* [[94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L94), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L257), [596](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L596), [632](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L632), [649](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L649)]


```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit make `data` as a calldata
394:     function getHoldingPositionIndex(uint256 vaultId, bytes32 _positionId, address _connector, bytes memory data)

/// @audit make `data` as a calldata
486:     function calculatePositionId(address calculatorConnector, uint256 positionTypeId, bytes memory data)

```
*Github:* [[394](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L394), [486](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L486)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit make `baseConnectorParams` as a calldata
33:     constructor(address _pool, address _poolBaseToken, BaseConnectorCP memory baseConnectorParams)

/// @audit make `` as a calldata
114:     function _getPositionTVL(HoldingPI memory, address base) public view override returns (uint256 tvl) {

/// @audit make `` as a calldata
120:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L33), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L114), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L120)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit make `baseConnectorParams` as a calldata
40:     constructor(address _router, address _voter, BaseConnectorCP memory baseConnectorParams)

/// @audit make `data` as a calldata
53:     function supply(DepositData memory data) public onlyManager nonReentrant {

/// @audit make `data` as a calldata
79:     function withdraw(WithdrawData memory data) public onlyManager nonReentrant {

/// @audit make `data` as a calldata
117:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

/// @audit make `p` as a calldata
125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L40), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L53), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L79), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L117), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L125)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit make `baseConnectorParams` as a calldata
42:     constructor(address _balancerVault, address bal, address aura, BaseConnectorCP memory baseConnectorParams)

/// @audit make `amounts` as a calldata
66:         uint256[] memory amounts,

/// @audit make `amountsWithoutBPT` as a calldata
67:         uint256[] memory amountsWithoutBPT,

/// @audit make `p` as a calldata
115:     function decreasePosition(DecreasePositionParams memory p) public onlyManager nonReentrant {

/// @audit make `p` as a calldata
162:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

/// @audit make `pool` as a calldata
175:     function totalLpBalanceOf(PoolInfo memory pool) public view returns (uint256) {

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L42), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L66), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L67), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L115), [162](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L162), [175](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L175)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit make `tokens` as a calldata
37:     function makeFlashLoan(IERC20[] memory tokens, uint256[] memory amounts, bytes memory userData)

/// @audit make `amounts` as a calldata
37:     function makeFlashLoan(IERC20[] memory tokens, uint256[] memory amounts, bytes memory userData)

/// @audit make `userData` as a calldata
37:     function makeFlashLoan(IERC20[] memory tokens, uint256[] memory amounts, bytes memory userData)

/// @audit make `tokens` as a calldata
55:         IERC20[] memory tokens,

/// @audit make `feeAmounts` as a calldata
57:         uint256[] memory feeAmounts,

/// @audit make `userData` as a calldata
58:         bytes memory userData

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L37), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L37), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L37), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L55), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L57), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L58)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit make `baseCP` as a calldata
36:     constructor(address _router, address _factory, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

/// @audit make `p` as a calldata
88:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `data` as a calldata
99:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L36), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L88), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L99)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit make `baseConnectorParams` as a calldata
17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

/// @audit make `p` as a calldata
125:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256) {

/// @audit make `data` as a calldata
134:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L17), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L125), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L134)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

/// @audit make `baseConnectorParams` as a calldata
50:         BaseConnectorCP memory baseConnectorParams

/// @audit make `p` as a calldata
265:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `info` as a calldata
279:     function LPToUnder(PoolInfo memory info, uint256 balance) public view returns (uint256, address) {

/// @audit make `info` as a calldata
311:     function totalLpBalanceOf(PoolInfo memory info) public view returns (uint256) {

/// @audit make `info` as a calldata
325:     function balanceOfConvexRewardPool(PoolInfo memory info) public view returns (uint256) {

/// @audit make `info` as a calldata
335:     function balanceOfLPToken(PoolInfo memory info) public view returns (uint256) {

/// @audit make `info` as a calldata
344:     function balanceOfRewardPool(PoolInfo memory info) public view returns (uint256) {

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L50), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L265), [279](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L279), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L311), [325](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L325), [335](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L335), [344](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L344)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit make `baseConnectorParams` as a calldata
22:         BaseConnectorCP memory baseConnectorParams

/// @audit make `marketIds` as a calldata
98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

/// @audit make `p` as a calldata
106:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L22), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L106)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit make `baseConnectorParams` as a calldata
29:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

/// @audit make `data` as a calldata
142:     function _getUnderlyingTokens(uint256 p, bytes memory data) public view override returns (address[] memory) {

/// @audit make `p` as a calldata
150:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L29), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L142), [150](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L150)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit make `baseConnectorParams` as a calldata
17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

/// @audit make `p` as a calldata
93:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L17), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L93)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit make `baseConnectorParams` as a calldata
20:     constructor(address _lido, address _lidoW, address _steth, address w, BaseConnectorCP memory baseConnectorParams)

/// @audit make `p` as a calldata
91:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L20), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L91)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit make `baseCP` as a calldata
43:     constructor(address _mav, address _veMav, address mr, address pi, BaseConnectorCP memory baseCP)

/// @audit make `` as a calldata
149:     function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {

/// @audit make `p` as a calldata
153:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `data` as a calldata
161:     function _getUnderlyingTokens(uint256 id, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L43), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L149), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L153), [161](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L161)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit make `baseCP` as a calldata
23:     constructor(address MB, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

/// @audit make `_market` as a calldata
108:     function getHealthFactor(Id _id, Market memory _market) public view returns (uint256) {

/// @audit make `p` as a calldata
118:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `data` as a calldata
141:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L23), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L108), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L118), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L141)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

/// @audit make `baseConnectorParams` as a calldata
19:     constructor(address MC, address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L19)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit make `baseCP` as a calldata
57:     constructor(address _pendleMarketDepositHelper, address _pendleRouter, address SR, BaseConnectorCP memory baseCP)

/// @audit make `guess` as a calldata
149:     function swapYTForPT(address market, uint256 exactYTIn, uint256 min, ApproxParams memory guess)

/// @audit make `orderData` as a calldata
166:     function swapYTForSY(address market, uint256 exactYTIn, uint256 min, LimitOrderData memory orderData)

/// @audit make `p` as a calldata
257:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `data` as a calldata
311:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L57), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L149), [166](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L166), [257](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L257), [311](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L311)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit make `baseConnectorParams` as a calldata
25:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

/// @audit make `p` as a calldata
145:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `data` as a calldata
164:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L25), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L145), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L164)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

/// @audit make `baseConnectorParams` as a calldata
20:     constructor(address _SNXCoreProxy, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

/// @audit make `` as a calldata
64:     function onERC721Received(address, address, uint256, bytes memory) external pure override returns (bytes4) {

/// @audit make `p` as a calldata
121:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `` as a calldata
128:     function _getUnderlyingTokens(uint256, bytes memory) public pure override returns (address[] memory) {

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L20), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L64), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L121), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L128)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit make `baseConnectorParams` as a calldata
17:     constructor(address SR, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

/// @audit make `p` as a calldata
109:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `data` as a calldata
143:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L17), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L109), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L143)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit make `baseConnectorParams` as a calldata
33:     constructor(address lpStacking, address _stargateRouter, BaseConnectorCP memory baseConnectorParams)

/// @audit make `p` as a calldata
110:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `data` as a calldata
123:     function _getUnderlyingTokens(uint256, bytes memory data) public view override returns (address[] memory) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L33), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L110), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit make `baseConnectorParams` as a calldata
27:     constructor(address _positionManager, address _factory, BaseConnectorCP memory baseConnectorParams)

/// @audit make `p` as a calldata
63:     function decreasePosition(DecreaseLiquidityParams memory p) external onlyManager nonReentrant {

/// @audit make `p` as a calldata
87:     function increasePosition(IncreaseLiquidityParams memory p) external onlyManager nonReentrant {

/// @audit make `tokenIds` as a calldata
101:     function collectAllFees(uint256[] memory tokenIds) public onlyManager nonReentrant {

/// @audit make `p` as a calldata
127:     function _getPositionTVL(HoldingPI memory p, address base) public view override returns (uint256 tvl) {

/// @audit make `data` as a calldata
152:     function _getUnderlyingTokens(uint256, bytes memory data) public pure override returns (address[] memory) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L27), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L63), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L87), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L101), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L127), [152](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L152)]


```solidity
File: ./contracts/governance/Keepers.sol

/// @audit make `_owners` as a calldata
27:     constructor(address[] memory _owners, uint8 _threshold) EIP712("Keepers", "1") Ownable2Step() Ownable(msg.sender) {

/// @audit make `_owners` as a calldata
42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {

/// @audit make `addOrRemove` as a calldata
42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {

/// @audit make `sigR` as a calldata
89:         bytes32[] memory sigR,

/// @audit make `sigS` as a calldata
90:         bytes32[] memory sigS,

/// @audit make `sigV` as a calldata
91:         uint8[] memory sigV,

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L27), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L89), [90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L90), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L91)]


```solidity
File: ./contracts/governance/TimeLock.sol

/// @audit make `proposers` as a calldata
7:     constructor(uint256 minDelay, address[] memory proposers, address[] memory executors, address owner)

/// @audit make `executors` as a calldata
7:     constructor(uint256 minDelay, address[] memory proposers, address[] memory executors, address owner)

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L7), [7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/TimeLock.sol#L7)]


```solidity
File: ./contracts/governance/Watchers.sol

/// @audit make `_owners` as a calldata
7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

/// @audit make `data` as a calldata
8:     function verifyRemoveLiquidity(uint256 withdrawAmount, uint256 sentAmount, bytes memory data) external view { }

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L8)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit make `params` as a calldata
33:     constructor(BaseConnectorCP memory params) NoyaGovernanceBase(params.registry, params.vaultId) {

/// @audit make `data` as a calldata
84:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)

/// @audit make `tokens` as a calldata
123:         address[] memory tokens,

/// @audit make `amounts` as a calldata
124:         uint256[] memory amounts,

/// @audit make `data` as a calldata
125:         bytes memory data,

/// @audit make `tokens` as a calldata
169:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data)

/// @audit make `amounts` as a calldata
169:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data)

/// @audit make `data` as a calldata
169:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data)

/// @audit make `tokensIn` as a calldata
205:         address[] memory tokensIn,

/// @audit make `tokensOut` as a calldata
206:         address[] memory tokensOut,

/// @audit make `amountsIn` as a calldata
207:         uint256[] memory amountsIn,

/// @audit make `swapData` as a calldata
208:         bytes[] memory swapData,

/// @audit make `routeIds` as a calldata
209:         uint256[] memory routeIds

/// @audit make `data` as a calldata
232:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

/// @audit make `p` as a calldata
249:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

/// @audit make `` as a calldata
263:     function _getUnderlyingTokens(uint256, bytes memory) public view virtual returns (address[] memory) {

/// @audit make `` as a calldata
271:     function _getPositionTVL(HoldingPI memory, address) public view virtual returns (uint256 tvl) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L33), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L84), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L123), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L125), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L169), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L169), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L169), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L205), [206](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L206), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L207), [208](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L208), [209](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L209), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L232), [249](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L249), [263](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L263), [271](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L271)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit make `data` as a calldata
27:     function sendTokensToTrustedAddress(address token, uint256 amount, address caller, bytes memory data)

/// @audit make `tokens` as a calldata
40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

/// @audit make `amounts` as a calldata
40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

/// @audit make `data` as a calldata
40:     function addLiquidity(address[] memory tokens, uint256[] memory amounts, bytes memory data) external {

/// @audit make `data` as a calldata
51:     function updatePositionToRegistryUsingType(bytes32 _positionId, bytes memory data, bool remove) external {

/// @audit make `data` as a calldata
59:     function addPositionToRegistryUsingType(uint256 _positionType, bytes memory data) external {

/// @audit make `data` as a calldata
65:     function addPositionToRegistry(bytes memory data) external {

/// @audit make `p` as a calldata
71:     function getPositionTVL(HoldingPI memory p, address baseToken) public view returns (uint256) {

/// @audit make `data` as a calldata
75:     function getUnderlyingTokens(uint256 positionTypeId, bytes memory data) public view returns (address[] memory) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L27), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L40), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L51), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L59), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L65), [71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L71), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L75)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit make `_messageSetting` as a calldata
36:     function updateMessageSetting(bytes memory _messageSetting) public onlyOwner {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L36)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

/// @audit make `bridgeRequest` as a calldata
68:     function startBridgeTransaction(BridgeRequest memory bridgeRequest) public onlyManager nonReentrant {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L68)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

/// @audit make `baseConnectorParams` as a calldata
19:     constructor(uint256 dl, address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

/// @audit make `position` as a calldata
51:     function _getPositionTVL(HoldingPI memory position, address) public view override returns (uint256) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L19), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L51)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

/// @audit make `baseConnectorParams` as a calldata
11:     constructor(address payable _lzHelper, BaseConnectorCP memory baseConnectorParams)

/// @audit make `position` as a calldata
33:     function _getPositionTVL(HoldingPI memory position, address base) public view override returns (uint256) {

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L11), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L33)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit make `usersAddresses` as a calldata
34:     constructor(address[] memory usersAddresses, address _valueOracle, PositionRegistry _registry, uint256 _vaultId)

/// @audit make `_routes` as a calldata
147:     function addRoutes(RouteData[] memory _routes) public onlyMaintainer {

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L34), [147](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L147)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit make `bridgeName` as a calldata
65:     function addBridgeBlacklist(string memory bridgeName, bool state) external onlyOwner {

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L65)]


</details>


<a name="GAS-53"></a> 
### [GAS-53] Use Custom Errors
[Source](https://blog.soliditylang.org/2021/04/21/custom-errors/)
Instead of using error strings, to reduce deployment and runtime cost, you should use Custom Errors. This would save both deployment and runtime cost.

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

686:             require(success, "Transfer failed.");

```
*Github:* [[686](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L686)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

82:                 require(success, "BalancerFlashLoan: Flash loan failed");

92:             require(tokens[i].balanceOf(address(this)) == 0, "BalancerFlashLoan: Flash loan extra tokens");

```
*Github:* [[82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L82), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L92)]


```solidity
File: ./contracts/governance/Keepers.sol

94:         require(isOwner[msg.sender], "Not an owner");

95:         require(sigR.length == threshold, "Not enough signatures");

96:         require(sigR.length == sigS.length && sigR.length == sigV.length, "Lengths do not match");

97:         require(executor == msg.sender, "Invalid executor");

98:         require(block.timestamp <= deadline, "Transaction expired");

117:         require(success, "Transaction execution reverted.");

```
*Github:* [[94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L94), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L95), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L96), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L97), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L98), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L117)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

25:         require(isEligibleToUse[msg.sender], "NoyaSwapHandler: Not eligible to use");

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L25)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

35:         require(isHandler[msg.sender] == true, "LifiImplementation: INVALID_SENDER");

84:         require(verifySwapData(_request), "LifiImplementation: INVALID_SWAP_DATA");

196:             require(success, "Transfer failed.");

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L35), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L84), [196](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L196)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

50:         require(pool != address(0), "pool doesn't exist");

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L50)]


</details>


<a name="GAS-54"></a> 
### [GAS-54] Don't initialize variables with default value

<details>
<summary>
There are <b>58</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

228:         uint64 i = 0;

264:         uint64 i = 0;

265:         uint256 processedBaseTokenAmount = 0;

330:         uint64 i = 0;

331:         uint256 processedShares = 0;

332:         uint256 assetsNeededForWithdraw = 0;

400:         uint64 i = 0;

403:         uint256 withdrawFeeAmount = 0;

404:         uint256 processedBaseTokenAmount = 0;

549:         uint256 amountAskedForWithdraw_temp = 0;

551:         for (uint256 i = 0; i < retrieveData.length; i++) {

603:             for (uint256 i = 0; i < items.length; i++) {

608:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[228](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L228), [264](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L264), [265](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L265), [330](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L330), [331](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L331), [332](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L332), [400](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L400), [403](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L403), [404](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L404), [549](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L549), [551](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L551), [603](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L603), [608](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L608)]


```solidity
File: ./contracts/accountingManager/Registry.sol

138:         for (uint256 i = 0; i < _trustedTokens.length; i++) {

194:         for (uint256 i = 0; i < _connectorAddresses.length; i++) {

214:         for (uint256 i = 0; i < _tokens.length; i++) {

253:             for (uint256 i = 0; i < usingTokens.length; i++) {

274:         for (uint256 i = 0; i < length; i++) {

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L138), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L194), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L214), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L253), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L274)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

54:         for (uint256 i = 0; i < rewardsPools.length; i++) {

77:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L54), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L77)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

74:             for (uint256 i = 0; i < tokens.length; i++) {

79:             for (uint256 i = 0; i < destinationConnector.length; i++) {

84:             for (uint256 i = 0; i < tokens.length; i++) {

89:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L84), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L89)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

222:         for (uint256 i = 0; i < gauges.length; i++) {

234:         for (uint256 i = 0; i < pools.length; i++) {

248:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L222), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L234), [248](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L248)]


```solidity
File: ./contracts/connectors/Dolomite.sol

111:         uint256 totalDebt = 0;

112:         uint256 totalCollateral = 0;

113:         for (uint256 i = 0; i < markets.length; i++) {

```
*Github:* [[111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L111), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L112), [113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L113)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

69:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L69)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

140:         for (uint256 i = 0; i < earnedInfo.length; i++) {

```
*Github:* [[140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L140)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

244:         for (uint256 i = 0; i < rewardTokens.length; i++) {

260:             uint256 underlyingBalance = 0;

```
*Github:* [[244](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L244), [260](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L260)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

114:         uint256 totalDepositAmount = 0;

115:         uint256 totalBAmount = 0;

116:         for (uint256 i = 0; i < assets.length; i++) {

132:         for (uint256 i = 0; i < assetsS.length; i++) {

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L114), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L115), [116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L116), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L132)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/governance/Keepers.sol

29:         for (uint256 i = 0; i < _owners.length; i++) {

44:         for (uint256 i = 0; i < _owners.length; i++) {

104:             for (uint256 i = 0; i < threshold;) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L29), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L44), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L104)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

178:         for (uint256 i = 0; i < tokens.length; i++) {

189:         for (uint256 i = 0; i < tokens.length; i++) {

211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L189), [211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

17:     uint256 public vaultId = 0;

41:         for (uint256 i = 0; i < tokens.length; i++) {

46:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L17), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L46)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

37:         for (uint256 i = 0; i < usersAddresses.length; i++) {

148:         for (uint256 i = 0; i < _routes.length;) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L37), [148](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L148)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

85:         uint256 balanceOut0 = 0;

92:         uint256 balanceOut1 = 0;

```
*Github:* [[85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L85), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L92)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

18:         for (uint256 i = 0; i < positions.length; i++) {

44:         for (uint256 i = 0; i < positions.length; i++) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L18), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L44)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

41:         for (uint256 i = 0; i < baseCurrencies.length; i++) {

55:         for (uint256 i = 0; i < oracle.length; i++) {

88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L41), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L55), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

74:         for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L74)]


</details>


<a name="GAS-55"></a> 
### [GAS-55] Usage of `int`s/`uint`s smaller than 32 bytes incurs overhead
Using `int`s/`uint`s smaller than 32 bytes may cost more gas. This is because the EVM operates on 32 bytes at a time, so if an element is smaller than 32 bytes, the EVM must perform more operations to reduce the size of the element from 32 bytes to the desired size.

<details>
<summary>
There are <b>61</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

228:         uint64 i = 0;

264:         uint64 i = 0;

330:         uint64 i = 0;

400:         uint64 i = 0;

```
*Github:* [[228](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L228), [264](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L264), [330](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L330), [400](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L400)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

97:         uint16 assetsIn = userBasic.assetsIn;

104:         uint8 numberOfAssets = comet.numAssets();

107:         for (uint8 i; i < numberOfAssets; ++i) {

141:     function isInAsset(uint16 assetsIn, uint8 assetOffset) public pure returns (bool) {

141:     function isInAsset(uint16 assetsIn, uint8 assetOffset) public pure returns (bool) {

142:         return (assetsIn & (uint16(1) << assetOffset) != 0);

```
*Github:* [[97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L97), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L104), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L107), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L141), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L141), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L142)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

169:         ICurveSwap(poolInfo.pool).remove_liquidity_one_coin(amount, int128(uint128(withdrawIndex)), minAmount);

169:         ICurveSwap(poolInfo.pool).remove_liquidity_one_coin(amount, int128(uint128(withdrawIndex)), minAmount);

302:         int128 tokenIndex = int128(uint128(index));

302:         int128 tokenIndex = int128(uint128(index));

302:         int128 tokenIndex = int128(uint128(index));

```
*Github:* [[169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L169), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L169), [302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L302), [302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L302), [302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L302)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

139:         uint8 tokenIndex;

```
*Github:* [[139](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L139)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

30:     function deposit(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

46:     function withdraw(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

69:         uint128 _accountId,

76:         uint128 poolId = SNXCoreProxy.getPreferredPool();

83:         uint128 _accountId,

90:             _accountId, uint128(poolIds[poolIndex]), collateralType, newCollateralAmountD18, leverage

94:     function claimRewards(uint128 accountId, uint128 poolId, address collateralType, address distributor)

94:     function claimRewards(uint128 accountId, uint128 poolId, address collateralType, address distributor)

104:         uint128 _accountId,

105:         uint128 poolId,

122:         (uint128 accountId, address collateralType) = abi.decode(p.data, (uint128, address));

122:         (uint128 accountId, address collateralType) = abi.decode(p.data, (uint128, address));

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L30), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L46), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L69), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L76), [83](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L83), [90](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L90), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L94), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L94), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L104), [105](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L105), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L122), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L122)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

84:                 uint16(withdrawRequest.poolId), withdrawRequest.routerAmount, address(this)

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L84)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

64:         (uint128 currentLiquidity, address token0, address token1) = getCurrentLiquidity(p.tokenId);

116:     function getCurrentLiquidity(uint256 tokenId) public view returns (uint128, address, address) {

117:         (,, address token0, address token1,,,, uint128 liquidity,,,,) = positionManager.positions(tokenId);

123:         CollectParams memory params = CollectParams(tokenId, address(this), type(uint128).max, type(uint128).max);

123:         CollectParams memory params = CollectParams(tokenId, address(this), type(uint128).max, type(uint128).max);

138:             (uint128 liquidity,,, uint128 tokensOwed0, uint128 tokensOwed1) = pool.positions(key);

138:             (uint128 liquidity,,, uint128 tokensOwed0, uint128 tokensOwed1) = pool.positions(key);

138:             (uint128 liquidity,,, uint128 tokensOwed0, uint128 tokensOwed1) = pool.positions(key);

140:             (uint160 sqrtPriceX96,,,,,,) = pool.slot0();

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L64), [116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L116), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L117), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L123), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L123), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L138), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L138), [138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L138), [140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L140)]


```solidity
File: ./contracts/governance/Keepers.sol

15:     uint8 public threshold;

20:     event UpdateThreshold(uint8 threshold);

27:     constructor(address[] memory _owners, uint8 _threshold) EIP712("Keepers", "1") Ownable2Step() Ownable(msg.sender) {

63:     function setThreshold(uint8 _threshold) public onlyOwner {

91:         uint8[] memory sigV,

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L15), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L20), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L27), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L63), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L91)]


```solidity
File: ./contracts/governance/Watchers.sol

7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

19:     mapping(uint32 => ChainInfo) public chainInfo; // chainId => ChainInfo

24:     uint32 constant TVL_UPDATE = 1;

40:     function setChainInfo(uint256 chainId, uint32 lzChainId, address lzHelperAddress) public onlyOwner {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L19), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L24), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L40)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

10:     uint32 lzChainId;

51:     function setChainInfo(uint256 chainId, uint32 lzChainId, address lzHelperAddress) public onlyOwner {

78:         uint32 lzChainId = chainInfo[vaultIdToVaultInfo[vaultId].baseChainId].lzChainId;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L10), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L51), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L78)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

19:     uint32 public period = 1800;

21:     event NewPeriod(uint32 period);

38:     function setPeriod(uint32 _period) external onlyMaintainer {

61:         uint128 amountIn128 = uint128(amount);

61:         uint128 amountIn128 = uint128(amount);

69:         uint32[] memory secondsAgos = new uint32[](2);

69:         uint32[] memory secondsAgos = new uint32[](2);

81:         int24 timeWeightedAverageTick = int24(tickCumulativesDelta / int56(int32(period)));

82:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % int56(int32(period)) != 0)) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L19), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L21), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L38), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L61), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L69), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L69), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L81), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L82)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol

8:         returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)

8:         returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)

```
*Github:* [[8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L8), [8](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/WETH_Oracle.sol#L8)]


</details>


<a name="GAS-56"></a> 
### [GAS-56] Constructors can be marked as `payable` to save deployment gas
Payable functions cost less gas to execute, because the compiler does not have to add extra checks to ensure that no payment is provided. A constructor can be safely marked as payable, because only the deployer would be able to pass funds, and the project itself would not pass any funds.

<details>
<summary>
There are <b>22</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

14:     constructor(address _accountingManager, address _baseToken, address _receiver) Ownable(msg.sender) {

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L14)]


```solidity
File: ./contracts/accountingManager/Registry.sol

66:     constructor(address _governer, address _maintainer, address _emergency, address _flashLoan) {

```
*Github:* [[66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L66)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

24:     constructor(address _balancerVault, PositionRegistry _registry) {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L24)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

36:     constructor(address _router, address _factory, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L36)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L17)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

29:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L29)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

17:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L17)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

23:     constructor(address MB, BaseConnectorCP memory baseCP) BaseConnector(baseCP) {

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L23)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

25:     constructor(BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) { }

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L25)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

20:     constructor(address _SNXCoreProxy, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L20)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

17:     constructor(address SR, BaseConnectorCP memory baseConnectorParams) BaseConnector(baseConnectorParams) {

```
*Github:* [[17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L17)]


```solidity
File: ./contracts/governance/Keepers.sol

27:     constructor(address[] memory _owners, uint8 _threshold) EIP712("Keepers", "1") Ownable2Step() Ownable(msg.sender) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L27)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

21:     constructor(PositionRegistry _registry, uint256 _vaultId) {

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L21)]


```solidity
File: ./contracts/governance/Watchers.sol

7:     constructor(address[] memory _owners, uint8 _threshold) Keepers(_owners, _threshold) { }

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Watchers.sol#L7)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

33:     constructor(BaseConnectorCP memory params) NoyaGovernanceBase(params.registry, params.vaultId) {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L33)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

22:     constructor(address _registry, uint256 _vaultId) {

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L22)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

31:     constructor(address _endpoint, address _owner) OAppReceiver() OAppCore(_endpoint, _owner) { }

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L31)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

29:     constructor(address _endpoint, address _owner) OAppSender() OAppCore(_endpoint, _owner) { }

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L29)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

27:     constructor(address swapHandler, address _lifi) Ownable2Step() Ownable(msg.sender) {

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L27)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

29:     constructor(PositionRegistry _registry) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L29)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

46:     constructor(address _reg) {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L46)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

31:     constructor(address _factory, PositionRegistry _registry) {

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L31)]


</details>


<a name="GAS-57"></a> 
### [GAS-57] Functions guaranteed to revert when called by normal users can be marked `payable`
If a function modifier such as `onlyOwner` is used, the function will revert if a normal user tries to pay the function. Marking the function as `payable` will lower the gas cost for legitimate callers because the compiler will not include checks for whether a payment was provided.

<details>
<summary>
There are <b>120</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

124:     function updateValueOracle(INoyaValueOracle _valueOracle) public onlyMaintainer {

170:     function setFees(uint256 _withdrawFee, uint256 _performanceFee, uint256 _managementFee) public onlyMaintainer {

226:     function calculateDepositShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

328:     function calculateWithdrawShares(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

360:     function startCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

370:     function fulfillCurrentWithdrawGroup() public onlyManager nonReentrant whenNotPaused {

396:     function executeWithdraw(uint256 maxIterations) public onlyManager nonReentrant whenNotPaused {

453:     function resetMiddle(uint256 newMiddle, bool depositOrWithdraw) public onlyManager {

505:     function collectManagementFees() public onlyManager nonReentrant returns (uint256, uint256) {

548:     function retrieveTokensForWithdraw(RetrieveData[] calldata retrieveData) public onlyManager nonReentrant {

659:     function emergencyStop() public whenNotPaused onlyEmergency {

663:     function unpause() public whenPaused onlyEmergency {

667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {

673:     function changeDepositWaitingTime(uint256 _depositWaitingTime) public onlyMaintainer {

678:     function changeWithdrawWaitingTime(uint256 _withdrawWaitingTime) public onlyMaintainer {

683:     function rescue(address token, uint256 amount) public onlyEmergency nonReentrant {

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L124), [170](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L170), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L226), [328](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L328), [360](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L360), [370](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L370), [396](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L396), [453](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L453), [505](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L505), [548](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L548), [659](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L659), [663](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L663), [667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667), [673](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L673), [678](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L678), [683](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L683)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

23:     function withdrawShares(uint256 amount) external onlyOwner {

27:     function burnShares(uint256 amount) external onlyOwner {

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L23), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L27)]


```solidity
File: ./contracts/accountingManager/Registry.sol

79:     function setMaxNumHoldingPositions(uint256 _maxNumHoldingPositions) external onlyRole(MAINTAINER_ROLE) {

84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {

```
*Github:* [[79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

46:     function supply(address supplyToken, uint256 amount) external onlyManager nonReentrant {

81:     function repay(address asset, uint256 amount, uint256 i) external onlyManager nonReentrant {

88:     function repayWithCollateral(uint256 _amount, uint256 i, address _borrowAsset) external onlyManager {

100:     function withdrawCollateral(uint256 _collateralAmount, address _collateral) external onlyManager nonReentrant {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L46), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L81), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L88), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L100)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

53:     function supply(DepositData memory data) public onlyManager nonReentrant {

79:     function withdraw(WithdrawData memory data) public onlyManager nonReentrant {

100:     function stake(address pool, uint256 liquidity) public onlyManager nonReentrant {

106:     function unstake(address pool, uint256 liquidity) public onlyManager nonReentrant {

111:     function claim(address pool) public onlyManager nonReentrant {

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L53), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L79), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L100), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L106), [111](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L111)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

53:     function harvestAuraRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

109:     function depositIntoAuraBooster(bytes32 poolId, uint256 _amount) public onlyManager nonReentrant {

115:     function decreasePosition(DecreasePositionParams memory p) public onlyManager nonReentrant {

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L53), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L109), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L115)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

43:     function addLiquidityInCamelotPool(CamelotAddLiquidityParams calldata p) external onlyManager nonReentrant {

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L43)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

29:     function supply(address market, address asset, uint256 amount) external onlyManager nonReentrant {

48:     function withdrawOrBorrow(address _market, address asset, uint256 amount) external onlyManager nonReentrant {

63:     function claimRewards(address rewardContract, address market) external onlyManager nonReentrant {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L29), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L48), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L63)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

68:     function depositIntoGauge(address pool, uint256 amount) public onlyManager nonReentrant {

81:     function depositIntoPrisma(address pool, uint256 amount, bool curveOrConvex) public onlyManager nonReentrant {

103:     function depositIntoConvexBooster(address pool, uint256 pid, uint256 amount, bool stake) public onlyManager {

182:     function withdrawFromConvexBooster(uint256 pid, uint256 amount) public onlyManager {

192:     function withdrawFromConvexRewardPool(address pool, uint256 amount) public onlyManager {

202:     function withdrawFromGauge(address pool, uint256 amount) public onlyManager {

212:     function withdrawFromPrisma(address depostiToken, uint256 amount) public onlyManager {

221:     function harvestRewards(address[] calldata gauges) public onlyManager nonReentrant {

233:     function harvestPrismaRewards(address[] calldata pools) public onlyManager nonReentrant {

247:     function harvestConvexRewards(address[] calldata rewardsPools) public onlyManager nonReentrant {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L68), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L81), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L103), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L182), [192](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L192), [202](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L202), [212](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L212), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L221), [233](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L233), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L247)]


```solidity
File: ./contracts/connectors/Dolomite.sol

30:     function deposit(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

43:     function withdraw(uint256 marketId, uint256 _amount) public onlyManager nonReentrant {

98:     function closeBorrowPosition(uint256[] memory marketIds, uint256 accountId) public onlyManager nonReentrant {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L30), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L43), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L98)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

68:     function withdraw(IFraxPair pool, uint256 withdrawAmount) public onlyManager nonReentrant {

87:     function repay(IFraxPair pool, uint256 sharesToRepay) public onlyManager nonReentrant {

```
*Github:* [[68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L68), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L87)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

24:     function openAccount(address facade, uint256 ref) public onlyManager {

41:     function closeAccount(address facade, address creditAccount) public onlyManager nonReentrant {

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L24), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L41)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

37:     function deposit(uint256 amountIn) external onlyManager nonReentrant {

51:     function requestWithdrawals(uint256 amount) public onlyManager nonReentrant {

69:     function claimWithdrawal(uint256 requestId) public onlyManager nonReentrant {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L51), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L69)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

64:     function stake(uint256 amount, uint256 duration, bool doDelegation) external onlyManager nonReentrant {

78:     function unstake(uint256 lockupId) external onlyManager nonReentrant {

91:     function addLiquidityInMaverickPool(MavericAddLiquidityParams calldata p) external onlyManager nonReentrant {

137:     function claimBoostedPositionRewards(IMaverickReward rewardContract) external onlyManager nonReentrant {

```
*Github:* [[64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L64), [78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L78), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L91), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L137)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

35:     function supply(uint256 amount, Id id, bool sOrC) external onlyManager nonReentrant {

58:     function withdraw(uint256 amount, Id id, bool sOrC) external onlyManager nonReentrant {

80:     function borrow(uint256 amount, Id id) external onlyManager nonReentrant {

95:     function repay(uint256 amount, Id id) public onlyManager nonReentrant {

```
*Github:* [[35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L35), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L58), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L80), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L95)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

31:     function sendPositionToMasterChef(uint256 tokenId) external onlyManager nonReentrant {

40:     function updatePosition(uint256 tokenId) public onlyManager nonReentrant {

50:     function withdraw(uint256 tokenId) public onlyManager nonReentrant {

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L31), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L40), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L50)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

78:     function supply(address market, uint256 amount) external onlyManager nonReentrant {

97:     function mintPTAndYT(address market, uint256 syAmount) external onlyManager nonReentrant {

112:     function depositIntoMarket(IPMarket market, uint256 SYamount, uint256 PTamount) external onlyManager nonReentrant {

126:     function depositIntoPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

137:     function withdrawFromPenpie(address _market, uint256 _amount) public onlyManager nonReentrant {

203:     function burnLP(IPMarket market, uint256 amount) external onlyManager nonReentrant {

216:     function decreasePosition(IPMarket market, uint256 _amount, bool closePosition) external onlyManager nonReentrant {

241:     function claimRewards(IPMarket market) external onlyManager nonReentrant {

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L78), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L97), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L112), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L126), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L137), [203](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L203), [216](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L216), [241](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L241)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

33:     function approveZap(IStakeNTroveZap zap, address tm, bool approve) public onlyManager nonReentrant {

75:     function addColl(IStakeNTroveZap zapContract, address tm, uint256 amountIn) public onlyManager nonReentrant {

129:     function closeTrove(IStakeNTroveZap zapContract, address troveManager) public onlyManager nonReentrant {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L33), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L75), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L129)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

25:     function createAccount() public onlyManager {

30:     function deposit(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

46:     function withdraw(address _token, uint256 _amount, uint128 _accountId) public onlyManager {

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L25), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L30), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L46)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

33:     function deposit(address siloToken, address dToken, uint256 amount, bool oC) external onlyManager nonReentrant {

85:     function borrow(address siloToken, address bToken, uint256 amount) external onlyManager nonReentrant {

98:     function repay(address siloToken, address rToken, uint256 amount) external onlyManager nonReentrant {

```
*Github:* [[33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L33), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L85), [98](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L98)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

49:     function depositIntoStargatePool(StargateRequest calldata depositRequest) external onlyManager nonReentrant {

76:     function withdrawFromStargatePool(StargateRequest calldata withdrawRequest) external onlyManager nonReentrant {

103:     function claimStargateRewards(uint256 poolId) external onlyManager nonReentrant {

```
*Github:* [[49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L49), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L76), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L103)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

40:     function openPosition(MintParams memory p) external onlyManager nonReentrant returns (uint256 tokenId) {

63:     function decreasePosition(DecreaseLiquidityParams memory p) external onlyManager nonReentrant {

87:     function increasePosition(IncreaseLiquidityParams memory p) external onlyManager nonReentrant {

101:     function collectAllFees(uint256[] memory tokenIds) public onlyManager nonReentrant {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L40), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L63), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L87), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L101)]


```solidity
File: ./contracts/governance/Keepers.sol

42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {

63:     function setThreshold(uint8 _threshold) public onlyOwner {

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L63)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

45:     function updateMinimumHealthFactor(uint256 _minimumHealthFactor) external onlyMaintainer {

58:     function updateSwapHandler(address payable _swapHandler) external onlyMaintainer {

67:     function updateValueOracle(address _valueOracle) external onlyMaintainer {

153:     function updateTokenInRegistry(address token) public onlyManager {

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L45), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L58), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L67), [153](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L153)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

40:     function setChainInfo(uint256 chainId, uint32 lzChainId, address lzHelperAddress) public onlyOwner {

52:     function addVaultInfo(uint256 vaultId, uint256 baseChainId, address omniChainManager) public onlyOwner {

```
*Github:* [[40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L40), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L52)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

36:     function updateMessageSetting(bytes memory _messageSetting) public onlyOwner {

51:     function setChainInfo(uint256 chainId, uint32 lzChainId, address lzHelperAddress) public onlyOwner {

63:     function addVaultInfo(uint256 vaultId, uint256 baseChainId, address omniChainManager) public onlyOwner {

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L36), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L51), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L63)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

46:     function updateChainInfo(uint256 chainId, address destinationAddress) external onlyMaintainer {

57:     function updateBridgeTransactionApproval(bytes32 transactionHash) public onlyManager {

68:     function startBridgeTransaction(BridgeRequest memory bridgeRequest) public onlyManager nonReentrant {

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L46), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L57), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L68)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol

28:     function updateTVLInfo() external onlyManager {

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerNormalChain.sol#L28)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

48:     function setValueOracle(address _valueOracle) external onlyMaintainerOrEmergency {

57:     function setGeneralSlippageTolerance(uint256 _slippageTolerance) external onlyMaintainerOrEmergency {

80:     function addEligibleUser(address _user) external onlyMaintainerOrEmergency {

147:     function addRoutes(RouteData[] memory _routes) public onlyMaintainer {

158:     function setEnableRoute(uint256 _routeId, bool enable) external onlyMaintainerOrEmergency {

164:     function verifyRoute(uint256 _routeId, address addr) external view onlyExistingRoute(_routeId) {

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L48), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L57), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L80), [147](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L147), [158](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L158), [164](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L164)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

45:     function addHandler(address _handler, bool state) external onlyOwner {

55:     function addChain(uint256 _chainId, bool state) external onlyOwner {

65:     function addBridgeBlacklist(string memory bridgeName, bool state) external onlyOwner {

193:     function rescueFunds(address token, address userAddress, uint256 amount) external onlyOwner {

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L45), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L55), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L65), [193](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L193)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {

```
*Github:* [[61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

56:     function updateChainlinkPriceAgeThreshold(uint256 _chainlinkPriceAgeThreshold) external onlyMaintainer {

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L56)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

38:     function setPeriod(uint32 _period) external onlyMaintainer {

48:     function addPool(address tokenIn, address baseToken, uint24 fee) external onlyMaintainer {

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L38), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L48)]


</details>


<a name="GAS-58"></a> 
### [GAS-58] `++i` costs less gas than `i++`, especially when it's used in `for`-loops (`--i`/`i--` too)
*Saves 5 gas per loop*

<details>
<summary>
There are <b>38</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

551:         for (uint256 i = 0; i < retrieveData.length; i++) {

603:             for (uint256 i = 0; i < items.length; i++) {

608:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[551](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L551), [603](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L603), [608](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L608)]


```solidity
File: ./contracts/accountingManager/Registry.sol

138:         for (uint256 i = 0; i < _trustedTokens.length; i++) {

194:         for (uint256 i = 0; i < _connectorAddresses.length; i++) {

214:         for (uint256 i = 0; i < _tokens.length; i++) {

253:             for (uint256 i = 0; i < usingTokens.length; i++) {

274:         for (uint256 i = 0; i < length; i++) {

```
*Github:* [[138](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L138), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L194), [214](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L214), [253](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L253), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L274)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

54:         for (uint256 i = 0; i < rewardsPools.length; i++) {

77:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L54), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L77)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

74:             for (uint256 i = 0; i < tokens.length; i++) {

79:             for (uint256 i = 0; i < destinationConnector.length; i++) {

84:             for (uint256 i = 0; i < tokens.length; i++) {

89:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L84), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L89)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

222:         for (uint256 i = 0; i < gauges.length; i++) {

234:         for (uint256 i = 0; i < pools.length; i++) {

248:         for (uint256 i = 0; i < rewardsPools.length; i++) {

```
*Github:* [[222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L222), [234](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L234), [248](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L248)]


```solidity
File: ./contracts/connectors/Dolomite.sol

113:         for (uint256 i = 0; i < markets.length; i++) {

```
*Github:* [[113](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L113)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

69:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L69)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

140:         for (uint256 i = 0; i < earnedInfo.length; i++) {

```
*Github:* [[140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L140)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

244:         for (uint256 i = 0; i < rewardTokens.length; i++) {

```
*Github:* [[244](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L244)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

116:         for (uint256 i = 0; i < assets.length; i++) {

132:         for (uint256 i = 0; i < assetsS.length; i++) {

```
*Github:* [[116](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L116), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L132)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

102:         for (uint256 i = 0; i < tokenIds.length; i++) {

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L102)]


```solidity
File: ./contracts/governance/Keepers.sol

29:         for (uint256 i = 0; i < _owners.length; i++) {

44:         for (uint256 i = 0; i < _owners.length; i++) {

```
*Github:* [[29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L29), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L44)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

178:         for (uint256 i = 0; i < tokens.length; i++) {

189:         for (uint256 i = 0; i < tokens.length; i++) {

211:         for (uint256 i = 0; i < tokensIn.length; i++) {

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L189), [211](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L211)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

41:         for (uint256 i = 0; i < tokens.length; i++) {

46:         for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L46)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

37:         for (uint256 i = 0; i < usersAddresses.length; i++) {

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L37)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

18:         for (uint256 i = 0; i < positions.length; i++) {

44:         for (uint256 i = 0; i < positions.length; i++) {

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L18), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L44)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

41:         for (uint256 i = 0; i < baseCurrencies.length; i++) {

55:         for (uint256 i = 0; i < oracle.length; i++) {

88:         for (uint256 i = 0; i < sources.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L41), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L55), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L88)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

74:         for (uint256 i = 0; i < assets.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L74)]


</details>


<a name="GAS-59"></a> 
### [GAS-59] Using `private` rather than `public` for constants, saves gas
If needed, the values can be read from the verified contract source code, or if there are multiple values there can be a single getter function that [returns a tuple](https://github.com/code-423n4/2022-08-frax/blob/90f55a9ce4e25bceed3a74290b854341d8de6afa/src/contracts/FraxlendPair.sol#L156-L178) of the values of all currently-public constants. Saves **3406-3606 gas** in deployment gas due to the compiler not having to create non-payable getter functions for deployment calldata, not having to store the bytes of the value outside of where it's used, and not adding another entry to the method ID table

<details>
<summary>
There are <b>29</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

52:     uint256 public constant FEE_PRECISION = 1e6;

53:     uint256 public constant WITHDRAWAL_MAX_FEE = 5e4;

54:     uint256 public constant MANAGEMENT_MAX_FEE = 5e5;

55:     uint256 public constant PERFORMANCE_MAX_FEE = 1e5;

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L53), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L54), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L55)]


```solidity
File: ./contracts/accountingManager/Registry.sol

15:     bytes32 public constant MAINTAINER_ROLE = keccak256("MAINTAINER_ROLE");

17:     bytes32 public constant GOVERNER_ROLE = keccak256("GOVERNER_ROLE");

19:     bytes32 public constant EMERGENCY_ROLE = keccak256("EMERGENCY_ROLE");

21:     uint256 public constant MAX_NUM_HOLDING_POSITIONS = 40;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L15), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L17), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L19), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L21)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

24:     uint256 public constant AAVE_POSITION_ID = 1;

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L24)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

31:     uint256 public constant AERODROME_POSITION_TYPE = 1;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L31)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

34:     uint256 public constant CAMELOT_POSITION_ID = 1;

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L34)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

31:     uint256 public constant CURVE_LP_POSITION = 4;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L31)]


```solidity
File: ./contracts/connectors/Dolomite.sol

16:     uint256 public constant DOL_POSITION_ID = 1;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L16)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

9:     uint256 public constant GEARBOX_POSITION_ID = 3;

```
*Github:* [[9](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L9)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

15:     uint256 public constant MORPHO_POSITION_ID = 1;

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L15)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

26:     uint256 public constant PENDLE_POSITION_ID = 11;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L26)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

14:     uint256 public constant PRISMA_POSITION_ID = 10;

```
*Github:* [[14](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L14)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

16:     uint256 public constant SNX_POSITION_ID = 1;

17:     uint256 public constant SNX_POOL_POSITION_ID = 2;

```
*Github:* [[16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L17)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

10:     uint256 public constant SILO_LP_ID = 11;

```
*Github:* [[10](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L10)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

26:     uint256 public constant STARGATE_LP_POSITION_TYPE = 1;

```
*Github:* [[26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L26)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

19:     uint256 public constant UNI_LP_POSITION_TYPE = 5;

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L19)]


```solidity
File: ./contracts/governance/Keepers.sol

11:     bytes32 public constant TXTYPE_HASH = keccak256(

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L11)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

20:     uint256 public constant positionType = 1;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L20)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

19:     uint256 public constant BRIDGE_TXN_WAITING_TIME = 30 minutes;

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L19)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

11:     uint256 public constant OMNICHAIN_POSITION_ID = 13;

```
*Github:* [[11](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L11)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

18:     bytes4 public constant LI_FI_GENERIC_SWAP_SELECTOR = 0x4630a0d8;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L18)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

25:     address public constant ETH = address(0);

26:     address public constant USD = address(840);

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L26)]


</details>


<a name="GAS-60"></a> 
### [GAS-60] Splitting require() statements that use && saves gas

*There are <b>7</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

361:         require(currentWithdrawGroup.isStarted == false && currentWithdrawGroup.isFullfilled == false);

371:         require(currentWithdrawGroup.isStarted == true && currentWithdrawGroup.isFullfilled == false);

```
*Github:* [[361](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L361), [371](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L371)]


```solidity
File: ./contracts/governance/Keepers.sol

28:         require(_owners.length <= 10 && _threshold <= _owners.length && _threshold > 1);

53:         require(numOwnersTemp <= 10 && threshold <= numOwnersTemp && threshold > 1);

64:         require(_threshold <= numOwners && _threshold > 1);

96:         require(sigR.length == sigS.length && sigR.length == sigV.length, "Lengths do not match");

106:                 require(recovered > lastAdd && isOwner[recovered]);

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L28), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L64), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L96), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L106)]



<a name="GAS-61"></a> 
### [GAS-61] Use assembly to check for `address(0)`
Saves 6 gas per instance.

<details>
<summary>
There are <b>95</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

106:         require(p._baseTokenAddress != address(0));

107:         require(p._valueOracle != address(0));

108:         require(p._withdrawFeeReceiver != address(0));

109:         require(p._performanceFeeReceiver != address(0));

110:         require(p._managementFeeReceiver != address(0));

125:         require(address(_valueOracle) != address(0));

140:         require(_withdrawFeeReceiver != address(0));

141:         require(_performanceFeeReceiver != address(0));

142:         require(_managementFeeReceiver != address(0));

186:         if (!(from == address(0)) && balanceOf(from) < amount + withdrawRequestsByAddress[from]) {

684:         if (token == address(0)) {

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L106), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L107), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L108), [109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L109), [110](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L110), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L125), [140](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L140), [141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L141), [142](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L142), [186](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L186), [684](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L684)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

15:         require(_accountingManager != address(0));

16:         require(_baseToken != address(0));

17:         require(_receiver != address(0));

```
*Github:* [[15](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L15), [16](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L16), [17](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L17)]


```solidity
File: ./contracts/accountingManager/Registry.sol

54:         if (vaults[_vaultId].accountManager == address(0)) revert NotExist();

67:         require(_governer != address(0));

68:         require(_maintainer != address(0));

69:         require(_emergency != address(0));

118:         if (vaults[vaultId].accountManager != address(0)) revert AlreadyExists();

120:         require(_governer != address(0));

121:         require(_accountingManager != address(0));

122:         require(_baseToken != address(0));

123:         require(_maintainer != address(0));

124:         require(_keeperContract != address(0));

125:         require(_watcher != address(0));

167:         require(_governer != address(0));

168:         require(_maintainer != address(0));

169:         require(_keeperContract != address(0));

170:         require(_watcher != address(0));

```
*Github:* [[54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L54), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L67), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L68), [69](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L69), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L118), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L120), [121](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L121), [122](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L122), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L123), [124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L124), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L125), [167](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L167), [168](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L168), [169](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L169), [170](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L170)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

36:         require(_pool != address(0));

37:         require(_poolBaseToken != address(0));

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L37)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

43:         require(_router != address(0));

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L43)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

45:         require(_balancerVault != address(0));

46:         require(bal != address(0));

47:         require(aura != address(0));

177:         if (pool.auraPoolAddress != address(0)) {

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L45), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L46), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L47), [177](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L177)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

25:         require(_balancerVault != address(0));

26:         require(address(_registry) != address(0));

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L26)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

37:         require(_router != address(0));

38:         require(_factory != address(0));

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L37), [38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L38)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

52:         require(_convexBooster != address(0));

53:         require(cvx != address(0));

54:         require(crv != address(0));

55:         require(prisma != address(0));

126:         address poolAddress = (poolInfo.tokens.length > 2 && poolInfo.zap != address(0)) ? poolInfo.zap : pool;

283:         if (info.poolAddressIfDefaultWithdrawTokenIsAnotherPosition != address(0)) {

326:         if (info.convexRewardPool == address(0)) return 0;

345:         if (info.gauge == address(0)) return 0;

355:         if (prismaPool == address(0)) return 0;

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L53), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L54), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L55), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L126), [283](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L283), [326](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L326), [345](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L345), [355](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L355)]


```solidity
File: ./contracts/connectors/Dolomite.sol

24:         require(_depositWithdrawalProxy != address(0));

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L24)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

78:         if (approvalToken != address(0)) {

82:         if (approvalToken != address(0)) {

```
*Github:* [[78](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L78), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L82)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

23:         require(_lido != address(0));

24:         require(_lidoW != address(0));

25:         require(_steth != address(0));

26:         require(w != address(0));

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L24), [25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L26)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

46:         require(_mav != address(0));

47:         require(_veMav != address(0));

48:         require(mr != address(0));

49:         require(pi != address(0));

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L46), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L47), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L48), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L49)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

24:         require(MB != address(0));

```
*Github:* [[24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L24)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

22:         require(MC != address(0));

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L22)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

60:         require(_pendleMarketDepositHelper != address(0));

61:         require(_pendleRouter != address(0));

62:         require(SR != address(0));

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L60), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L61), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L62)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

21:         require(_SNXCoreProxy != address(0));

```
*Github:* [[21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L21)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

18:         require(SR != address(0));

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L18)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

36:         require(lpStacking != address(0));

37:         require(_stargateRouter != address(0));

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L36), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L37)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

22:         require(address(_registry) != address(0));

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L22)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

41:         require(lzHelperAddress != address(0));

53:         require(omniChainManager != address(0));

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L41), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L53)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

52:         require(lzHelperAddress != address(0));

```
*Github:* [[52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L52)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

37:         require(_lzHelper != address(0));

47:         require(destinationAddress != address(0));

76:             destChainAddress[bridgeRequest.destChainId] == address(0)

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L37), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L47), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L76)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

30:         if (routes[_routeId].route == address(0) && !routes[_routeId].isEnabled) revert RouteNotFound();

41:         require(_valueOracle != address(0));

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L30), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L41)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

86:         if (_request.outputToken == address(0)) {

93:         if (_request.outputToken == address(0)) {

190:         return address(token) == address(0);

194:         if (token == address(0)) {

```
*Github:* [[86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L86), [93](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L93), [190](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L190), [194](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L194)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

19:             if (positions[i].calculatorConnector == address(0)) {

```
*Github:* [[19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L19)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

30:         require(address(_registry) != address(0));

97:         if (address(oracle) == address(0)) {

100:         if (address(oracle) == address(0)) {

103:         if (address(oracle) == address(0)) {

106:         if (address(oracle) == address(0)) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L30), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L97), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L100), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L103), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L106)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

47:         require(_reg != address(0));

95:         if (primarySource == address(0)) {

144:         if (assetsSources[asset][baseToken] != address(0)) {

146:         } else if (assetsSources[baseToken][asset] != address(0)) {

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L47), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L95), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L144), [146](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L146)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

50:         require(pool != address(0), "pool doesn't exist");

63:         if (pool == address(0)) {

66:         if (pool == address(0)) revert INoyaOracle_ValueOracleUnavailable(tokenIn, baseToken);

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L50), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L63), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L66)]


</details>


<a name="GAS-62"></a> 
### [GAS-62] Use `Array.unsafeAccess()` to avoid repeated array length checks
When using storage arrays, solidity adds an internal lookup of the array's length (a Gcoldsload 2100 gas) to ensure you don't read past the array's end. You can avoid this lookup by using [`Array.unsafeAccess()`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/94697be8a3f0dfcd95dfb13ffbd39b5973f5c65d/contracts/utils/Arrays.sol#L57) in cases where the length has already been checked, as is the case with the instances below

*There are <b>7</b> instances of this issue:*
```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

30:         if (routes[_routeId].route == address(0) && !routes[_routeId].isEnabled) revert RouteNotFound();

99:         RouteData memory swapImplInfo = routes[_swapRequest.routeId];

133:         RouteData memory bridgeImplInfo = routes[_bridgeRequest.routeId];

148:         for (uint256 i = 0; i < _routes.length;) {

149:             routes.push(_routes[i]);

159:         routes[_routeId].isEnabled = enable;

165:         if (routes[_routeId].route != addr) {

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L30), [99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L99), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L133), [148](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L148), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L149), [159](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L159), [165](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L165)]



<a name="GAS-63"></a> 
### [GAS-63] Avoid updating storage when the value hasn't changed
In Ethereum, updating storage is costly in terms of gas. Therefore, it's beneficial to avoid redundant updates, particularly when the value being written is identical to the existing one. A comparison check before updating can prevent unnecessary operations, thus saving gas. The resolution could involve implementing a conditional check in your function to verify if the new value differs from the current one. If it's the same, the function could simply return without proceeding to the costly storage update. This simple adjustment in your code can lead to significant gas savings in scenarios where redundant updates might occur frequently.

<details>
<summary>
There are <b>159</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

99:         baseToken = IERC20(p._baseTokenAddress);

100:         valueOracle = INoyaValueOracle(p._valueOracle);

101:         lastFeeDistributionTime = block.timestamp;

102:         withdrawFeeReceiver = p._withdrawFeeReceiver;

103:         performanceFeeReceiver = p._performanceFeeReceiver;

104:         managementFeeReceiver = p._managementFeeReceiver;

118:         withdrawFee = p._withdrawFee;

119:         performanceFee = p._performanceFee;

120:         managementFee = p._managementFee;

126:         valueOracle = _valueOracle;

143:         withdrawFeeReceiver = _withdrawFeeReceiver;

144:         performanceFeeReceiver = _performanceFeeReceiver;

145:         managementFeeReceiver = _managementFeeReceiver;

177:         withdrawFee = _withdrawFee;

178:         performanceFee = _performanceFee;

179:         managementFee = _managementFee;

217:         depositQueue.last += 1;

218:         depositQueue.totalAWFDeposit += amount;

249:         depositQueue.middle = middleTemp;

284:         depositQueue.totalAWFDeposit -= processedBaseTokenAmount;

286:         totalDepositedAmount += processedBaseTokenAmount;

298:         depositQueue.first = firstTemp;

310:         withdrawRequestsByAddress[msg.sender] += share;

315:         withdrawQueue.last += 1;

353:         currentWithdrawGroup.totalCBAmount += assetsNeededForWithdraw;

354:         withdrawQueue.middle = middleTemp;

362:         currentWithdrawGroup.isStarted = true;

363:         currentWithdrawGroup.lastId = withdrawQueue.middle;

377:         currentWithdrawGroup.isFullfilled = true;

378:         amountAskedForWithdraw = 0;

381:             currentWithdrawGroup.totalABAmount = currentWithdrawGroup.totalCBAmount;

383:             currentWithdrawGroup.totalABAmount = availableAssets;

385:         currentWithdrawGroup.totalCBAmountFullfilled = currentWithdrawGroup.totalCBAmount;

386:         currentWithdrawGroup.totalCBAmount = 0;

418:             withdrawRequestsByAddress[data.owner] -= shares;

436:         totalWithdrawnAmount += processedBaseTokenAmount;

441:         withdrawQueue.first = firstTemp;

460:             depositQueue.middle = newMiddle;

467:             withdrawQueue.middle = newMiddle;

476:         storedProfitForFee = getProfit();

477:         profitStoredTime = block.timestamp;

483:         preformanceFeeSharesWaitingForDistribution =

497:             preformanceFeeSharesWaitingForDistribution = 0;

498:             profitStoredTime = 0;

521:         lastFeeDistributionTime = block.timestamp;

536:         totalProfitCalculated = storedProfitForFee;

540:         preformanceFeeSharesWaitingForDistribution = 0;

569:         amountAskedForWithdraw += amountAskedForWithdraw_temp;

668:         depositLimitPerTransaction = _depositLimitPerTransaction;

669:         depositLimitTotalAmount = _depositTotalAmount;

674:         depositWaitingTime = _depositWaitingTime;

679:         withdrawWaitingTime = _withdrawWaitingTime;

```
*Github:* [[99](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L99), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L100), [101](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L101), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L102), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L103), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L104), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L118), [119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L119), [120](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L120), [126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L126), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L143), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L144), [145](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L145), [177](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L177), [178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L178), [179](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L179), [217](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L217), [218](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L218), [249](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L249), [284](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L284), [286](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L286), [298](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L298), [310](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L310), [315](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L315), [353](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L353), [354](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L354), [362](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L362), [363](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L363), [377](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L377), [378](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L378), [381](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L381), [383](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L383), [385](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L385), [386](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L386), [418](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L418), [436](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L436), [441](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L441), [460](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L460), [467](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L467), [476](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L476), [477](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L477), [483](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L483), [497](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L497), [498](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L498), [521](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L521), [536](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L536), [540](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L540), [569](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L569), [668](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L668), [669](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L669), [674](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L674), [679](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L679)]


```solidity
File: ./contracts/accountingManager/NoyaFeeReceiver.sol

18:         accountingManager = _accountingManager;

19:         baseToken = _baseToken;

20:         receiver = _receiver;

```
*Github:* [[18](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L18), [19](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L19), [20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/NoyaFeeReceiver.sol#L20)]


```solidity
File: ./contracts/accountingManager/Registry.sol

76:         flashLoan = _flashLoan;

81:         maxNumHoldingPositions = _maxNumHoldingPositions;

86:         flashLoan = _flashLoan;

127:         vault.accountManager = _accountingManager;

128:         vault.baseToken = _baseToken;

129:         vault.governer = _governer;

130:         vault.maintainer = _maintainer;

131:         vault.maintainerWithoutTimeLock = _maintainerWithoutTimelock;

132:         vault.keeperContract = _keeperContract;

133:         vault.watcherContract = _watcher;

134:         vault.emergency = _emergency;

137:         vault.enabled = true;

```
*Github:* [[76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L76), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L81), [86](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L86), [127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L127), [128](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L128), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L129), [130](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L130), [131](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L131), [132](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L132), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L133), [134](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L134), [137](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L137)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

38:         poolBaseToken = _poolBaseToken;

39:         pool = _pool;

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L39)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

44:         aerodromeRouter = IRouter(_router);

45:         voter = IVoter(_voter);

```
*Github:* [[44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L44), [45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L45)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

48:         AURA = aura;

49:         BAL = bal;

50:         balancerVault = _balancerVault;

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L48), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L49), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L50)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

27:         vault = IBalancerVault(_balancerVault);

28:         registry = _registry;

41:         caller = msg.sender;

44:         caller = address(0);

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L28), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L41), [44](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L44)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

39:         router = ICamelotRouter(_router);

40:         factory = ICamelotFactory(_factory);

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L40)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

56:         convexBooster = IBooster(_convexBooster);

57:         CVX = cvx;

58:         CRV = crv;

59:         PRISMA = prisma;

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L56), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L57), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L58), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L59)]


```solidity
File: ./contracts/connectors/Dolomite.sol

25:         depositWithdrawalProxy = IDepositWithdrawalProxy(_depositWithdrawalProxy);

26:         dolomiteMargin = IDolomiteMargin(_dolomiteMargin);

27:         borrowPositionProxy = IBorrowPositionProxyV1(_borrowPositionProxy);

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L25), [26](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L26), [27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L27)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

27:         lido = _lido;

28:         lidoWithdrawal = _lidoW;

29:         steth = _steth;

30:         weth = w;

```
*Github:* [[27](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L27), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L29), [30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L30)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

50:         mav = _mav;

51:         veMav = _veMav;

52:         maverickRouter = mr;

53:         positionInspector = IPositionInspector(pi);

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L50), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L51), [52](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L52), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L53)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

25:         morphoBlue = IMorpho(MB);

```
*Github:* [[25](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L25)]


```solidity
File: ./contracts/connectors/PancakeswapConnector.sol

23:         masterchef = IMasterchefV3(MC);

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PancakeswapConnector.sol#L23)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

63:         pendleMarketDepositHelper = IPendleMarketDepositHelper(_pendleMarketDepositHelper);

64:         pendleRouter = IPAllActionV3(_pendleRouter);

65:         staticRouter = IPendleStaticRouter(SR);

```
*Github:* [[63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L63), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L64), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L65)]


```solidity
File: ./contracts/connectors/SNXConnector.sol

22:         SNXCoreProxy = IV3CoreProxy(_SNXCoreProxy);

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SNXConnector.sol#L22)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

20:         siloRepository = ISiloRepository(SR);

21:         MINIMUM_HEALTH_FACTOR = 5e17;

23:         minimumHealthFactor = MINIMUM_HEALTH_FACTOR;

```
*Github:* [[20](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L20), [21](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L21), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L23)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

39:         LPStaking = IStargateLPStaking(lpStacking);

40:         stargateRouter = IStargateRouter(_stargateRouter);

41:         rewardToken = LPStaking.stargate();

```
*Github:* [[39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L39), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L40), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L41)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

30:         positionManager = INonfungiblePositionManager(_positionManager);

31:         factory = IUniswapV3Factory(_factory);

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L30), [31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L31)]


```solidity
File: ./contracts/governance/Keepers.sol

30:             isOwner[_owners[i]] = true;

32:         numOwners = _owners.length;

33:         threshold = _threshold;

46:                 isOwner[_owners[i]] = true;

49:                 isOwner[_owners[i]] = false;

54:         numOwners = numOwnersTemp;

65:         threshold = _threshold;

```
*Github:* [[30](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L30), [32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L32), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L33), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L46), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L49), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L54), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L65)]


```solidity
File: ./contracts/governance/NoyaGovernanceBase.sol

23:         registry = _registry;

24:         vaultId = _vaultId;

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/NoyaGovernanceBase.sol#L24)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

34:         swapHandler = params.swapHandler;

35:         valueOracle = params.valueOracle;

36:         minimumHealthFactor = MINIMUM_HEALTH_FACTOR;

49:         minimumHealthFactor = _minimumHealthFactor;

59:         swapHandler = SwapAndBridgeHandler(_swapHandler);

68:         valueOracle = INoyaValueOracle(_valueOracle);

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L34), [35](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L35), [36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L36), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L49), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L59), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L68)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

23:         registry = PositionRegistry(_registry);

24:         vaultId = _vaultId;

```
*Github:* [[23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L23), [24](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L24)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperReceiver.sol

42:         chainInfo[lzChainId] = ChainInfo(chainId, lzHelperAddress);

54:         vaultIdToVaultInfo[vaultId] = VaultInfo(baseChainId, omniChainManager);

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L42), [54](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperReceiver.sol#L54)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

37:         messageSetting = _messageSetting;

53:         chainInfo[chainId] = ChainInfo(lzChainId, lzHelperAddress);

64:         vaultIdToVaultInfo[vaultId] = VaultInfo(baseChainId, omniChainManager);

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L37), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L53), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L64)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

36:         lzHelper = _lzHelper;

48:         destChainAddress[chainId] = destinationAddress;

59:         else approvedBridgeTXN[transactionHash] = block.timestamp;

81:         approvedBridgeTXN[txn] = 0;

```
*Github:* [[36](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L36), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L48), [59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L59), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L81)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol

22:         DUST_LEVEL = dl;

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainManagerBaseChain.sol#L22)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

38:             isEligibleToUse[usersAddresses[i]] = true;

40:         valueOracle = INoyaValueOracle(_valueOracle);

49:         valueOracle = INoyaValueOracle(_valueOracle);

58:         genericSlippageTolerance = _slippageTolerance;

72:         slippageTolerance[_inputToken][_outputToken] = _slippageTolerance;

81:         isEligibleToUse[_user] = true;

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L38), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L40), [49](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L49), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L58), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L72), [81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L81)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

28:         isHandler[swapHandler] = true;

29:         lifi = _lifi;

46:         isHandler[_handler] = state;

56:         isChainSupported[_chainId] = state;

66:         isBridgeWhiteListed[bridgeName] = state;

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L28), [29](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L29), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L46), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L56), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L66)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

31:         registry = _registry;

42:             defaultPriceSource[baseCurrencies[i]] = oracles[i];

56:             priceSource[asset[i]][baseToken[i]] = INoyaValueOracle(oracle[i]);

62:         priceRoutes[asset][base] = s;

```
*Github:* [[31](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L31), [42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L42), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L56), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L62)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

48:         registry = PositionRegistry(_reg);

60:         chainlinkPriceAgeThreshold = _chainlinkPriceAgeThreshold;

75:             assetsSources[assets[i]][baseTokens[i]] = sources[i];

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L48), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L60), [75](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L75)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

32:         factory = _factory;

33:         registry = _registry;

40:         period = _period;

51:         assetToBaseToPool[tokenIn][baseToken] = pool;

64:             pool = assetToBaseToPool[baseToken][tokenIn];

```
*Github:* [[32](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L32), [33](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L33), [40](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L40), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L51), [64](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L64)]


</details>


<a name="GAS-64"></a> 
### [GAS-64] Cache address(this) when used more than once

<details>
<summary>
There are <b>62</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `address(this)` is used more than once in this function
559:             uint256 balanceAfter = baseToken.balanceOf(address(this));

```
*Github:* [[559](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L559)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `address(this)` is used more than once in this function
50:             vaultId, registry.calculatePositionId(address(this), AAVE_POSITION_ID, ""), "", "", false

/// @audit `address(this)` is used more than once in this function
50:             vaultId, registry.calculatePositionId(address(this), AAVE_POSITION_ID, ""), "", "", false

/// @audit `address(this)` is used more than once in this function
72:         (,,,,, uint256 healthFactor) = IPool(pool).getUserAccountData(address(this));

/// @audit `address(this)` is used more than once in this function
108:                 vaultId, registry.calculatePositionId(address(this), AAVE_POSITION_ID, ""), "", "", true

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L50), [50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L50), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L72), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L108)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit `address(this)` is used more than once in this function
65:             address(this),

/// @audit `address(this)` is used more than once in this function
65:             address(this),

/// @audit `address(this)` is used more than once in this function
92:         if (IERC20(data.pool).balanceOf(address(this)) == 0) {

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L65), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L92)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `address(this)` is used more than once in this function
104:             IRewardPool(_poolInfo.auraPoolAddress).deposit(auraAmount, address(this));

/// @audit `address(this)` is used more than once in this function
149:                     registry.calculatePositionId(address(this), BALANCER_LP_POSITION, abi.encode(p.poolId)),

/// @audit `address(this)` is used more than once in this function
181:         return IERC20(pool.pool).balanceOf(address(this)) + auraShares;

/// @audit `address(this)` is used more than once in this function
181:         return IERC20(pool.pool).balanceOf(address(this)) + auraShares;

```
*Github:* [[104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L104), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L149), [181](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L181), [181](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L181)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `address(this)` is used more than once in this function
92:             require(tokens[i].balanceOf(address(this)) == 0, "BalancerFlashLoan: Flash loan extra tokens");

```
*Github:* [[92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L92)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit `address(this)` is used more than once in this function
53:             registry.calculatePositionId(address(this), CAMELOT_POSITION_ID, abi.encode(p.tokenA, p.tokenB)),

/// @audit `address(this)` is used more than once in this function
53:             registry.calculatePositionId(address(this), CAMELOT_POSITION_ID, abi.encode(p.tokenA, p.tokenB)),

/// @audit `address(this)` is used more than once in this function
80:                 registry.calculatePositionId(address(this), CAMELOT_POSITION_ID, abi.encode(p.tokenA, p.tokenB)),

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L53), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L53), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L80)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `address(this)` is used more than once in this function
34:             vaultId, registry.calculatePositionId(address(this), COMPOUND_LP, abi.encode(market)), "", "", false

/// @audit `address(this)` is used more than once in this function
34:             vaultId, registry.calculatePositionId(address(this), COMPOUND_LP, abi.encode(market)), "", "", false

/// @audit `address(this)` is used more than once in this function
55:                 vaultId, registry.calculatePositionId(address(this), COMPOUND_LP, abi.encode(_market)), "", "", true

/// @audit `address(this)` is used more than once in this function
112:                 (uint256 collateralBalance,) = comet.userCollateral(address(this), info.asset);

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L34), [34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L34), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L55), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L112)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit `address(this)` is used more than once in this function
53:                 vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(0), "", true

/// @audit `address(this)` is used more than once in this function
73:             vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(accountId), "", true

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L53), [73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L73)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `address(this)` is used more than once in this function
53:             pool.addCollateral(collateralAmount, address(this));

/// @audit `address(this)` is used more than once in this function
53:             pool.addCollateral(collateralAmount, address(this));

/// @audit `address(this)` is used more than once in this function
76:         pool.removeCollateral(withdrawAmount, address(this));

/// @audit `address(this)` is used more than once in this function
95:         IFraxPair(pool).repayAsset(sharesToRepay, address(this));

/// @audit `address(this)` is used more than once in this function
125:         uint256 _collateralAmount = _fraxlendPair.userCollateralBalance(address(this));

/// @audit `address(this)` is used more than once in this function
154:         uint256 borrowerShares = pool.userBorrowShares(address(this));

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L53), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L53), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L76), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L95), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L125), [154](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L154)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit `address(this)` is used more than once in this function
28:             registry.calculatePositionId(address(this), GEARBOX_POSITION_ID, abi.encode(facade)),

/// @audit `address(this)` is used more than once in this function
28:             registry.calculatePositionId(address(this), GEARBOX_POSITION_ID, abi.encode(facade)),

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L28), [28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L28)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `address(this)` is used more than once in this function
58:         bytes32 positionId = registry.calculatePositionId(address(this), LIDO_WITHDRAWAL_REQUEST_ID, "");

/// @audit `address(this)` is used more than once in this function
80:             registry.calculatePositionId(address(this), LIDO_WITHDRAWAL_REQUEST_ID, ""),

```
*Github:* [[58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L58), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L80)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `address(this)` is used more than once in this function
126:             vaultId, registry.calculatePositionId(address(this), MAVERICK_LP, abi.encode(p.pool)), "", "", true

/// @audit `address(this)` is used more than once in this function
143:                 rewardContract.getReward(address(this), tokenIndex);

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L126), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L143)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit `address(this)` is used more than once in this function
47:             vaultId, registry.calculatePositionId(address(this), MORPHO_POSITION_ID, abi.encode(id)), "", "", false

/// @audit `address(this)` is used more than once in this function
47:             vaultId, registry.calculatePositionId(address(this), MORPHO_POSITION_ID, abi.encode(id)), "", "", false

/// @audit `address(this)` is used more than once in this function
68:                 vaultId, registry.calculatePositionId(address(this), MORPHO_POSITION_ID, abi.encode(id)), "", "", true

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L47), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L47), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L68)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit `address(this)` is used more than once in this function
87:         bytes32 positionId = registry.calculatePositionId(address(this), PENDLE_POSITION_ID, abi.encode(market));

/// @audit `address(this)` is used more than once in this function
87:         bytes32 positionId = registry.calculatePositionId(address(this), PENDLE_POSITION_ID, abi.encode(market));

/// @audit `address(this)` is used more than once in this function
226:                 registry.calculatePositionId(address(this), PENDLE_POSITION_ID, abi.encode(market)),

/// @audit `address(this)` is used more than once in this function
277:             uint256 YTBalance = _YT.balanceOf(address(this));

/// @audit `address(this)` is used more than once in this function
307:                 && market.balanceOf(address(this)) == 0

```
*Github:* [[87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L87), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L87), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L226), [277](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L277), [307](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L307)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit `address(this)` is used more than once in this function
37:             if (!registry.isPositionTrustedForConnector(vaultId, positionId, address(this))) {

/// @audit `address(this)` is used more than once in this function
37:             if (!registry.isPositionTrustedForConnector(vaultId, positionId, address(this))) {

/// @audit `address(this)` is used more than once in this function
62:         zap.openTrove(tm, maxFee, dAmount, bAmount, address(this), address(this));

/// @audit `address(this)` is used more than once in this function
84:         zapContract.addColl(tm, amountIn, address(this), address(this));

/// @audit `address(this)` is used more than once in this function
117:         uint256 healthFactor = ITroveManager(tm).getNominalICR(address(this));

/// @audit `address(this)` is used more than once in this function
133:         borrowerOperations.closeTrove(troveManager, address(this));

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L37), [37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L37), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L62), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L84), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L117), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L133)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `address(this)` is used more than once in this function
65:         if (!SolvencyV2.isSolvent(silo, address(this), minimumHealthFactor)) {

/// @audit `address(this)` is used more than once in this function
119:             uint256 borrowAmount = IERC20(assetsS[i].debtToken).balanceOf(address(this));

/// @audit `address(this)` is used more than once in this function
135:                     + IERC20(assetsS[i].collateralOnlyToken).balanceOf(address(this)) > 0

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L65), [119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L119), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L135)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit `address(this)` is used more than once in this function
67:             registry.calculatePositionId(address(this), STARGATE_LP_POSITION_TYPE, abi.encode(depositRequest.poolId));

/// @audit `address(this)` is used more than once in this function
67:             registry.calculatePositionId(address(this), STARGATE_LP_POSITION_TYPE, abi.encode(depositRequest.poolId));

/// @audit `address(this)` is used more than once in this function
91:                 address(this), STARGATE_LP_POSITION_TYPE, abi.encode(withdrawRequest.poolId)

```
*Github:* [[67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L67), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L67), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L91)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `address(this)` is used more than once in this function
43:         p.recipient = address(this);

/// @audit `address(this)` is used more than once in this function
43:         p.recipient = address(this);

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L43), [43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L43)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `address(this)` is used more than once in this function
144:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

/// @audit `address(this)` is used more than once in this function
144:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

/// @audit `address(this)` is used more than once in this function
182:             uint256 _balanceAfter = IERC20(tokens[i]).balanceOf(address(this));

/// @audit `address(this)` is used more than once in this function
182:             uint256 _balanceAfter = IERC20(tokens[i]).balanceOf(address(this));

```
*Github:* [[144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L144), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L144), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L182), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L182)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `address(this)` is used more than once in this function
87:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

/// @audit `address(this)` is used more than once in this function
87:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

```
*Github:* [[87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L87), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L87)]


</details>


<a name="GAS-65"></a> 
### [GAS-65] Unnecessary casting as variable is already of the same type
Unnecessary casting of a variable to the same type is redundant and can contribute to gas inefficiency and code clutter. This situation commonly arises when developers, perhaps due to oversight or misunderstanding, explicitly cast a variable to its existing type. For example, casting a uint256 variable to uint256 again does not change its type or value but adds unnecessary operations to the code.

Resolution: Developers should scrutinize their code to identify and remove any unnecessary type casting. Utilizing linters or static analysis tools can aid in detecting such redundancies. Ensuring that the code is clean and efficient not only saves gas but also enhances readability and maintainability.

<details>
<summary>
There are <b>243</b> instances (click to show):
</summary>

```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit no need to cast `gauge` into address
102:         IERC20(pool).forceApprove(address(gauge), liquidity);

/// @audit no need to cast `gauge` into address
102:         IERC20(pool).forceApprove(address(gauge), liquidity);

/// @audit no need to cast `gauge` into address
102:         IERC20(pool).forceApprove(address(gauge), liquidity);

```
*Github:* [[102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L102), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L102), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L102)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit no need to cast `AURA` into address
58:         _updateTokenInRegistry(address(AURA));

```
*Github:* [[58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L58)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

/// @audit no need to cast `market` into address
65:         IRewards(rewardContract).claim(address(market), address(this), true);

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L65)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit no need to cast `pool` into address
47:             _approveOperations(address(token), address(pool), collateralAmount);

/// @audit no need to cast `pool` into address
47:             _approveOperations(address(token), address(pool), collateralAmount);

/// @audit no need to cast `pool` into address
47:             _approveOperations(address(token), address(pool), collateralAmount);

/// @audit no need to cast `pool` into address
47:             _approveOperations(address(token), address(pool), collateralAmount);

/// @audit no need to cast `pool` into address
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit no need to cast `pool` into address
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit no need to cast `pool` into address
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit no need to cast `pool` into address
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit no need to cast `pool` into address
79:         emit Withdraw(address(pool), withdrawAmount);

/// @audit no need to cast `pool` into address
79:         emit Withdraw(address(pool), withdrawAmount);

/// @audit no need to cast `pool` into address
79:         emit Withdraw(address(pool), withdrawAmount);

/// @audit no need to cast `pool` into address
79:         emit Withdraw(address(pool), withdrawAmount);

/// @audit no need to cast `pool` into address
94:         _approveOperations(asset, address(pool), repayTokenAmount);

/// @audit no need to cast `pool` into address
94:         _approveOperations(asset, address(pool), repayTokenAmount);

/// @audit no need to cast `pool` into address
94:         _approveOperations(asset, address(pool), repayTokenAmount);

/// @audit no need to cast `pool` into address
94:         _approveOperations(asset, address(pool), repayTokenAmount);

/// @audit no need to cast `pool` into address
97:         emit Repay(address(pool), sharesToRepay);

/// @audit no need to cast `pool` into address
97:         emit Repay(address(pool), sharesToRepay);

/// @audit no need to cast `pool` into address
97:         emit Repay(address(pool), sharesToRepay);

/// @audit no need to cast `pool` into address
97:         emit Repay(address(pool), sharesToRepay);

```
*Github:* [[47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L47), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L47), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L47), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L47), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L79), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L94), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L94), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L94), [94](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L94), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
114:         IERC20(address(_SY)).safeTransfer(address(market), SYamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
189:         IERC20(address(_PT)).safeTransfer(address(market), exactPTIn);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
205:         market.burn(address(this), address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
207:         emit BurnLP(address(market), amount);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
232:         emit DecreasePosition(address(market), _amount, closePosition);

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

/// @audit no need to cast `market` into address
247:         emit ClaimRewards(address(market));

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L114), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [189](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L189), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [232](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L232), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247), [247](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L247)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
41:         IBorrowerOperations(zap.borrowerOps()).setDelegateApproval(address(zap), approve);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
61:         _approveOperations(collateral, address(zap), dAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit no need to cast `zap` into address
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L41), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L61), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit no need to cast `accountingManager` into address
96:             IERC20(token).safeTransfer(address(accountingManager), newAmount);

/// @audit no need to cast `accountingManager` into address
96:             IERC20(token).safeTransfer(address(accountingManager), newAmount);

```
*Github:* [[96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L96), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L96)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit no need to cast `token` into address
171:             ITokenTransferCallBack(from).sendTokensToTrustedAddress(address(token), amount, caller, abi.encode(routeId));

/// @audit no need to cast `token` into address
171:             ITokenTransferCallBack(from).sendTokensToTrustedAddress(address(token), amount, caller, abi.encode(routeId));

/// @audit no need to cast `token` into address
171:             ITokenTransferCallBack(from).sendTokensToTrustedAddress(address(token), amount, caller, abi.encode(routeId));

/// @audit no need to cast `token` into address
182:         emit Forwarded(lifi, address(token), amount, data);

/// @audit no need to cast `token` into address
182:         emit Forwarded(lifi, address(token), amount, data);

/// @audit no need to cast `token` into address
182:         emit Forwarded(lifi, address(token), amount, data);

/// @audit no need to cast `token` into address
190:         return address(token) == address(0);

/// @audit no need to cast `token` into address
190:         return address(token) == address(0);

/// @audit no need to cast `token` into address
190:         return address(token) == address(0);

```
*Github:* [[171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L171), [171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L171), [171](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L171), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182), [190](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L190), [190](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L190), [190](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L190)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

/// @audit no need to cast `price` into int256
124:         uint256 uintprice = uint256(price);

/// @audit no need to cast `source` into address
129:             revert NoyaChainlinkOracle_PRICE_ORACLE_UNAVAILABLE(address(source), address(0), address(0));

/// @audit no need to cast `source` into address
129:             revert NoyaChainlinkOracle_PRICE_ORACLE_UNAVAILABLE(address(source), address(0), address(0));

/// @audit no need to cast `source` into address
129:             revert NoyaChainlinkOracle_PRICE_ORACLE_UNAVAILABLE(address(source), address(0), address(0));

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L124), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L129), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L129), [129](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L129)]


</details>


<a name="GAS-66"></a> 
### [GAS-66] Where a value is casted more than once, consider caching the result to save gas
Casting values multiple times in Solidity can be gas-inefficient. When a value undergoes repeated type conversions, the EVM must execute additional operations for each cast, consuming more gas than necessary. To optimize for gas efficiency, cache the result of the initial cast in a local variable and reuse it, rather than performing multiple casts. This not only conserves gas but also enhances code readability, reducing potential error points. For example, instead of repeatedly casting an address to uint256, cast once, store the result in a local variable, and reference that variable in subsequent operations.

<details>
<summary>
There are <b>110</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

/// @audit `address(_valueOracle)` is casted more than once in this function
127:         emit ValueOracleUpdated(address(_valueOracle));

/// @audit `address(this)` is casted more than once in this function
557:                 address(baseToken), retrieveData[i].withdrawAmount, address(this), retrieveData[i].data

/// @audit `address(this)` is casted more than once in this function
559:             uint256 balanceAfter = baseToken.balanceOf(address(this));

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L127), [557](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L557), [559](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L559)]


```solidity
File: ./contracts/connectors/AaveConnector.sol

/// @audit `address(this)` is casted more than once in this function
50:             vaultId, registry.calculatePositionId(address(this), AAVE_POSITION_ID, ""), "", "", false

/// @audit `address(this)` is casted more than once in this function
70:         IPool(pool).borrow(_borrowAsset, _amount, _interestRateMode, 0, address(this));

/// @audit `address(this)` is casted more than once in this function
72:         (,,,,, uint256 healthFactor) = IPool(pool).getUserAccountData(address(this));

/// @audit `address(this)` is casted more than once in this function
103:         (uint256 totalCollateralBase,,,,, uint256 healthFactor) = IPool(pool).getUserAccountData(address(this));

/// @audit `address(this)` is casted more than once in this function
108:                 vaultId, registry.calculatePositionId(address(this), AAVE_POSITION_ID, ""), "", "", true

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L50), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L70), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L72), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L103), [108](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AaveConnector.sol#L108)]


```solidity
File: ./contracts/connectors/AerodromeConnector.sol

/// @audit `address(aerodromeRouter)` is casted more than once in this function
56:         _approveOperations(IPool(data.pool).token1(), address(aerodromeRouter), data.amount1);

/// @audit `address(this)` is casted more than once in this function
65:             address(this),

/// @audit `address(this)` is casted more than once in this function
89:             address(this),

/// @audit `address(this)` is casted more than once in this function
92:         if (IERC20(data.pool).balanceOf(address(this)) == 0) {

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L56), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L65), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L89), [92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/AerodromeConnector.sol#L92)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

/// @audit `address(this)` is casted more than once in this function
84:             address(this), // recipient

/// @audit `address(this)` is casted more than once in this function
96:         bytes32 positionId = registry.calculatePositionId(address(this), BALANCER_LP_POSITION, abi.encode(poolId));

/// @audit `address(this)` is casted more than once in this function
102:             uint256 amount = IERC20(pool).balanceOf(address(this));

/// @audit `address(this)` is casted more than once in this function
104:             IRewardPool(_poolInfo.auraPoolAddress).deposit(auraAmount, address(this));

/// @audit `address(this)` is casted more than once in this function
133:                 payable(address(this)), // recipient

/// @audit `address(this)` is casted more than once in this function
149:                     registry.calculatePositionId(address(this), BALANCER_LP_POSITION, abi.encode(p.poolId)),

/// @audit `address(this)` is casted more than once in this function
181:         return IERC20(pool.pool).balanceOf(address(this)) + auraShares;

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L84), [96](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L96), [102](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L102), [104](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L104), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L133), [149](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L149), [181](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L181)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

/// @audit `address(this)` is casted more than once in this function
92:             require(tokens[i].balanceOf(address(this)) == 0, "BalancerFlashLoan: Flash loan extra tokens");

```
*Github:* [[92](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L92)]


```solidity
File: ./contracts/connectors/CamelotConnector.sol

/// @audit `address(router)` is casted more than once in this function
45:         _approveOperations(p.tokenB, address(router), p.amountB);

/// @audit `address(this)` is casted more than once in this function
53:             registry.calculatePositionId(address(this), CAMELOT_POSITION_ID, abi.encode(p.tokenA, p.tokenB)),

/// @audit `address(this)` is casted more than once in this function
77:         if (IERC20(pool).balanceOf(address(this)) == 0) {

/// @audit `address(this)` is casted more than once in this function
80:                 registry.calculatePositionId(address(this), CAMELOT_POSITION_ID, abi.encode(p.tokenA, p.tokenB)),

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L45), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L53), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L77), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CamelotConnector.sol#L80)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

/// @audit `address(this)` is casted more than once in this function
34:             vaultId, registry.calculatePositionId(address(this), COMPOUND_LP, abi.encode(market)), "", "", false

/// @audit `address(this)` is casted more than once in this function
55:                 vaultId, registry.calculatePositionId(address(this), COMPOUND_LP, abi.encode(_market)), "", "", true

/// @audit `address(this)` is casted more than once in this function
112:                 (uint256 collateralBalance,) = comet.userCollateral(address(this), info.asset);

```
*Github:* [[34](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L34), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L55), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L112)]


```solidity
File: ./contracts/connectors/Dolomite.sol

/// @audit `address(this)` is casted more than once in this function
53:                 vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(0), "", true

/// @audit `address(this)` is casted more than once in this function
73:             vaultId, registry.calculatePositionId(address(this), DOL_POSITION_ID, ""), abi.encode(accountId), "", true

```
*Github:* [[53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L53), [73](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L73)]


```solidity
File: ./contracts/connectors/FraxConnector.sol

/// @audit `address(this)` is casted more than once in this function
50:             pool.borrowAsset(borrowAmount, collateralAmount, address(this));

/// @audit `address(this)` is casted more than once in this function
53:             pool.addCollateral(collateralAmount, address(this));

/// @audit `address(token)` is casted more than once in this function
56:             _updateTokenInRegistry(address(token));

/// @audit `address(pool)` is casted more than once in this function
60:         emit BorrowAndSupply(address(pool), borrowAmount, collateralAmount);

/// @audit `address(this)` is casted more than once in this function
72:                 registry.calculatePositionId(address(this), COLLATERAL_AND_DEBT_POSITION_TYPE, abi.encode(pool));

/// @audit `address(this)` is casted more than once in this function
76:         pool.removeCollateral(withdrawAmount, address(this));

/// @audit `address(this)` is casted more than once in this function
95:         IFraxPair(pool).repayAsset(sharesToRepay, address(this));

/// @audit `address(pool)` is casted more than once in this function
97:         emit Repay(address(pool), sharesToRepay);

/// @audit `address(this)` is casted more than once in this function
125:         uint256 _collateralAmount = _fraxlendPair.userCollateralBalance(address(this));

/// @audit `address(this)` is casted more than once in this function
154:         uint256 borrowerShares = pool.userBorrowShares(address(this));

```
*Github:* [[50](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L50), [53](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L53), [56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L56), [60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L60), [72](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L72), [76](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L76), [95](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L95), [97](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L97), [125](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L125), [154](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/FraxConnector.sol#L154)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

/// @audit `address(this)` is casted more than once in this function
28:             registry.calculatePositionId(address(this), GEARBOX_POSITION_ID, abi.encode(facade)),

```
*Github:* [[28](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L28)]


```solidity
File: ./contracts/connectors/LidoConnector.sol

/// @audit `address(this)` is casted more than once in this function
58:         bytes32 positionId = registry.calculatePositionId(address(this), LIDO_WITHDRAWAL_REQUEST_ID, "");

/// @audit `address(this)` is casted more than once in this function
77:         IWETH(weth).deposit{ value: address(this).balance - beforeClaimBalance }();

/// @audit `address(this)` is casted more than once in this function
80:             registry.calculatePositionId(address(this), LIDO_WITHDRAWAL_REQUEST_ID, ""),

```
*Github:* [[58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L58), [77](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L77), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/LidoConnector.sol#L80)]


```solidity
File: ./contracts/connectors/MaverickConnector.sol

/// @audit `address(this)` is casted more than once in this function
126:             vaultId, registry.calculatePositionId(address(this), MAVERICK_LP, abi.encode(p.pool)), "", "", true

/// @audit `address(this)` is casted more than once in this function
143:                 rewardContract.getReward(address(this), tokenIndex);

```
*Github:* [[126](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L126), [143](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MaverickConnector.sol#L143)]


```solidity
File: ./contracts/connectors/MorphoBlueConnector.sol

/// @audit `address(morphoBlue)` is casted more than once in this function
38:             _approveOperations(params.loanToken, address(morphoBlue), amount);

/// @audit `address(this)` is casted more than once in this function
39:             morphoBlue.supply(params, amount, 0, address(this), "");

/// @audit `address(this)` is casted more than once in this function
47:             vaultId, registry.calculatePositionId(address(this), MORPHO_POSITION_ID, abi.encode(id)), "", "", false

/// @audit `address(this)` is casted more than once in this function
61:             morphoBlue.withdraw(params, amount, 0, address(this), address(this));

/// @audit `address(this)` is casted more than once in this function
61:             morphoBlue.withdraw(params, amount, 0, address(this), address(this));

/// @audit `address(this)` is casted more than once in this function
63:             morphoBlue.withdrawCollateral(params, amount, address(this), address(this));

/// @audit `address(this)` is casted more than once in this function
65:         Position memory p = morphoBlue.position(id, address(this));

/// @audit `address(this)` is casted more than once in this function
68:                 vaultId, registry.calculatePositionId(address(this), MORPHO_POSITION_ID, abi.encode(id)), "", "", true

/// @audit `address(this)` is casted more than once in this function
82:         morphoBlue.borrow(market, amount, 0, address(this), address(this));

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L38), [39](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L39), [47](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L47), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L61), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L61), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L63), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L65), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L68), [82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/MorphoBlueConnector.sol#L82)]


```solidity
File: ./contracts/connectors/PendleConnector.sol

/// @audit `address(this)` is casted more than once in this function
87:         bytes32 positionId = registry.calculatePositionId(address(this), PENDLE_POSITION_ID, abi.encode(market));

/// @audit `address(this)` is casted more than once in this function
100:         _YT.mintPY(address(this), address(this));

/// @audit `address(market)` is casted more than once in this function
115:         IERC20(address(_PT)).safeTransfer(address(market), PTamount);

/// @audit `address(market)` is casted more than once in this function
118:         emit DepositIntoMarket(address(market), SYamount, PTamount);

/// @audit `address(market)` is casted more than once in this function
195:         emit SwapExactPTForSY(address(market), exactPTIn, swapData, minSY);

/// @audit `address(market)` is casted more than once in this function
204:         IERC20(address(market)).safeTransfer(address(market), amount);

/// @audit `address(market)` is casted more than once in this function
205:         market.burn(address(this), address(market), amount);

/// @audit `address(market)` is casted more than once in this function
207:         emit BurnLP(address(market), amount);

/// @audit `address(SY)` is casted more than once in this function
221:         IERC20(address(SY)).safeTransfer(address(SY), _amount);

/// @audit `address(SY)` is casted more than once in this function
222:         IPStandardizedYield(address(SY)).redeem(address(this), _amount, _underlyingToken, 1, true);

/// @audit `address(this)` is casted more than once in this function
226:                 registry.calculatePositionId(address(this), PENDLE_POSITION_ID, abi.encode(market)),

/// @audit `address(this)` is casted more than once in this function
269:                 IERC20(market).balanceOf(address(this)) + pendleMarketDepositHelper.balance(market, address(this));

/// @audit `address(this)` is casted more than once in this function
269:                 IERC20(market).balanceOf(address(this)) + pendleMarketDepositHelper.balance(market, address(this));

/// @audit `address(this)` is casted more than once in this function
274:             uint256 PTAmount = _PT.balanceOf(address(this));

/// @audit `address(this)` is casted more than once in this function
277:             uint256 YTBalance = _YT.balanceOf(address(this));

/// @audit `address(this)` is casted more than once in this function
306:             _SY.balanceOf(address(this)) == 0 && _PT.balanceOf(address(this)) == 0 && _YT.balanceOf(address(this)) == 0

/// @audit `address(this)` is casted more than once in this function
306:             _SY.balanceOf(address(this)) == 0 && _PT.balanceOf(address(this)) == 0 && _YT.balanceOf(address(this)) == 0

/// @audit `address(this)` is casted more than once in this function
307:                 && market.balanceOf(address(this)) == 0

```
*Github:* [[87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L87), [100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L100), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L115), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L118), [195](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L195), [204](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L204), [205](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L205), [207](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L207), [221](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L221), [222](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L222), [226](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L226), [269](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L269), [269](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L269), [274](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L274), [277](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L277), [306](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L306), [306](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L306), [307](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PendleConnector.sol#L307)]


```solidity
File: ./contracts/connectors/PrismaConnector.sol

/// @audit `address(this)` is casted more than once in this function
37:             if (!registry.isPositionTrustedForConnector(vaultId, positionId, address(this))) {

/// @audit `address(this)` is casted more than once in this function
62:         zap.openTrove(tm, maxFee, dAmount, bAmount, address(this), address(this));

/// @audit `address(this)` is casted more than once in this function
62:         zap.openTrove(tm, maxFee, dAmount, bAmount, address(this), address(this));

/// @audit `address(zap)` is casted more than once in this function
66:         emit OpenTrove(address(zap), tm, maxFee, dAmount, bAmount);

/// @audit `address(this)` is casted more than once in this function
79:         if (registry.getHoldingPositionIndex(vaultId, positionId, address(this), "") == 0) {

/// @audit `address(this)` is casted more than once in this function
84:         zapContract.addColl(tm, amountIn, address(this), address(this));

/// @audit `address(this)` is casted more than once in this function
84:         zapContract.addColl(tm, amountIn, address(this), address(this));

/// @audit `address(zapContract)` is casted more than once in this function
85:         emit AddColl(address(zapContract), tm, amountIn);

/// @audit `address(this)` is casted more than once in this function
107:         if (registry.getHoldingPositionIndex(vaultId, positionId, address(this), "") == 0) {

/// @audit `address(this)` is casted more than once in this function
114:         borrowerOps.adjustTrove(tm, address(this), mFee, 0, wAmount, bAmount, isBorrowing, address(this), address(this));

/// @audit `address(this)` is casted more than once in this function
114:         borrowerOps.adjustTrove(tm, address(this), mFee, 0, wAmount, bAmount, isBorrowing, address(this), address(this));

/// @audit `address(this)` is casted more than once in this function
114:         borrowerOps.adjustTrove(tm, address(this), mFee, 0, wAmount, bAmount, isBorrowing, address(this), address(this));

/// @audit `address(this)` is casted more than once in this function
117:         uint256 healthFactor = ITroveManager(tm).getNominalICR(address(this));

/// @audit `address(this)` is casted more than once in this function
133:         borrowerOperations.closeTrove(troveManager, address(this));

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L37), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L62), [62](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L62), [66](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L66), [79](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L79), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L84), [84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L84), [85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L85), [107](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L107), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L114), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L114), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L117), [133](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/PrismaConnector.sol#L133)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

/// @audit `address(this)` is casted more than once in this function
65:         if (!SolvencyV2.isSolvent(silo, address(this), minimumHealthFactor)) {

/// @audit `address(this)` is casted more than once in this function
118:             depositAmount += IERC20(assetsS[i].collateralOnlyToken).balanceOf(address(this));

/// @audit `address(this)` is casted more than once in this function
119:             uint256 borrowAmount = IERC20(assetsS[i].debtToken).balanceOf(address(this));

/// @audit `address(this)` is casted more than once in this function
135:                     + IERC20(assetsS[i].collateralOnlyToken).balanceOf(address(this)) > 0

```
*Github:* [[65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L65), [118](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L118), [119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L119), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L135)]


```solidity
File: ./contracts/connectors/StargateConnector.sol

/// @audit `address(this)` is casted more than once in this function
60:                 stakingAmount = IERC20(lpAddress).balanceOf(address(this));

/// @audit `address(this)` is casted more than once in this function
67:             registry.calculatePositionId(address(this), STARGATE_LP_POSITION_TYPE, abi.encode(depositRequest.poolId));

/// @audit `address(this)` is casted more than once in this function
88:         uint256 LPAmount = LPStaking.userInfo(withdrawRequest.poolId, address(this)).amount;

/// @audit `address(this)` is casted more than once in this function
89:         if (IERC20(lpAddress).balanceOf(address(this)) + LPAmount == 0) {

/// @audit `address(this)` is casted more than once in this function
91:                 address(this), STARGATE_LP_POSITION_TYPE, abi.encode(withdrawRequest.poolId)

/// @audit `address(this)` is casted more than once in this function
114:         uint256 lpAmount = LPStaking.userInfo(poolId, address(this)).amount + IERC20(lpAddress).balanceOf(address(this));

```
*Github:* [[60](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L60), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L67), [88](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L88), [89](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L89), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L91), [114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/StargateConnector.sol#L114)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

/// @audit `address(this)` is casted more than once in this function
43:         p.recipient = address(this);

/// @audit `address(positionManager)` is casted more than once in this function
46:         _approveOperations(p.token1, address(positionManager), p.amount1Desired);

/// @audit `address(positionManager)` is casted more than once in this function
91:         _approveOperations(token1, address(positionManager), p.amount1Desired);

```
*Github:* [[43](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L43), [46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L46), [91](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L91)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

/// @audit `address(this)` is casted more than once in this function
141:             registry.getHoldingPositionIndex(vaultId, positionId, address(this), abi.encode(address(this)));

/// @audit `address(this)` is casted more than once in this function
144:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

/// @audit `address(this)` is casted more than once in this function
182:             uint256 _balanceAfter = IERC20(tokens[i]).balanceOf(address(this));

```
*Github:* [[141](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L141), [144](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L144), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L182)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

/// @audit `address(this)` is casted more than once in this function
85:             registry.getHoldingPositionIndex(vaultId, positionId, address(this), abi.encode(address(this)));

/// @audit `address(this)` is casted more than once in this function
87:             registry.updateHoldingPosition(vaultId, positionId, abi.encode(address(this)), "", remove);

```
*Github:* [[85](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L85), [87](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L87)]


```solidity
File: ./contracts/helpers/LZHelpers/LZHelperSender.sol

/// @audit `address(this)` is casted more than once in this function
80:         _lzSend(lzChainId, data, messageSetting, MessagingFee(address(this).balance, 0), payable(address(this))); // TODO: send event here

```
*Github:* [[80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/LZHelpers/LZHelperSender.sol#L80)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

/// @audit `address(token)` is casted more than once in this function
182:         emit Forwarded(lifi, address(token), amount, data);

```
*Github:* [[182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L182)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

/// @audit `address(oracle)` is casted more than once in this function
100:         if (address(oracle) == address(0)) {

/// @audit `address(oracle)` is casted more than once in this function
103:         if (address(oracle) == address(0)) {

/// @audit `address(oracle)` is casted more than once in this function
106:         if (address(oracle) == address(0)) {

```
*Github:* [[100](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L100), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L103), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L106)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

/// @audit `int32(period)` is casted more than once in this function
82:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % int56(int32(period)) != 0)) {

```
*Github:* [[82](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L82)]


</details>


<a name="GAS-67"></a> 
### [GAS-67] Consider not using libraries when implementing simple functionality.
When implementing certain functionalities in a smart contract, using libraries can sometimes incur additional costs compared to including the functionality directly within the contract. Libraries in Solidity are essentially contracts that get deployed separately and then linked to the main contract, so there's an overhead cost associated with calling them. If the functionality is relatively simple, this overhead can outweigh the benefits of code reuse and modularity provided by libraries. Thus, in such cases, implementing the functionality directly within the contract could be more gas-efficient. However, this approach should be balanced against considerations of code readability, maintainability, and the potential for code reuse.

*There is one instance of this issue:*
```solidity
File: ./contracts/helpers/TVLHelper.sol

7: library TVLHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L7)]



<a name="GAS-68"></a> 
### [GAS-68] It is a waste of GAS to emit variable literals
Emitting variable literals (true, false, 'hello', 1 etc...) in events is inefficient, as it consumes extra gas without providing added value. These literals are fixed values that can be accessed or hardcoded elsewhere in the smart contract or application, making their inclusion in events redundant and an unnecessary drain on resources during transaction execution.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/Registry.sol

/// @audit `false`
302:         emit HoldingPositionUpdated(vaultId, _positionId, d, AD, false, index);

```
*Github:* [[302](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L302)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

/// @audit `address(0)`
/// @audit `address(0)`
59:         emit SetSlippageTolerance(address(0), address(0), _slippageTolerance);

/// @audit `false`
160:         emit RouteUpdate(_routeId, false);

```
*Github:* [[59](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L59), [160](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L160)]



<a name="GAS-69"></a> 
### [GAS-69] Merge events to save gas
Consolidating multiple event emissions into a single event in Solidity can result in significant gas savings. Each event emission in Ethereum involves a gas cost, specifically for the topics logged with the event. By merging sequential events into a singular event, you can save on the Glogtopic cost, which is incurred for each topic of each event. This approach can save around 375 gas per additional topic. This strategy is particularly beneficial in functions where multiple related events are emitted in sequence. However, it's crucial to balance gas optimization with the clarity and utility of the event data for off-chain consumers.

*There are <b>2</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

453:     function resetMiddle(uint256 newMiddle, bool depositOrWithdraw) public onlyManager {
             if (depositOrWithdraw) {
                 emit ResetMiddle(newMiddle, depositQueue.middle, depositOrWithdraw);

```
*Github:* [[453](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L453)]


```solidity
File: ./contracts/accountingManager/Registry.sol

106:     function addVault(
             uint256 vaultId,
             address _accountingManager,
             address _baseToken,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency,
             address[] calldata _trustedTokens
         ) external onlyRole(MAINTAINER_ROLE) {
             if (vaults[vaultId].accountManager != address(0)) revert AlreadyExists();
             Vault storage vault = vaults[vaultId];
             require(_governer != address(0));
             require(_accountingManager != address(0));
             require(_baseToken != address(0));
             require(_maintainer != address(0));
             require(_keeperContract != address(0));
             require(_watcher != address(0));
     
             vault.accountManager = _accountingManager;
             vault.baseToken = _baseToken;
             vault.governer = _governer;
             vault.maintainer = _maintainer;
             vault.maintainerWithoutTimeLock = _maintainerWithoutTimelock;
             vault.keeperContract = _keeperContract;
             vault.watcherContract = _watcher;
             vault.emergency = _emergency;
             // Enable the accounting manager connector so the vault can use the "getValue" function of the accounting manager for calculating the value of tokens
             vault.connectors[vault.accountManager].enabled = true;
             vault.enabled = true;
             for (uint256 i = 0; i < _trustedTokens.length; i++) {
                 vault.connectors[vault.accountManager].trustedTokens[_trustedTokens[i]] = true;
             }
             vault.holdingPositions.push(HoldingPI(address(0), address(0), bytes32(0), "", "", type(uint256).max));
             emit VaultAdded(vaultId, _accountingManager, _baseToken, _trustedTokens);
             emit VaultAddressesChanged(

```
*Github:* [[106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106)]



<a name="GAS-70"></a> 
### [GAS-70] Consider merging sequential for loops
Merging multiple `for` loops within a function in Solidity can enhance efficiency and reduce gas costs, especially when they share a common iterating variable or perform related operations. By minimizing redundant iterations over the same data set, execution becomes more cost-effective. However, while merging can optimize gas usage and simplify logic, it may also increase code complexity. Therefore, careful balance between optimization and maintainability is essential, along with thorough testing to ensure the refactored code behaves as expected.

*There are <b>4</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

608:             for (uint256 i = 0; i < items.length; i++) {

```
*Github:* [[608](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L608)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

74:             for (uint256 i = 0; i < tokens.length; i++) {
                    // send the tokens to the receiver
                    tokens[i].safeTransfer(receiver, amounts[i]);
                    amounts[i] = amounts[i] + feeAmounts[i];
                }
                for (uint256 i = 0; i < destinationConnector.length; i++) {

```
*Github:* [[74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L74)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

178:         for (uint256 i = 0; i < tokens.length; i++) {
                 // gather all of the tokens
                 uint256 _balance = IERC20(tokens[i]).balanceOf(address(this));
                 ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");
                 uint256 _balanceAfter = IERC20(tokens[i]).balanceOf(address(this));
                 if (_balanceAfter < amounts[i] + _balance) {
                     revert IConnector_InsufficientDepositAmount(_balanceAfter - _balance, amounts[i]);
                 }
             }
             _addLiquidity(tokens, amounts, data); // call the specific implementation if the connector needs to do something after the liquidity is added
     
             for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[178](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L178)]


```solidity
File: ./contracts/helpers/ConnectorMock2.sol

41:         for (uint256 i = 0; i < tokens.length; i++) {
                // gather all of the tokens
    
                ITokenTransferCallBack(msg.sender).sendTokensToTrustedAddress(tokens[i], amounts[i], msg.sender, "");
            }
            for (uint256 i = 0; i < tokens.length; i++) {

```
*Github:* [[41](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/ConnectorMock2.sol#L41)]



<a name="GAS-71"></a> 
### [GAS-71] Only emit event in setter function if the state variable was changed
Emitting events in setter functions of smart contracts only when state variables change saves gas. This is because emitting events consumes gas, and unnecessary events, where no actual state change occurs, lead to wasteful consumption.

<details>
<summary>
There are <b>27</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

124:     function updateValueOracle(INoyaValueOracle _valueOracle) public onlyMaintainer {
             require(address(_valueOracle) != address(0));
             valueOracle = _valueOracle;
             emit ValueOracleUpdated(address(_valueOracle));

135:     function setFeeReceivers(
             address _withdrawFeeReceiver,
             address _performanceFeeReceiver,
             address _managementFeeReceiver
         ) public onlyMaintainer {
             require(_withdrawFeeReceiver != address(0));
             require(_performanceFeeReceiver != address(0));
             require(_managementFeeReceiver != address(0));
             withdrawFeeReceiver = _withdrawFeeReceiver;
             performanceFeeReceiver = _performanceFeeReceiver;
             managementFeeReceiver = _managementFeeReceiver;
             emit FeeRecepientsChanged(_withdrawFeeReceiver, _performanceFeeReceiver, _managementFeeReceiver);

170:     function setFees(uint256 _withdrawFee, uint256 _performanceFee, uint256 _managementFee) public onlyMaintainer {
             if (
                 _withdrawFee > WITHDRAWAL_MAX_FEE || _performanceFee > PERFORMANCE_MAX_FEE
                     || _managementFee > MANAGEMENT_MAX_FEE
             ) {
                 revert NoyaAccounting_INVALID_FEE();
             }
             withdrawFee = _withdrawFee;
             performanceFee = _performanceFee;
             managementFee = _managementFee;
             emit FeeRatesChanged(_withdrawFee, _performanceFee, _managementFee);

667:     function setDepositLimits(uint256 _depositLimitPerTransaction, uint256 _depositTotalAmount) public onlyMaintainer {
             depositLimitPerTransaction = _depositLimitPerTransaction;
             depositLimitTotalAmount = _depositTotalAmount;
             emit SetDepositLimits(_depositLimitPerTransaction, _depositTotalAmount);

```
*Github:* [[124](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L124), [135](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L135), [170](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L170), [667](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L667)]


```solidity
File: ./contracts/accountingManager/Registry.sol

84:     function setFlashLoanAddress(address _flashLoan) external onlyRole(MAINTAINER_ROLE) {
            emit updateFlashloanAddress(_flashLoan, flashLoan);
            flashLoan = _flashLoan;

106:     function addVault(
             uint256 vaultId,
             address _accountingManager,
             address _baseToken,
             address _governer,
             address _maintainer,
             address _maintainerWithoutTimelock,
             address _keeperContract,
             address _watcher,
             address _emergency,
             address[] calldata _trustedTokens
         ) external onlyRole(MAINTAINER_ROLE) {
             if (vaults[vaultId].accountManager != address(0)) revert AlreadyExists();
             Vault storage vault = vaults[vaultId];
             require(_governer != address(0));
             require(_accountingManager != address(0));
             require(_baseToken != address(0));
             require(_maintainer != address(0));
             require(_keeperContract != address(0));
             require(_watcher != address(0));
     
             vault.accountManager = _accountingManager;
             vault.baseToken = _baseToken;
             vault.governer = _governer;
             vault.maintainer = _maintainer;
             vault.maintainerWithoutTimeLock = _maintainerWithoutTimelock;
             vault.keeperContract = _keeperContract;
             vault.watcherContract = _watcher;
             vault.emergency = _emergency;
             // Enable the accounting manager connector so the vault can use the "getValue" function of the accounting manager for calculating the value of tokens
             vault.connectors[vault.accountManager].enabled = true;
             vault.enabled = true;
             for (uint256 i = 0; i < _trustedTokens.length; i++) {
                 vault.connectors[vault.accountManager].trustedTokens[_trustedTokens[i]] = true;
             }
             vault.holdingPositions.push(HoldingPI(address(0), address(0), bytes32(0), "", "", type(uint256).max));
             emit VaultAdded(vaultId, _accountingManager, _baseToken, _trustedTokens);
             emit VaultAddressesChanged(

```
*Github:* [[84](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L84), [106](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/Registry.sol#L106)]


```solidity
File: ./contracts/governance/Keepers.sol

42:     function updateOwners(address[] memory _owners, bool[] memory addOrRemove) public onlyOwner {
            uint256 numOwnersTemp = numOwners;
            for (uint256 i = 0; i < _owners.length; i++) {
                if (addOrRemove[i] && !isOwner[_owners[i]]) {
                    isOwner[_owners[i]] = true;
                    numOwnersTemp++;
                } else if (!addOrRemove[i] && isOwner[_owners[i]]) {
                    isOwner[_owners[i]] = false;
                    numOwnersTemp--;
                }
            }
            require(numOwnersTemp <= 10 && threshold <= numOwnersTemp && threshold > 1);
            numOwners = numOwnersTemp;
            emit UpdateOwners(_owners, addOrRemove);

63:     function setThreshold(uint8 _threshold) public onlyOwner {
            require(_threshold <= numOwners && _threshold > 1);
            threshold = _threshold;
            emit UpdateThreshold(_threshold);

```
*Github:* [[42](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L42), [63](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L63)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

45:     function updateMinimumHealthFactor(uint256 _minimumHealthFactor) external onlyMaintainer {
            if (_minimumHealthFactor < MINIMUM_HEALTH_FACTOR) {
                revert IConnector_LowHealthFactor(_minimumHealthFactor);
            }
            minimumHealthFactor = _minimumHealthFactor;
            emit MinimumHealthFactorUpdated(_minimumHealthFactor);

58:     function updateSwapHandler(address payable _swapHandler) external onlyMaintainer {
            swapHandler = SwapAndBridgeHandler(_swapHandler);
            emit SwapHandlerUpdated(_swapHandler);

67:     function updateValueOracle(address _valueOracle) external onlyMaintainer {
            valueOracle = INoyaValueOracle(_valueOracle);
            emit ValueOracleUpdated(_valueOracle);

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L45), [58](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L58), [67](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L67)]


```solidity
File: ./contracts/helpers/OmniChainHandler/OmnichainLogic.sol

46:     function updateChainInfo(uint256 chainId, address destinationAddress) external onlyMaintainer {
            require(destinationAddress != address(0));
            destChainAddress[chainId] = destinationAddress;
            emit UpdateChainInfo(chainId, destinationAddress);

57:     function updateBridgeTransactionApproval(bytes32 transactionHash) public onlyManager {
            if (approvedBridgeTXN[transactionHash] != 0) delete approvedBridgeTXN[transactionHash];
            else approvedBridgeTXN[transactionHash] = block.timestamp;
            emit UpdateBridgeTransactionApproval(transactionHash, block.timestamp);

```
*Github:* [[46](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L46), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/OmniChainHandler/OmnichainLogic.sol#L57)]


```solidity
File: ./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol

48:     function setValueOracle(address _valueOracle) external onlyMaintainerOrEmergency {
            valueOracle = INoyaValueOracle(_valueOracle);
            emit SetValueOracle(_valueOracle);

57:     function setGeneralSlippageTolerance(uint256 _slippageTolerance) external onlyMaintainerOrEmergency {
            genericSlippageTolerance = _slippageTolerance;
            emit SetSlippageTolerance(address(0), address(0), _slippageTolerance);

68:     function setSlippageTolerance(address _inputToken, address _outputToken, uint256 _slippageTolerance)
            external
            onlyMaintainerOrEmergency
        {
            slippageTolerance[_inputToken][_outputToken] = _slippageTolerance;
            emit SetSlippageTolerance(_inputToken, _outputToken, _slippageTolerance);

80:     function addEligibleUser(address _user) external onlyMaintainerOrEmergency {
            isEligibleToUse[_user] = true;
            emit AddEligibleUser(_user);

```
*Github:* [[48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L48), [57](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L57), [68](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L68), [80](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/GenericSwapAndBridgeHandler.sol#L80)]


```solidity
File: ./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol

45:     function addHandler(address _handler, bool state) external onlyOwner {
            isHandler[_handler] = state;
            emit AddedHandler(_handler, state);

55:     function addChain(uint256 _chainId, bool state) external onlyOwner {
            isChainSupported[_chainId] = state;
            emit AddedChain(_chainId, state);

65:     function addBridgeBlacklist(string memory bridgeName, bool state) external onlyOwner {
            isBridgeWhiteListed[bridgeName] = state;
            emit AddedBridgeBlacklist(bridgeName, state);

```
*Github:* [[45](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L45), [55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L55), [65](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/SwapHandler/Implementaions/LifiImplementation.sol#L65)]


```solidity
File: ./contracts/helpers/valueOracle/NoyaValueOracle.sol

37:     function updateDefaultPriceSource(address[] calldata baseCurrencies, INoyaValueOracle[] calldata oracles)
            public
            onlyMaintainer
        {
            for (uint256 i = 0; i < baseCurrencies.length; i++) {
                defaultPriceSource[baseCurrencies[i]] = oracles[i];
            }
            emit UpdatedDefaultPriceSource(baseCurrencies, oracles);

51:     function updateAssetPriceSource(address[] calldata asset, address[] calldata baseToken, address[] calldata oracle)
            external
            onlyMaintainer
        {
            for (uint256 i = 0; i < oracle.length; i++) {
                priceSource[asset[i]][baseToken[i]] = INoyaValueOracle(oracle[i]);
            }
            emit UpdatedAssetPriceSource(asset, baseToken, oracle);

61:     function updatePriceRoute(address asset, address base, address[] calldata s) external onlyMaintainer {
            priceRoutes[asset][base] = s;
            emit UpdatedPriceRoute(asset, base, s);

```
*Github:* [[37](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L37), [51](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L51), [61](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/NoyaValueOracle.sol#L61)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol

56:     function updateChainlinkPriceAgeThreshold(uint256 _chainlinkPriceAgeThreshold) external onlyMaintainer {
            if (_chainlinkPriceAgeThreshold <= 1 hours || _chainlinkPriceAgeThreshold >= 10 days) {
                revert NoyaChainlinkOracle_INVALID_INPUT();
            }
            chainlinkPriceAgeThreshold = _chainlinkPriceAgeThreshold;
            emit ChainlinkPriceAgeThresholdUpdated(_chainlinkPriceAgeThreshold);

70:     function setAssetSources(address[] calldata assets, address[] calldata baseTokens, address[] calldata sources)
            external
            onlyMaintainer
        {
            for (uint256 i = 0; i < assets.length; i++) {
                assetsSources[assets[i]][baseTokens[i]] = sources[i];
                emit AssetSourceUpdated(assets[i], baseTokens[i], sources[i]);

```
*Github:* [[56](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L56), [70](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/ChainlinkOracleConnector.sol#L70)]


```solidity
File: ./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol

38:     function setPeriod(uint32 _period) external onlyMaintainer {
            if (_period == 0) revert INoyaValueOracle_InvalidInput();
            period = _period;
            emit NewPeriod(_period);

48:     function addPool(address tokenIn, address baseToken, uint24 fee) external onlyMaintainer {
            address pool = IUniswapV3Factory(factory).getPool(tokenIn, baseToken, fee);
            require(pool != address(0), "pool doesn't exist");
            assetToBaseToPool[tokenIn][baseToken] = pool;
            emit PoolsForAsset(tokenIn, baseToken, pool);

```
*Github:* [[38](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L38), [48](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/valueOracle/oracles/UniswapValueOracle.sol#L48)]


</details>


<a name="GAS-72"></a> 
### [GAS-72] Shorten the array rather than copying to a new one
Leveraging inline assembly in Solidity provides the ability to directly manipulate the length slot of an array, thereby altering its length without the need to copy the elements to a new array of the desired size. This technique is more gas-efficient as it avoids the computational expense associated with array duplication. However, this method circumvents the type-checking and safety mechanisms of high-level Solidity and should be used judiciously. Always ensure that the array doesn't contain vital data beyond the revised length, as this data will become unreachable yet still consume storage space.

*There are <b>3</b> instances of this issue:*
```solidity
File: ./contracts/accountingManager/AccountingManager.sol

602:             depositData = new DepositRequest[](items.length);

607:             withdrawData = new WithdrawRequest[](items.length);

```
*Github:* [[602](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L602), [607](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L607)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

127:             uint256[] memory _amounts = new uint256[](tokens.length);

```
*Github:* [[127](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L127)]



<a name="GAS-73"></a> 
### [GAS-73] Variable declared within iteration

<details>
<summary>
There are <b>23</b> instances (click to show):
</summary>

```solidity
File: ./contracts/accountingManager/AccountingManager.sol

555:             uint256 balanceBefore = baseToken.balanceOf(address(this));

556:             uint256 amount = IConnector(retrieveData[i].connectorAddress).sendTokensToTrustedAddress(

559:             uint256 balanceAfter = baseToken.balanceOf(address(this));

```
*Github:* [[555](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L555), [556](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L556), [559](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/accountingManager/AccountingManager.sol#L559)]


```solidity
File: ./contracts/connectors/BalancerConnector.sol

55:             IRewardPool baseRewardPool = IRewardPool(rewardsPools[i]);

```
*Github:* [[55](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerConnector.sol#L55)]


```solidity
File: ./contracts/connectors/BalancerFlashLoan.sol

81:                 (bool success,) = destinationConnector[i].call{ value: 0, gas: gas[i] }(callingData[i]);

```
*Github:* [[81](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/BalancerFlashLoan.sol#L81)]


```solidity
File: ./contracts/connectors/CompoundConnector.sol

109:                 IComet.AssetInfo memory info = comet.getAssetInfo(i);

112:                 (uint256 collateralBalance,) = comet.userCollateral(address(this), info.asset);

115:                 uint256 collateralPriceInVirtualBase = comet.getPrice(info.priceFeed);

117:                 uint256 collateralValueInVirtualBase =

```
*Github:* [[109](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L109), [112](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L112), [115](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L115), [117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CompoundConnector.sol#L117)]


```solidity
File: ./contracts/connectors/CurveConnector.sol

249:             IConvexBasicRewards baseRewardPool = IConvexBasicRewards(rewardsPools[i]);

```
*Github:* [[249](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/CurveConnector.sol#L249)]


```solidity
File: ./contracts/connectors/Dolomite.sol

114:             uint256 value = valueOracle.getValue(tokens[i], base, amounts[i].value);

```
*Github:* [[114](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/Dolomite.sol#L114)]


```solidity
File: ./contracts/connectors/GearBoxV3.sol

71:             bytes4 method = bytes4(calls[i].callData[:4]);

74:                 (address token) = abi.decode(calls[i].callData[4:], (address));

```
*Github:* [[71](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L71), [74](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/GearBoxV3.sol#L74)]


```solidity
File: ./contracts/connectors/SiloConnector.sol

117:             uint256 depositAmount = IERC20(assetsS[i].collateralToken).balanceOf(address(this));

119:             uint256 borrowAmount = IERC20(assetsS[i].debtToken).balanceOf(address(this));

123:             uint256 price = _getValue(assets[i], base, 1e18);

```
*Github:* [[117](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L117), [119](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L119), [123](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/SiloConnector.sol#L123)]


```solidity
File: ./contracts/connectors/UNIv3Connector.sol

103:             (, address token0, address token1) = getCurrentLiquidity(tokenIds[i]);

103:             (, address token0, address token1) = getCurrentLiquidity(tokenIds[i]);

```
*Github:* [[103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L103), [103](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/connectors/UNIv3Connector.sol#L103)]


```solidity
File: ./contracts/governance/Keepers.sol

105:                 address recovered = ECDSA.recover(totalHash, sigV[i], sigR[i], sigS[i]);

```
*Github:* [[105](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/governance/Keepers.sol#L105)]


```solidity
File: ./contracts/helpers/BaseConnector.sol

180:             uint256 _balance = IERC20(tokens[i]).balanceOf(address(this));

182:             uint256 _balanceAfter = IERC20(tokens[i]).balanceOf(address(this));

```
*Github:* [[180](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L180), [182](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/BaseConnector.sol#L182)]


```solidity
File: ./contracts/helpers/TVLHelper.sol

22:             uint256 tvl = IConnector(positions[i].calculatorConnector).getPositionTVL(positions[i], baseToken);

23:             bool isPositionDebt = registry.isPositionDebt(vaultId, positions[i].positionId);

```
*Github:* [[22](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L22), [23](https://github.com/code-423n4/2024-04-noya/blob/9c79b332eff82011dcfa1e8fd51bad805159d758/./contracts/helpers/TVLHelper.sol#L23)]


</details>


